let e;try{if(document.currentScript)e=document.currentScript.getAttribute("fast-kernel");else{const t=document.getElementsByTagName("script");e=t[t.length-1].getAttribute("fast-kernel")}}catch(t){e="isolate"}let t;switch(e){case"share":t=Object.freeze({updateQueue:1,observable:2,contextEvent:3,elementRegistry:4});break;case"share-v2":t=Object.freeze({updateQueue:1.2,observable:2.2,contextEvent:3.2,elementRegistry:4.2});break;default:const e=`-${Math.random().toString(36).substring(2,8)}`;t=Object.freeze({updateQueue:`1.2${e}`,observable:`2.2${e}`,contextEvent:`3.2${e}`,elementRegistry:`4.2${e}`})}const i=e=>"function"==typeof e,s=e=>"string"==typeof e,n=()=>{};!function(){if("undefined"==typeof globalThis)if("undefined"!=typeof global)global.globalThis=global;else if("undefined"!=typeof self)self.globalThis=self;else if("undefined"!=typeof window)window.globalThis=window;else{const e=new Function("return this")();e.globalThis=e}}();const o={configurable:!1,enumerable:!1,writable:!1};void 0===globalThis.FAST&&Reflect.defineProperty(globalThis,"FAST",Object.assign({value:Object.create(null)},o));const r=globalThis.FAST;if(void 0===r.getById){const e=Object.create(null);Reflect.defineProperty(r,"getById",Object.assign({value(t,i){let s=e[t];return void 0===s&&(s=i?e[t]=i():null),s}},o))}void 0===r.error&&Object.assign(r,{warn(){},error:e=>new Error(`Error ${e}`),addMessages(){}});const a=Object.freeze([]);function l(){const e=new Map;return Object.freeze({register:t=>!e.has(t.type)&&(e.set(t.type,t),!0),getByType:t=>e.get(t),getForInstance(t){if(null!=t)return e.get(t.constructor)}})}function d(){const e=new WeakMap;return function(t){let i=e.get(t);if(void 0===i){let s=Reflect.getPrototypeOf(t);for(;void 0===i&&null!==s;)i=e.get(s),s=Reflect.getPrototypeOf(s);i=void 0===i?[]:i.slice(0),e.set(t,i)}return i}}function h(e){e.prototype.toJSON=n}const c=Object.freeze({none:0,attribute:1,booleanAttribute:2,property:3,content:4,tokenList:5,event:6}),u=e=>e,p=globalThis.trustedTypes?globalThis.trustedTypes.createPolicy("fast-html",{createHTML:u}):{createHTML:u};let m=Object.freeze({createHTML:e=>p.createHTML(e),protect:(e,t,i,s)=>s});const f=m,v=Object.freeze({get policy(){return m},setPolicy(e){if(m!==f)throw r.error(1201);m=e},setAttribute(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)},setBooleanAttribute(e,t,i){i?e.setAttribute(t,""):e.removeAttribute(t)}}),g=r.getById(t.updateQueue,(()=>{const e=[],t=[],i=globalThis.requestAnimationFrame;let s=!0;function n(){if(t.length)throw t.shift()}function o(i){try{i.call()}catch(i){if(!s)throw e.length=0,i;t.push(i),setTimeout(n,0)}}function r(){let t=0;for(;t<e.length;)if(o(e[t]),t++,t>1024){for(let i=0,s=e.length-t;i<s;i++)e[i]=e[i+t];e.length-=t,t=0}e.length=0}function a(t){e.push(t),e.length<2&&(s?i(r):r())}return Object.freeze({enqueue:a,next:()=>new Promise(a),process:r,setMode:e=>s=e})}));class b{constructor(e,t){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.subject=e,this.sub1=t}has(e){return void 0===this.spillover?this.sub1===e||this.sub2===e:-1!==this.spillover.indexOf(e)}subscribe(e){const t=this.spillover;if(void 0===t){if(this.has(e))return;if(void 0===this.sub1)return void(this.sub1=e);if(void 0===this.sub2)return void(this.sub2=e);this.spillover=[this.sub1,this.sub2,e],this.sub1=void 0,this.sub2=void 0}else{-1===t.indexOf(e)&&t.push(e)}}unsubscribe(e){const t=this.spillover;if(void 0===t)this.sub1===e?this.sub1=void 0:this.sub2===e&&(this.sub2=void 0);else{const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}notify(e){const t=this.spillover,i=this.subject;if(void 0===t){const t=this.sub1,s=this.sub2;void 0!==t&&t.handleChange(i,e),void 0!==s&&s.handleChange(i,e)}else for(let s=0,n=t.length;s<n;++s)t[s].handleChange(i,e)}}class y{constructor(e){this.subscribers={},this.subjectSubscribers=null,this.subject=e}notify(e){var t,i;null===(t=this.subscribers[e])||void 0===t||t.notify(e),null===(i=this.subjectSubscribers)||void 0===i||i.notify(e)}subscribe(e,t){var i,s;let n;n=t?null!==(i=this.subscribers[t])&&void 0!==i?i:this.subscribers[t]=new b(this.subject):null!==(s=this.subjectSubscribers)&&void 0!==s?s:this.subjectSubscribers=new b(this.subject),n.subscribe(e)}unsubscribe(e,t){var i,s;t?null===(i=this.subscribers[t])||void 0===i||i.unsubscribe(e):null===(s=this.subjectSubscribers)||void 0===s||s.unsubscribe(e)}}const x=Object.freeze({unknown:void 0,coupled:1}),w=r.getById(t.observable,(()=>{const e=g.enqueue,t=/(:|&&|\|\||if)/,n=new WeakMap;let o,a=e=>{throw r.error(1101)};function l(e){var t;let i=null!==(t=e.$fastController)&&void 0!==t?t:n.get(e);return void 0===i&&(Array.isArray(e)?i=a(e):n.set(e,i=new y(e))),i}const c=d();class u{constructor(e){this.name=e,this.field=`_${e}`,this.callback=`${e}Changed`}getValue(e){return void 0!==o&&o.watch(e,this.name),e[this.field]}setValue(e,t){const s=this.field,n=e[s];if(n!==t){e[s]=t;const o=e[this.callback];i(o)&&o.call(e,n,t),l(e).notify(this.name)}}}class p extends b{constructor(e,t,i=!1){super(e,t),this.expression=e,this.isVolatileBinding=i,this.needsRefresh=!0,this.needsQueue=!0,this.isAsync=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}setMode(e){this.isAsync=this.needsQueue=e}bind(e){this.controller=e;const t=this.observe(e.source,e.context);return!e.isBound&&this.requiresUnbind(e)&&e.onUnbind(this),t}requiresUnbind(e){return e.sourceLifetime!==x.coupled||this.first!==this.last||this.first.propertySource!==e.source}unbind(e){this.dispose()}observe(e,t){this.needsRefresh&&null!==this.last&&this.dispose();const i=o;let s;o=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;try{s=this.expression(e,t)}finally{o=i}return s}disconnect(){this.dispose()}dispose(){if(null!==this.last){let e=this.first;for(;void 0!==e;)e.notifier.unsubscribe(this,e.propertyName),e=e.next;this.last=null,this.needsRefresh=this.needsQueue=this.isAsync}}watch(e,t){const i=this.last,s=l(e),n=null===i?this.first:{};if(n.propertySource=e,n.propertyName=t,n.notifier=s,s.subscribe(this,t),null!==i){if(!this.needsRefresh){let t;o=void 0,t=i.propertySource[i.propertyName],o=this,e===t&&(this.needsRefresh=!0)}i.next=n}this.last=n}handleChange(){this.needsQueue?(this.needsQueue=!1,e(this)):this.isAsync||this.call()}call(){null!==this.last&&(this.needsQueue=this.isAsync,this.notify(this))}*records(){let e=this.first;for(;void 0!==e;)yield e,e=e.next}}return h(p),Object.freeze({setArrayObserverFactory(e){a=e},getNotifier:l,track(e,t){o&&o.watch(e,t)},trackVolatile(){o&&(o.needsRefresh=!0)},notify(e,t){l(e).notify(t)},defineProperty(e,t){s(t)&&(t=new u(t)),c(e).push(t),Reflect.defineProperty(e,t.name,{enumerable:!0,get(){return t.getValue(this)},set(e){t.setValue(this,e)}})},getAccessors:c,binding(e,t,i=this.isVolatileBinding(e)){return new p(e,t,i)},isVolatileBinding:e=>t.test(e.toString())})}));function C(e,t){w.defineProperty(e,t)}function $(e,t,i){return Object.assign({},i,{get(){return w.trackVolatile(),i.get.apply(this)}})}const k=r.getById(t.contextEvent,(()=>{let e=null;return{get:()=>e,set(t){e=t}}})),I=Object.freeze({default:{index:0,length:0,get event(){return I.getEvent()},eventDetail(){return this.event.detail},eventTarget(){return this.event.target}},getEvent:()=>k.get(),setEvent(e){k.set(e)}});class E{constructor(e,t,i){this.index=e,this.removed=t,this.addedCount=i}adjustTo(e){let t=this.index;const i=e.length;return t>i?t=i-this.addedCount:t<0&&(t=i+this.removed.length+t-this.addedCount),this.index=t<0?0:t,this}}const T=Object.freeze({reset:1,splice:2,optimized:3}),S=new E(0,a,0);S.reset=!0;const O=[S];function A(e,t,i,s,n,o){let r=0,l=0;const d=Math.min(i-t,o-n);if(0===t&&0===n&&(r=function(e,t,i){for(let s=0;s<i;++s)if(e[s]!==t[s])return s;return i}(e,s,d)),i===e.length&&o===s.length&&(l=function(e,t,i){let s=e.length,n=t.length,o=0;for(;o<i&&e[--s]===t[--n];)o++;return o}(e,s,d-r)),n+=r,o-=l,(i-=l)-(t+=r)==0&&o-n==0)return a;if(t===i){const e=new E(t,[],0);for(;n<o;)e.removed.push(s[n++]);return[e]}if(n===o)return[new E(t,[],i-t)];const h=function(e){let t=e.length-1,i=e[0].length-1,s=e[t][i];const n=[];for(;t>0||i>0;){if(0===t){n.push(2),i--;continue}if(0===i){n.push(3),t--;continue}const o=e[t-1][i-1],r=e[t-1][i],a=e[t][i-1];let l;l=r<a?r<o?r:o:a<o?a:o,l===o?(o===s?n.push(0):(n.push(1),s=o),t--,i--):l===r?(n.push(3),t--,s=r):(n.push(2),i--,s=a)}return n.reverse()}(function(e,t,i,s,n,o){const r=o-n+1,a=i-t+1,l=new Array(r);let d,h;for(let e=0;e<r;++e)l[e]=new Array(a),l[e][0]=e;for(let e=0;e<a;++e)l[0][e]=e;for(let i=1;i<r;++i)for(let o=1;o<a;++o)e[t+o-1]===s[n+i-1]?l[i][o]=l[i-1][o-1]:(d=l[i-1][o]+1,h=l[i][o-1]+1,l[i][o]=d<h?d:h);return l}(e,t,i,s,n,o)),c=[];let u,p=t,m=n;for(let e=0;e<h.length;++e)switch(h[e]){case 0:void 0!==u&&(c.push(u),u=void 0),p++,m++;break;case 1:void 0===u&&(u=new E(p,[],0)),u.addedCount++,p++,u.removed.push(s[m]),m++;break;case 2:void 0===u&&(u=new E(p,[],0)),u.addedCount++,p++;break;case 3:void 0===u&&(u=new E(p,[],0)),u.removed.push(s[m]),m++}return void 0!==u&&c.push(u),c}function R(e,t){let i=!1,s=0;for(let l=0;l<t.length;l++){const d=t[l];if(d.index+=s,i)continue;const h=(n=e.index,o=e.index+e.removed.length,r=d.index,a=d.index+d.addedCount,o<r||a<n?-1:o===r||a===n?0:n<r?o<a?o-r:a-r:a<o?a-n:o-n);if(h>=0){t.splice(l,1),l--,s-=d.addedCount-d.removed.length,e.addedCount+=d.addedCount-h;const n=e.removed.length+d.removed.length-h;if(e.addedCount||n){let t=d.removed;if(e.index<d.index){const i=e.removed.slice(0,d.index-e.index);i.push(...t),t=i}if(e.index+e.removed.length>d.index+d.addedCount){const i=e.removed.slice(d.index+d.addedCount-e.index);t.push(...i)}e.removed=t,d.index<e.index&&(e.index=d.index)}else i=!0}else if(e.index<d.index){i=!0,t.splice(l,0,e),l++;const n=e.addedCount-e.removed.length;d.index+=n,s+=n}}var n,o,r,a;i||t.push(e)}let D=Object.freeze({support:T.optimized,normalize:(e,t,i)=>void 0===e?void 0===i?a:i.length>1?function(e,t){let i=[];const s=[];for(let e=0,i=t.length;e<i;e++)R(t[e],s);for(let t=0,n=s.length;t<n;++t){const n=s[t];1!==n.addedCount||1!==n.removed.length?i=i.concat(A(e,n.index,n.index+n.addedCount,n.removed,0,n.removed.length)):n.removed[0]!==e[n.index]&&i.push(n)}return i}(t,i):i:O,pop(e,t,i,s){const n=e.length>0,o=i.apply(e,s);return n&&t.addSplice(new E(e.length,[o],0)),o},push(e,t,i,s){const n=i.apply(e,s);return t.addSplice(new E(e.length-s.length,[],s.length).adjustTo(e)),n},reverse(e,t,i,s){const n=i.apply(e,s);return t.reset(e),n},shift(e,t,i,s){const n=e.length>0,o=i.apply(e,s);return n&&t.addSplice(new E(0,[o],0)),o},sort(e,t,i,s){const n=i.apply(e,s);return t.reset(e),n},splice(e,t,i,s){const n=i.apply(e,s);return t.addSplice(new E(+s[0],n,s.length>2?s.length-2:0).adjustTo(e)),n},unshift(e,t,i,s){const n=i.apply(e,s);return t.addSplice(new E(0,[],s.length).adjustTo(e)),n}});const L=Object.freeze({reset:O,setDefaultStrategy(e){D=e}});function F(e,t,i){Reflect.defineProperty(e,t,{value:i,enumerable:!1})}class M extends b{constructor(e){super(e),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this._strategy=null,this._lengthObserver=void 0,this.call=this.flush,F(e,"$fastController",this)}get strategy(){return this._strategy}set strategy(e){this._strategy=e}get lengthObserver(){let e=this._lengthObserver;if(void 0===e){const t=this.subject;this._lengthObserver=e={length:t.length,handleChange(){this.length!==t.length&&(this.length=t.length,w.notify(e,"length"))}},this.subscribe(e)}return e}subscribe(e){this.flush(),super.subscribe(e)}addSplice(e){void 0===this.splices?this.splices=[e]:this.splices.push(e),this.enqueue()}reset(e){this.oldCollection=e,this.enqueue()}flush(){var e;const t=this.splices,i=this.oldCollection;void 0===t&&void 0===i||(this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0,this.notify((null!==(e=this._strategy)&&void 0!==e?e:D).normalize(i,this.subject,t)))}enqueue(){this.needsQueue&&(this.needsQueue=!1,g.enqueue(this))}}let V=!1;const P=Object.freeze({enable(){if(V)return;V=!0,w.setArrayObserverFactory((e=>new M(e)));const e=Array.prototype;e.$fastPatch||(F(e,"$fastPatch",1),[e.pop,e.push,e.reverse,e.shift,e.sort,e.splice,e.unshift].forEach((t=>{e[t.name]=function(...e){var i;const s=this.$fastController;return void 0===s?t.apply(this,e):(null!==(i=s.strategy)&&void 0!==i?i:D)[t.name](this,s,t,e)}})))}});function H(e){if(!e)return 0;let t=e.$fastController;return void 0===t&&(P.enable(),t=w.getNotifier(e)),w.track(t.lengthObserver,"length"),e.length}class N{constructor(e,t,i=!1){this.evaluate=e,this.policy=t,this.isVolatile=i}}class z extends N{createObserver(e){return w.binding(this.evaluate,e,this.isVolatile)}}function B(e,t,i=w.isVolatileBinding(e)){return new z(e,t,i)}function _(e,t){const i=new z(e);return i.options=t,i}class j extends N{createObserver(){return this}bind(e){return this.evaluate(e.source,e.context)}}function q(e,t){return new j(e,t)}function U(e){return i(e)?B(e):e instanceof N?e:q((()=>e))}let K;function W(e){return e.map((e=>e instanceof G?W(e.styles):[e])).reduce(((e,t)=>e.concat(t)),[])}h(j);class G{constructor(e){this.styles=e,this.targets=new WeakSet,this._strategy=null,this.behaviors=e.map((e=>e instanceof G?e.behaviors:null)).reduce(((e,t)=>null===t?e:null===e?t:e.concat(t)),null)}get strategy(){return null===this._strategy&&this.withStrategy(K),this._strategy}addStylesTo(e){this.strategy.addStylesTo(e),this.targets.add(e)}removeStylesFrom(e){this.strategy.removeStylesFrom(e),this.targets.delete(e)}isAttachedTo(e){return this.targets.has(e)}withBehaviors(...e){return this.behaviors=null===this.behaviors?e:this.behaviors.concat(e),this}withStrategy(e){return this._strategy=new e(W(this.styles)),this}static setDefaultStrategy(e){K=e}static normalize(e){return void 0===e?void 0:Array.isArray(e)?new G(e):e instanceof G?e:new G([e])}}G.supportsAdoptedStyleSheets=Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype;const Y=l(),X=Object.freeze({getForInstance:Y.getForInstance,getByType:Y.getByType,define:e=>(Y.register({type:e}),e)});function Q(){return function(e){X.define(e)}}function Z(e,t,i){t.source.style.setProperty(e.targetAspect,i.bind(t))}class J{constructor(e,t){this.dataBinding=e,this.targetAspect=t}createCSS(e){return e(this),`var(${this.targetAspect})`}addedCallback(e){var t;const i=e.source;if(!i.$cssBindings){i.$cssBindings=new Map;const e=i.setAttribute;i.setAttribute=(t,s)=>{e.call(i,t,s),"style"===t&&i.$cssBindings.forEach(((e,t)=>Z(t,e.controller,e.observer)))}}const s=null!==(t=e[this.targetAspect])&&void 0!==t?t:e[this.targetAspect]=this.dataBinding.createObserver(this,this);s.controller=e,e.source.$cssBindings.set(this,{controller:e,observer:s})}connectedCallback(e){Z(this,e,e[this.targetAspect])}removedCallback(e){e.source.$cssBindings&&e.source.$cssBindings.delete(this)}handleChange(e,t){Z(this,t.controller,t)}}X.define(J);const ee=`${Math.random().toString(36).substring(2,8)}`;let te=0;const ie=()=>`--v${ee}${++te}`;function se(e,t){const s=[];let n="";const o=[],r=e=>{o.push(e)};for(let o=0,a=e.length-1;o<a;++o){n+=e[o];let a=t[o];i(a)?a=new J(B(a),ie()).createCSS(r):a instanceof N?a=new J(a,ie()).createCSS(r):void 0!==X.getForInstance(a)&&(a=a.createCSS(r)),a instanceof G||a instanceof CSSStyleSheet?(""!==n.trim()&&(s.push(n),n=""),s.push(a)):n+=a}return n+=e[e.length-1],""!==n.trim()&&s.push(n),{styles:s,behaviors:o}}const ne=(e,...t)=>{const{styles:i,behaviors:s}=se(e,t),n=new G(i);return s.length?n.withBehaviors(...s):n};class oe{constructor(e,t){this.behaviors=t,this.css="";const i=e.reduce(((e,t)=>(s(t)?this.css+=t:e.push(t),e)),[]);i.length&&(this.styles=new G(i))}createCSS(e){return this.behaviors.forEach(e),this.styles&&e(this),this.css}addedCallback(e){e.addStyles(this.styles)}removedCallback(e){e.removeStyles(this.styles)}}X.define(oe),ne.partial=(e,...t)=>{const{styles:i,behaviors:s}=se(e,t);return new oe(i,s)};const re=`fast-${Math.random().toString(36).substring(2,8)}`,ae=`${re}{`,le=`}${re}`,de=le.length;let he=0;const ce=()=>`${re}-${++he}`,ue=Object.freeze({interpolation:e=>`${ae}${e}${le}`,attribute:e=>`${ce()}="${ae}${e}${le}"`,comment:e=>`\x3c!--${ae}${e}${le}--\x3e`}),pe=Object.freeze({parse(e,t){const i=e.split(ae);if(1===i.length)return null;const s=[];for(let e=0,n=i.length;e<n;++e){const n=i[e],o=n.indexOf(le);let r;if(-1===o)r=n;else{const e=n.substring(0,o);s.push(t[e]),r=n.substring(o+de)}""!==r&&s.push(r)}return s}}),me=l(),fe=Object.freeze({getForInstance:me.getForInstance,getByType:me.getByType,define:(e,t)=>((t=t||{}).type=e,me.register(t),e),assignAspect(e,t){if(t)switch(e.sourceAspect=t,t[0]){case":":e.targetAspect=t.substring(1),e.aspectType="classList"===e.targetAspect?c.tokenList:c.property;break;case"?":e.targetAspect=t.substring(1),e.aspectType=c.booleanAttribute;break;case"@":e.targetAspect=t.substring(1),e.aspectType=c.event;break;default:e.targetAspect=t,e.aspectType=c.attribute}else e.aspectType=c.content}});function ve(e){return function(t){fe.define(t,e)}}class ge{constructor(e){this.options=e}createHTML(e){return ue.attribute(e(this))}createBehavior(){return this}}h(ge);const be={[c.attribute]:v.setAttribute,[c.booleanAttribute]:v.setBooleanAttribute,[c.property]:(e,t,i)=>e[t]=i,[c.content]:function(e,t,i,s){if(null==i&&(i=""),i.create){e.textContent="";let t=e.$fastView;void 0===t?t=i.create():e.$fastTemplate!==i&&(t.isComposed&&(t.remove(),t.unbind()),t=i.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(s.source,s.context)):(t.isComposed=!0,t.bind(s.source,s.context),t.insertBefore(e),e.$fastView=t,e.$fastTemplate=i)}else{const t=e.$fastView;void 0!==t&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),e.textContent=i}},[c.tokenList]:function(e,t,i){var s;const n=`${this.id}-t`,o=null!==(s=e[n])&&void 0!==s?s:e[n]={v:0,cv:Object.create(null)},r=o.cv;let a=o.v;const l=e[t];if(null!=i&&i.length){const e=i.split(/\s+/);for(let t=0,i=e.length;t<i;++t){const i=e[t];""!==i&&(r[i]=a,l.add(i))}}if(o.v=a+1,0!==a){a-=1;for(const e in r)r[e]===a&&l.remove(e)}},[c.event]:()=>{}};class ye{constructor(e){this.dataBinding=e,this.updateTarget=null,this.aspectType=c.content}createHTML(e){return ue.interpolation(e(this))}createBehavior(){var e;if(null===this.updateTarget){const t=be[this.aspectType],i=null!==(e=this.dataBinding.policy)&&void 0!==e?e:this.policy;if(!t)throw r.error(1205);this.data=`${this.id}-d`,this.updateTarget=i.protect(this.targetTagName,this.aspectType,this.targetAspect,t)}return this}bind(e){var t;const i=e.targets[this.targetNodeId];switch(this.aspectType){case c.event:i[this.data]=e,i.addEventListener(this.targetAspect,this,this.dataBinding.options);break;case c.content:e.onUnbind(this);default:const s=null!==(t=i[this.data])&&void 0!==t?t:i[this.data]=this.dataBinding.createObserver(this,this);s.target=i,s.controller=e,this.updateTarget(i,this.targetAspect,s.bind(e),e)}}unbind(e){const t=e.targets[this.targetNodeId].$fastView;void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}handleEvent(e){const t=e.currentTarget[this.data];if(t.isBound){I.setEvent(e);const i=this.dataBinding.evaluate(t.source,t.context);I.setEvent(null),!0!==i&&e.preventDefault()}}handleChange(e,t){const i=t.target,s=t.controller;this.updateTarget(i,this.targetAspect,t.bind(s),s)}}function xe(e,t){const i=e.parentNode;let s,n=e;for(;n!==t;)s=n.nextSibling,i.removeChild(n),n=s;i.removeChild(t)}fe.define(ye,{aspected:!0});class we{constructor(e,t,i){this.fragment=e,this.factories=t,this.targets=i,this.behaviors=null,this.unbindables=[],this.source=null,this.isBound=!1,this.sourceLifetime=x.unknown,this.context=this,this.index=0,this.length=0,this.firstChild=e.firstChild,this.lastChild=e.lastChild}get event(){return I.getEvent()}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}eventDetail(){return this.event.detail}eventTarget(){return this.event.target}appendTo(e){e.appendChild(this.fragment)}insertBefore(e){if(this.fragment.hasChildNodes())e.parentNode.insertBefore(this.fragment,e);else{const t=this.lastChild;if(e.previousSibling===t)return;const i=e.parentNode;let s,n=this.firstChild;for(;n!==t;)s=n.nextSibling,i.insertBefore(n,e),n=s;i.insertBefore(t,e)}}remove(){const e=this.fragment,t=this.lastChild;let i,s=this.firstChild;for(;s!==t;)i=s.nextSibling,e.appendChild(s),s=i;e.appendChild(t)}dispose(){xe(this.firstChild,this.lastChild),this.unbind()}onUnbind(e){this.unbindables.push(e)}bind(e,t=this){if(this.source===e)return;let i=this.behaviors;if(null===i){this.source=e,this.context=t,this.behaviors=i=new Array(this.factories.length);const s=this.factories;for(let e=0,t=s.length;e<t;++e){const t=s[e].createBehavior();t.bind(this),i[e]=t}}else{null!==this.source&&this.evaluateUnbindables(),this.isBound=!1,this.source=e,this.context=t;for(let e=0,t=i.length;e<t;++e)i[e].bind(this)}this.isBound=!0}unbind(){this.isBound&&null!==this.source&&(this.evaluateUnbindables(),this.source=null,this.context=this,this.isBound=!1)}evaluateUnbindables(){const e=this.unbindables;for(let t=0,i=e.length;t<i;++t)e[t].unbind(this);e.length=0}static disposeContiguousBatch(e){if(0!==e.length){xe(e[0].firstChild,e[e.length-1].lastChild);for(let t=0,i=e.length;t<i;++t)e[t].unbind()}}}h(we),w.defineProperty(we.prototype,"index"),w.defineProperty(we.prototype,"length");const Ce=(e,t)=>`${e}.${t}`,$e={},ke={index:0,node:null};function Ie(e){e.startsWith("fast-")||r.warn(1204,{name:e})}const Ee=new Proxy(document.createElement("div"),{get(e,t){Ie(t);const s=Reflect.get(e,t);return i(s)?s.bind(e):s},set:(e,t,i)=>(Ie(t),Reflect.set(e,t,i))});class Te{constructor(e,t,i){this.fragment=e,this.directives=t,this.policy=i,this.proto=null,this.nodeIds=new Set,this.descriptors={},this.factories=[]}addFactory(e,t,i,s,n){var o,r;this.nodeIds.has(i)||(this.nodeIds.add(i),this.addTargetDescriptor(t,i,s)),e.id=null!==(o=e.id)&&void 0!==o?o:ce(),e.targetNodeId=i,e.targetTagName=n,e.policy=null!==(r=e.policy)&&void 0!==r?r:this.policy,this.factories.push(e)}freeze(){return this.proto=Object.create(null,this.descriptors),this}addTargetDescriptor(e,t,i){const s=this.descriptors;if("r"===t||"h"===t||s[t])return;if(!s[e]){const t=e.lastIndexOf("."),i=e.substring(0,t),s=parseInt(e.substring(t+1));this.addTargetDescriptor(i,e,s)}let n=$e[t];if(!n){const s=`_${t}`;$e[t]=n={get(){var t;return null!==(t=this[s])&&void 0!==t?t:this[s]=this[e].childNodes[i]}}}s[t]=n}createView(e){const t=this.fragment.cloneNode(!0),i=Object.create(this.proto);i.r=t,i.h=null!=e?e:Ee;for(const e of this.nodeIds)i[e];return new we(t,this.factories,i)}}function Se(e,t,i,s,n,o=!1){const r=i.attributes,a=e.directives;for(let l=0,d=r.length;l<d;++l){const h=r[l],c=h.value,u=pe.parse(c,a);let p=null;null===u?o&&(p=new ye(q((()=>c),e.policy)),fe.assignAspect(p,h.name)):p=Re.aggregate(u,e.policy),null!==p&&(i.removeAttributeNode(h),l--,d--,e.addFactory(p,t,s,n,i.tagName))}}function Oe(e,t,i){let s=0,n=t.firstChild;for(;n;){const t=Ae(e,i,n,s);n=t.node,s=t.index}}function Ae(e,t,i,n){const o=Ce(t,n);switch(i.nodeType){case 1:Se(e,t,i,o,n),Oe(e,i,o);break;case 3:return function(e,t,i,n,o){const r=pe.parse(t.textContent,e.directives);if(null===r)return ke.node=t.nextSibling,ke.index=o+1,ke;let a,l=a=t;for(let t=0,d=r.length;t<d;++t){const d=r[t];0!==t&&(o++,n=Ce(i,o),a=l.parentNode.insertBefore(document.createTextNode(""),l.nextSibling)),s(d)?a.textContent=d:(a.textContent=" ",fe.assignAspect(d),e.addFactory(d,i,n,o,null)),l=a}return ke.index=o+1,ke.node=l.nextSibling,ke}(e,i,t,o,n);case 8:const r=pe.parse(i.data,e.directives);null!==r&&e.addFactory(Re.aggregate(r),t,o,n,null)}return ke.index=n+1,ke.node=i.nextSibling,ke}const Re={compile(e,t,i=v.policy){let n;if(s(e)){n=document.createElement("TEMPLATE"),n.innerHTML=i.createHTML(e);const t=n.content.firstElementChild;null!==t&&"TEMPLATE"===t.tagName&&(n=t)}else n=e;const o=document.adoptNode(n.content),r=new Te(o,t,i);var a,l;return Se(r,"",n,"h",0,!0),a=o.firstChild,l=t,(a&&8==a.nodeType&&null!==pe.parse(a.data,l)||1===o.childNodes.length&&Object.keys(t).length>0)&&o.insertBefore(document.createComment(""),o.firstChild),Oe(r,o,"r"),ke.node=null,r.freeze()},setDefaultStrategy(e){this.compile=e},aggregate(e,t=v.policy){if(1===e.length)return e[0];let i,n,o,r=!1;const a=e.length,l=e.map((e=>s(e)?()=>e:(i=e.sourceAspect||i,n=e.dataBinding||n,r=r||e.dataBinding.isVolatile,o=o||e.dataBinding.policy,e.dataBinding.evaluate)));n.evaluate=(e,t)=>{let i="";for(let s=0;s<a;++s)i+=l[s](e,t);return i},n.isVolatile=r,n.policy=null!=o?o:t;const d=new ye(n);return fe.assignAspect(d,i),d}},De=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,Le=Object.create(null);class Fe{constructor(e,t=Le){this.html=e,this.factories=t}createHTML(e){const t=this.factories;for(const i in t)e(t[i]);return this.html}}function Me(e,t,i,s=fe.getForInstance(e)){if(s.aspected){const i=De.exec(t);null!==i&&fe.assignAspect(e,i[2])}return e.createHTML(i)}Fe.empty=new Fe(""),fe.define(Fe);class Ve{constructor(e,t={},i){this.policy=i,this.result=null,this.html=e,this.factories=t}create(e){return null===this.result&&(this.result=Re.compile(this.html,this.factories,this.policy)),this.result.createView(e)}inline(){return new Fe(s(this.html)?this.html:this.html.innerHTML,this.factories)}withPolicy(e){if(this.result)throw r.error(1208);if(this.policy)throw r.error(1207);return this.policy=e,this}render(e,t,i){const s=this.create(i);return s.bind(e),s.appendTo(t),s}static create(e,t,s){let n="";const o=Object.create(null),r=e=>{var t;const i=null!==(t=e.id)&&void 0!==t?t:e.id=ce();return o[i]=e,i};for(let s=0,o=e.length-1;s<o;++s){const o=e[s];let a,l=t[s];if(n+=o,i(l))l=new ye(B(l));else if(l instanceof N)l=new ye(l);else if(!(a=fe.getForInstance(l))){const e=l;l=new ye(q((()=>e)))}n+=Me(l,o,r,a)}return new Ve(n+e[e.length-1],o,s)}}h(Ve);const Pe=(e,...t)=>{if(Array.isArray(e)&&Array.isArray(e.raw))return Ve.create(e,t);throw r.error(1206)};Pe.partial=e=>new Fe(e);class He extends ge{bind(e){e.source[this.options]=e.targets[this.targetNodeId]}}fe.define(He);const Ne=e=>new He(e);function ze(e,t){const s=i(e)?e:()=>e,n=i(t)?t:()=>t;return(e,t)=>s(e,t)?n(e,t):null}const Be=Object.freeze({positioning:!1,recycle:!0});function _e(e,t,i,s){e.context.parent=s.source,e.context.parentContext=s.context,e.bind(t[i])}function je(e,t,i,s){e.context.parent=s.source,e.context.parentContext=s.context,e.context.length=t.length,e.context.index=i,e.bind(t[i])}class qe{constructor(e){this.directive=e,this.items=null,this.itemsObserver=null,this.bindView=_e,this.views=[],this.itemsBindingObserver=e.dataBinding.createObserver(this,e),this.templateBindingObserver=e.templateBinding.createObserver(this,e),e.options.positioning&&(this.bindView=je)}bind(e){this.location=e.targets[this.directive.targetNodeId],this.controller=e,this.items=this.itemsBindingObserver.bind(e),this.template=this.templateBindingObserver.bind(e),this.observeItems(!0),this.refreshAllViews(),e.onUnbind(this)}unbind(){null!==this.itemsObserver&&this.itemsObserver.unsubscribe(this),this.unbindAllViews()}handleChange(e,t){if(t===this.itemsBindingObserver)this.items=this.itemsBindingObserver.bind(this.controller),this.observeItems(),this.refreshAllViews();else if(t===this.templateBindingObserver)this.template=this.templateBindingObserver.bind(this.controller),this.refreshAllViews(!0);else{if(!t[0])return;t[0].reset?this.refreshAllViews():this.updateViews(t)}}observeItems(e=!1){if(!this.items)return void(this.items=a);const t=this.itemsObserver,i=this.itemsObserver=w.getNotifier(this.items),s=t!==i;s&&null!==t&&t.unsubscribe(this),(s||e)&&i.subscribe(this)}updateViews(e){const t=this.views,i=this.bindView,s=this.items,n=this.template,o=this.controller,r=this.directive.options.recycle,a=[];let l=0,d=0;for(let h=0,c=e.length;h<c;++h){const c=e[h],u=c.removed;let p=0,m=c.index;const f=m+c.addedCount,v=t.splice(c.index,u.length),g=d=a.length+v.length;for(;m<f;++m){const e=t[m],h=e?e.firstChild:this.location;let c;r&&d>0?(p<=g&&v.length>0?(c=v[p],p++):(c=a[l],l++),d--):c=n.create(),t.splice(m,0,c),i(c,s,m,o),c.insertBefore(h)}v[p]&&a.push(...v.slice(p))}for(let e=l,t=a.length;e<t;++e)a[e].dispose();if(this.directive.options.positioning)for(let e=0,i=t.length;e<i;++e){const s=t[e].context;s.length=i,s.index=e}}refreshAllViews(e=!1){const t=this.items,i=this.template,s=this.location,n=this.bindView,o=this.controller;let r=t.length,a=this.views,l=a.length;if(0!==r&&!e&&this.directive.options.recycle||(we.disposeContiguousBatch(a),l=0),0===l){this.views=a=new Array(r);for(let e=0;e<r;++e){const r=i.create();n(r,t,e,o),a[e]=r,r.insertBefore(s)}}else{let e=0;for(;e<r;++e)if(e<l){n(a[e],t,e,o)}else{const r=i.create();n(r,t,e,o),a.push(r),r.insertBefore(s)}const d=a.splice(e,l-e);for(e=0,r=d.length;e<r;++e)d[e].dispose()}}unbindAllViews(){const e=this.views;for(let t=0,i=e.length;t<i;++t)e[t].unbind()}}class Ue{constructor(e,t,i){this.dataBinding=e,this.templateBinding=t,this.options=i,P.enable()}createHTML(e){return ue.comment(e(this))}createBehavior(){return new qe(this)}}function Ke(e,t,i=Be){const s=U(e),n=U(t);return new Ue(s,n,Object.assign(Object.assign({},Be),i))}fe.define(Ue);const We=e=>1===e.nodeType,Ge=e=>e?t=>1===t.nodeType&&t.matches(e):We;class Ye extends ge{get id(){return this._id}set id(e){this._id=e,this._controllerProperty=`${e}-c`}bind(e){const t=e.targets[this.targetNodeId];t[this._controllerProperty]=e,this.updateTarget(e.source,this.computeNodes(t)),this.observe(t),e.onUnbind(this)}unbind(e){const t=e.targets[this.targetNodeId];this.updateTarget(e.source,a),this.disconnect(t),t[this._controllerProperty]=null}getSource(e){return e[this._controllerProperty].source}updateTarget(e,t){e[this.options.property]=t}computeNodes(e){let t=this.getNodes(e);return"filter"in this.options&&(t=t.filter(this.options.filter)),t}}class Xe extends Ye{observe(e){e.addEventListener("slotchange",this)}disconnect(e){e.removeEventListener("slotchange",this)}getNodes(e){return e.assignedNodes(this.options)}handleEvent(e){const t=e.currentTarget;this.updateTarget(this.getSource(t),this.computeNodes(t))}}function Qe(e){return s(e)&&(e={property:e}),new Xe(e)}fe.define(Xe);class Ze extends Ye{constructor(e){super(e),this.observerProperty=`${this.id}-o`,this.handleEvent=(e,t)=>{const i=t.target;this.updateTarget(this.getSource(i),this.computeNodes(i))},e.childList=!0}observe(e){let t=e[this.observerProperty];t||(t=new MutationObserver(this.handleEvent),t.toJSON=n,t.target=e,e[this.observerProperty]=t),t.observe(e,this.options)}disconnect(e){const t=e[this.observerProperty];t.target=null,t.disconnect()}getNodes(e){return"selector"in this.options?Array.from(e.querySelectorAll(this.options.selector)):Array.from(e.childNodes)}}function Je(e){return s(e)&&(e={property:e}),new Ze(e)}fe.define(Ze);const et=Object.freeze({locate:d()}),tt={toView:e=>e?"true":"false",fromView:e=>null!=e&&"false"!==e&&!1!==e&&0!==e},it={toView:e=>"boolean"==typeof e?e.toString():"",fromView:e=>[null,void 0,void 0].includes(e)?null:tt.fromView(e)};function st(e){if(null==e)return null;const t=1*e;return isNaN(t)?null:t}const nt={toView(e){const t=st(e);return t?t.toString():t},fromView:st};class ot{constructor(e,t,i=t.toLowerCase(),s="reflect",n){this.guards=new Set,this.Owner=e,this.name=t,this.attribute=i,this.mode=s,this.converter=n,this.fieldName=`_${t}`,this.callbackName=`${t}Changed`,this.hasCallback=this.callbackName in e.prototype,"boolean"===s&&void 0===n&&(this.converter=tt)}setValue(e,t){const i=e[this.fieldName],s=this.converter;void 0!==s&&(t=s.fromView(t)),i!==t&&(e[this.fieldName]=t,this.tryReflectToAttribute(e),this.hasCallback&&e[this.callbackName](i,t),e.$fastController.notify(this.name))}getValue(e){return w.track(e,this.name),e[this.fieldName]}onAttributeChangedCallback(e,t){this.guards.has(e)||(this.guards.add(e),this.setValue(e,t),this.guards.delete(e))}tryReflectToAttribute(e){const t=this.mode,i=this.guards;i.has(e)||"fromView"===t||g.enqueue((()=>{i.add(e);const s=e[this.fieldName];switch(t){case"reflect":const t=this.converter;v.setAttribute(e,this.attribute,void 0!==t?t.toView(s):s);break;case"boolean":v.setBooleanAttribute(e,this.attribute,s)}i.delete(e)}))}static collect(e,...t){const i=[];t.push(et.locate(e));for(let n=0,o=t.length;n<o;++n){const o=t[n];if(void 0!==o)for(let t=0,n=o.length;t<n;++t){const n=o[t];s(n)?i.push(new ot(e,n)):i.push(new ot(e,n.property,n.attribute,n.mode,n.converter))}}return i}}function rt(e,t){let i;function s(e,t){arguments.length>1&&(i.property=t),et.locate(e.constructor).push(i)}return arguments.length>1?(i={},void s(e,t)):(i=void 0===e?{}:e,s)}const at={mode:"open"},lt={},dt=new Set,ht=r.getById(t.elementRegistry,(()=>l()));class ct{constructor(e,t=e.definition){var i;this.platformDefined=!1,s(t)&&(t={name:t}),this.type=e,this.name=t.name,this.template=t.template,this.registry=null!==(i=t.registry)&&void 0!==i?i:customElements;const n=e.prototype,o=ot.collect(e,t.attributes),r=new Array(o.length),a={},l={};for(let e=0,t=o.length;e<t;++e){const t=o[e];r[e]=t.attribute,a[t.name]=t,l[t.attribute]=t,w.defineProperty(n,t)}Reflect.defineProperty(e,"observedAttributes",{value:r,enumerable:!0}),this.attributes=o,this.propertyLookup=a,this.attributeLookup=l,this.shadowOptions=void 0===t.shadowOptions?at:null===t.shadowOptions?void 0:Object.assign(Object.assign({},at),t.shadowOptions),this.elementOptions=void 0===t.elementOptions?lt:Object.assign(Object.assign({},lt),t.elementOptions),this.styles=G.normalize(t.styles),ht.register(this)}get isDefined(){return this.platformDefined}define(e=this.registry){const t=this.type;return e.get(this.name)||(this.platformDefined=!0,e.define(this.name,t,this.elementOptions)),this}static compose(e,t){return dt.has(e)||ht.getByType(e)?new ct(class extends e{},t):new ct(e,t)}static registerBaseType(e){dt.add(e)}}ct.getByType=ht.getByType,ct.getForInstance=ht.getForInstance;const ut={bubbles:!0,composed:!0,cancelable:!0},pt=new WeakMap;function mt(e){var t,i;return null!==(i=null!==(t=e.shadowRoot)&&void 0!==t?t:pt.get(e))&&void 0!==i?i:null}let ft;class vt extends y{constructor(e,t){super(e),this.boundObservables=null,this.needsInitialization=!0,this.hasExistingShadowRoot=!1,this._template=null,this.stage=3,this.guardBehaviorConnection=!1,this.behaviors=null,this._mainStyles=null,this.$fastController=this,this.view=null,this.source=e,this.definition=t;const i=t.shadowOptions;if(void 0!==i){let t=e.shadowRoot;t?this.hasExistingShadowRoot=!0:(t=e.attachShadow(i),"closed"===i.mode&&pt.set(e,t))}const s=w.getAccessors(e);if(s.length>0){const t=this.boundObservables=Object.create(null);for(let i=0,n=s.length;i<n;++i){const n=s[i].name,o=e[n];void 0!==o&&(delete e[n],t[n]=o)}}}get isConnected(){return w.track(this,"isConnected"),1===this.stage}get context(){var e,t;return null!==(t=null===(e=this.view)||void 0===e?void 0:e.context)&&void 0!==t?t:I.default}get isBound(){var e,t;return null!==(t=null===(e=this.view)||void 0===e?void 0:e.isBound)&&void 0!==t&&t}get sourceLifetime(){var e;return null===(e=this.view)||void 0===e?void 0:e.sourceLifetime}get template(){var e;if(null===this._template){const t=this.definition;this.source.resolveTemplate?this._template=this.source.resolveTemplate():t.template&&(this._template=null!==(e=t.template)&&void 0!==e?e:null)}return this._template}set template(e){this._template!==e&&(this._template=e,this.needsInitialization||this.renderTemplate(e))}get mainStyles(){var e;if(null===this._mainStyles){const t=this.definition;this.source.resolveStyles?this._mainStyles=this.source.resolveStyles():t.styles&&(this._mainStyles=null!==(e=t.styles)&&void 0!==e?e:null)}return this._mainStyles}set mainStyles(e){this._mainStyles!==e&&(null!==this._mainStyles&&this.removeStyles(this._mainStyles),this._mainStyles=e,this.needsInitialization||this.addStyles(e))}onUnbind(e){var t;null===(t=this.view)||void 0===t||t.onUnbind(e)}addBehavior(e){var t,i;const s=null!==(t=this.behaviors)&&void 0!==t?t:this.behaviors=new Map,n=null!==(i=s.get(e))&&void 0!==i?i:0;0===n?(s.set(e,1),e.addedCallback&&e.addedCallback(this),!e.connectedCallback||this.guardBehaviorConnection||1!==this.stage&&0!==this.stage||e.connectedCallback(this)):s.set(e,n+1)}removeBehavior(e,t=!1){const i=this.behaviors;if(null===i)return;const s=i.get(e);void 0!==s&&(1===s||t?(i.delete(e),e.disconnectedCallback&&3!==this.stage&&e.disconnectedCallback(this),e.removedCallback&&e.removedCallback(this)):i.set(e,s-1))}addStyles(e){var t;if(!e)return;const i=this.source;if(e instanceof HTMLElement){(null!==(t=mt(i))&&void 0!==t?t:this.source).append(e)}else if(!e.isAttachedTo(i)){const t=e.behaviors;if(e.addStylesTo(i),null!==t)for(let e=0,i=t.length;e<i;++e)this.addBehavior(t[e])}}removeStyles(e){var t;if(!e)return;const i=this.source;if(e instanceof HTMLElement){(null!==(t=mt(i))&&void 0!==t?t:i).removeChild(e)}else if(e.isAttachedTo(i)){const t=e.behaviors;if(e.removeStylesFrom(i),null!==t)for(let e=0,i=t.length;e<i;++e)this.addBehavior(t[e])}}connect(){if(3!==this.stage)return;if(this.stage=0,null!==this.boundObservables){const e=this.source,t=this.boundObservables,i=Object.keys(t);for(let s=0,n=i.length;s<n;++s){const n=i[s];e[n]=t[n]}this.boundObservables=null}const e=this.behaviors;if(null!==e){this.guardBehaviorConnection=!0;for(const t of e.keys())t.connectedCallback&&t.connectedCallback(this);this.guardBehaviorConnection=!1}this.needsInitialization?(this.renderTemplate(this.template),this.addStyles(this.mainStyles),this.needsInitialization=!1):null!==this.view&&this.view.bind(this.source),this.stage=1,w.notify(this,"isConnected")}disconnect(){if(1!==this.stage)return;this.stage=2,w.notify(this,"isConnected"),null!==this.view&&this.view.unbind();const e=this.behaviors;if(null!==e)for(const t of e.keys())t.disconnectedCallback&&t.disconnectedCallback(this);this.stage=3}onAttributeChangedCallback(e,t,i){const s=this.definition.attributeLookup[e];void 0!==s&&s.onAttributeChangedCallback(this.source,i)}emit(e,t,i){return 1===this.stage&&this.source.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign({detail:t},ut),i)))}renderTemplate(e){var t;const i=this.source,s=null!==(t=mt(i))&&void 0!==t?t:i;if(null!==this.view)this.view.dispose(),this.view=null;else if(!this.needsInitialization||this.hasExistingShadowRoot){this.hasExistingShadowRoot=!1;for(let e=s.firstChild;null!==e;e=s.firstChild)s.removeChild(e)}e&&(this.view=e.render(i,s,i),this.view.sourceLifetime=x.coupled)}static forCustomElement(e){const t=e.$fastController;if(void 0!==t)return t;const i=ct.getForInstance(e);if(void 0===i)throw r.error(1401);return e.$fastController=new ft(e,i)}static setStrategy(e){ft=e}}function gt(e){var t;return"adoptedStyleSheets"in e?e:null!==(t=mt(e))&&void 0!==t?t:e.getRootNode()}h(vt),vt.setStrategy(vt);class bt{constructor(e){const t=bt.styleSheetCache;this.sheets=e.map((e=>{if(e instanceof CSSStyleSheet)return e;let i=t.get(e);return void 0===i&&(i=new CSSStyleSheet,i.replaceSync(e),t.set(e,i)),i}))}addStylesTo(e){const t=gt(e);t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.sheets]}removeStylesFrom(e){const t=gt(e),i=this.sheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter((e=>-1===i.indexOf(e)))}}bt.styleSheetCache=new Map;let yt=0;function xt(e){return e===document?document.body:e}function wt(e){const t=class extends e{constructor(){super(),vt.forCustomElement(this)}$emit(e,t,i){return this.$fastController.emit(e,t,i)}connectedCallback(){this.$fastController.connect()}disconnectedCallback(){this.$fastController.disconnect()}attributeChangedCallback(e,t,i){this.$fastController.onAttributeChangedCallback(e,t,i)}};return ct.registerBaseType(t),t}function Ct(e,t){return i(e)?ct.compose(e,t).define().type:ct.compose(this,e).define().type}G.setDefaultStrategy(G.supportsAdoptedStyleSheets?bt:class{constructor(e){this.styles=e,this.styleClass="fast-"+ ++yt}addStylesTo(e){e=xt(gt(e));const t=this.styles,i=this.styleClass;for(let s=0;s<t.length;s++){const n=document.createElement("style");n.innerHTML=t[s],n.className=i,e.append(n)}}removeStylesFrom(e){const t=(e=xt(gt(e))).querySelectorAll(`.${this.styleClass}`);for(let i=0,s=t.length;i<s;++i)e.removeChild(t[i])}});const $t=Object.assign(wt(HTMLElement),{from:function(e){return wt(e)},define:Ct,compose:function(e,t){return i(e)?ct.compose(e,t):ct.compose(this,e)}});function kt(e){return function(t){Ct(t,e)}}void 0===globalThis.FAST&&Reflect.defineProperty(globalThis,"FAST",{value:Object.create(null),configurable:!1,enumerable:!1,writable:!1});const It=globalThis.FAST,Et={1101:"Must call enableArrayObservation before observing arrays.",1201:"The DOM Policy can only be set once.",1202:"To bind innerHTML, you must use a TrustedTypesPolicy.",1203:"View=>Model update skipped. To use twoWay binding, the target property must be observable.",1204:"No host element is present. Cannot bind host with ${name}.",1205:"The requested binding behavior is not supported by the binding engine.",1206:"Calling html`` as a normal function invalidates the security guarantees provided by FAST.",1207:"The DOM Policy for an HTML template can only be set once.",1208:"The DOM Policy cannot be set after a template is compiled.",1209:"'${aspectName}' on '${tagName}' is blocked by the current DOMPolicy.",1401:"Missing FASTElement definition.",1501:"No registration for Context/Interface '${name}'.",1502:"Dependency injection resolver for '${key}' returned a null factory.",1503:"Invalid dependency injection resolver strategy specified '${strategy}'.",1504:"Unable to autoregister dependency.",1505:"Unable to resolve dependency injection key '${key}'.",1506:"'${name}' is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.",1507:"Attempted to jitRegister something that is not a constructor '${value}'. Did you forget to register this dependency?",1508:"Attempted to jitRegister an intrinsic type '${value}'. Did you forget to add @inject(Key)?",1509:"Attempted to jitRegister an interface '${value}'.",1510:"A valid resolver was not returned from the register method.",1511:"Key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?",1512:"'${key}' not registered. Did you forget to add @singleton()?",1513:"Cyclic dependency found '${name}'.",1514:"Injected properties that are updated on changes to DOM connectivity require the target object to be an instance of FASTElement."},Tt=/(\$\{\w+?})/g,St=/\$\{(\w+?)}/g,Ot=Object.freeze({});function At(e,t){return e.split(Tt).map((e=>{var i;const s=e.replace(St,"$1");return String(null!==(i=t[s])&&void 0!==i?i:e)})).join("")}function Rt(e,t,i,n){return(e,t,i,...o)=>{s(i)&&(i=i.replace("javascript:","")),n(e,t,i,...o)}}function Dt(e,t,i,s){throw r.error(1209,{aspectName:i,tagName:null!=e?e:"text"})}Object.assign(It,{addMessages(e){Object.assign(Et,e)},warn(e,t=Ot){var i;const s=null!==(i=Et[e])&&void 0!==i?i:"Unknown Warning";console.warn(At(s,t))},error(e,t=Ot){var i;const s=null!==(i=Et[e])&&void 0!==i?i:"Unknown Error";return new Error(At(s,t))}});const Lt={onabort:Dt,onauxclick:Dt,onbeforeinput:Dt,onbeforematch:Dt,onblur:Dt,oncancel:Dt,oncanplay:Dt,oncanplaythrough:Dt,onchange:Dt,onclick:Dt,onclose:Dt,oncontextlost:Dt,oncontextmenu:Dt,oncontextrestored:Dt,oncopy:Dt,oncuechange:Dt,oncut:Dt,ondblclick:Dt,ondrag:Dt,ondragend:Dt,ondragenter:Dt,ondragleave:Dt,ondragover:Dt,ondragstart:Dt,ondrop:Dt,ondurationchange:Dt,onemptied:Dt,onended:Dt,onerror:Dt,onfocus:Dt,onformdata:Dt,oninput:Dt,oninvalid:Dt,onkeydown:Dt,onkeypress:Dt,onkeyup:Dt,onload:Dt,onloadeddata:Dt,onloadedmetadata:Dt,onloadstart:Dt,onmousedown:Dt,onmouseenter:Dt,onmouseleave:Dt,onmousemove:Dt,onmouseout:Dt,onmouseover:Dt,onmouseup:Dt,onpaste:Dt,onpause:Dt,onplay:Dt,onplaying:Dt,onprogress:Dt,onratechange:Dt,onreset:Dt,onresize:Dt,onscroll:Dt,onsecuritypolicyviolation:Dt,onseeked:Dt,onseeking:Dt,onselect:Dt,onslotchange:Dt,onstalled:Dt,onsubmit:Dt,onsuspend:Dt,ontimeupdate:Dt,ontoggle:Dt,onvolumechange:Dt,onwaiting:Dt,onwebkitanimationend:Dt,onwebkitanimationiteration:Dt,onwebkitanimationstart:Dt,onwebkittransitionend:Dt,onwheel:Dt},Ft={elements:{a:{[c.attribute]:{href:Rt},[c.property]:{href:Rt}},area:{[c.attribute]:{href:Rt},[c.property]:{href:Rt}},button:{[c.attribute]:{formaction:Rt},[c.property]:{formAction:Rt}},embed:{[c.attribute]:{src:Dt},[c.property]:{src:Dt}},form:{[c.attribute]:{action:Rt},[c.property]:{action:Rt}},frame:{[c.attribute]:{src:Rt},[c.property]:{src:Rt}},iframe:{[c.attribute]:{src:Rt},[c.property]:{src:Rt,srcdoc:Dt}},input:{[c.attribute]:{formaction:Rt},[c.property]:{formAction:Rt}},link:{[c.attribute]:{href:Dt},[c.property]:{href:Dt}},object:{[c.attribute]:{codebase:Dt,data:Dt},[c.property]:{codeBase:Dt,data:Dt}},script:{[c.attribute]:{src:Dt,text:Dt},[c.property]:{src:Dt,text:Dt,innerText:Dt,textContent:Dt}},style:{[c.property]:{innerText:Dt,textContent:Dt}}},aspects:{[c.attribute]:Object.assign({},Lt),[c.property]:Object.assign({innerHTML:Dt},Lt),[c.event]:Object.assign({},Lt)}};function Mt(e,t){const i={};for(const s in t){const n=e[s],o=t[s];switch(n){case null:break;case void 0:i[s]=o;break;default:i[s]=n}}for(const t in e)t in i||(i[t]=e[t]);return Object.freeze(i)}function Vt(e,t){const i={};for(const s in t){const n=e[s],o=t[s];switch(n){case null:break;case void 0:i[s]=Mt(o,{});break;default:i[s]=Mt(n,o)}}for(const t in e)t in i||(i[t]=Mt(e[t],{}));return Object.freeze(i)}function Pt(e,t){const i={};for(const s in t){const n=e[s],o=t[s];switch(n){case null:break;case void 0:i[s]=Vt(n,{});break;default:i[s]=Vt(n,o)}}for(const t in e)t in i||(i[t]=Vt(e[t],{}));return Object.freeze(i)}function Ht(e,t,i,s,n){const o=e[i];if(o){const e=o[s];if(e)return e(t,i,s,n)}}const Nt=Object.freeze({create(e={}){var t,i;const s=null!==(t=e.trustedType)&&void 0!==t?t:function(){const e=e=>e;return globalThis.trustedTypes?globalThis.trustedTypes.createPolicy("fast-html",{createHTML:e}):{createHTML:e}}(),n=(o=null!==(i=e.guards)&&void 0!==i?i:{},r=Ft,Object.freeze({elements:o.elements?Pt(o.elements,r.elements):r.elements,aspects:o.aspects?Vt(o.aspects,r.aspects):r.aspects}));var o,r;return Object.freeze({createHTML:e=>s.createHTML(e),protect(e,t,i,s){var o;const r=(null!=e?e:"").toLowerCase(),a=n.elements[r];if(a){const n=Ht(a,e,t,i,s);if(n)return n}return null!==(o=Ht(n.aspects,e,t,i,s))&&void 0!==o?o:s}})}});function zt(e){return e?"string"==typeof e?new Fe(e):"inline"in e?e.inline():e:Fe.empty}function Bt(e){if("string"==typeof e)return e;if("function"==typeof e&&!(e=ct.getByType(e)))throw new Error("Missing FASTElement definition.");return e.name}function _t(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}function jt(e,t,i,s){return new(i||(i=Promise))((function(n,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))}class qt{}_t([rt({attribute:"aria-atomic"})],qt.prototype,"ariaAtomic",void 0),_t([rt({attribute:"aria-busy"})],qt.prototype,"ariaBusy",void 0),_t([rt({attribute:"aria-controls"})],qt.prototype,"ariaControls",void 0),_t([rt({attribute:"aria-current"})],qt.prototype,"ariaCurrent",void 0),_t([rt({attribute:"aria-describedby"})],qt.prototype,"ariaDescribedby",void 0),_t([rt({attribute:"aria-details"})],qt.prototype,"ariaDetails",void 0),_t([rt({attribute:"aria-disabled"})],qt.prototype,"ariaDisabled",void 0),_t([rt({attribute:"aria-errormessage"})],qt.prototype,"ariaErrormessage",void 0),_t([rt({attribute:"aria-flowto"})],qt.prototype,"ariaFlowto",void 0),_t([rt({attribute:"aria-haspopup"})],qt.prototype,"ariaHaspopup",void 0),_t([rt({attribute:"aria-hidden"})],qt.prototype,"ariaHidden",void 0),_t([rt({attribute:"aria-invalid"})],qt.prototype,"ariaInvalid",void 0),_t([rt({attribute:"aria-keyshortcuts"})],qt.prototype,"ariaKeyshortcuts",void 0),_t([rt({attribute:"aria-label"})],qt.prototype,"ariaLabel",void 0),_t([rt({attribute:"aria-labelledby"})],qt.prototype,"ariaLabelledby",void 0),_t([rt({attribute:"aria-live"})],qt.prototype,"ariaLive",void 0),_t([rt({attribute:"aria-owns"})],qt.prototype,"ariaOwns",void 0),_t([rt({attribute:"aria-relevant"})],qt.prototype,"ariaRelevant",void 0),_t([rt({attribute:"aria-roledescription"})],qt.prototype,"ariaRoledescription",void 0);class Ut{}function Kt(e){return Pe`<slot name="end" ${Ne("end")}>${zt(e.end)}</slot>`.inline()}function Wt(e){return Pe`<slot name="start" ${Ne("start")}>${zt(e.start)}</slot>`.inline()}function Gt(e={}){return Pe`<div class="heading" part="heading" role="heading" aria-level="${e=>e.headinglevel}"><button class="button" part="button" ${Ne("expandbutton")} ?disabled="${e=>e.disabled?"true":void 0}" aria-expanded="${e=>e.expanded}" aria-controls="${e=>e.id}-panel" id="${e=>e.id}" @click="${(e,t)=>e.clickHandler(t.event)}"><span class="heading-content" part="heading-content"><slot name="heading"></slot></span></button>${Wt(e)} ${Kt(e)}<span class="icon" part="icon" aria-hidden="true"><slot name="expanded-icon">${zt(e.expandedIcon)}</slot><slot name="collapsed-icon">${zt(e.collapsedIcon)}</slot><span></div><div class="region" part="region" id="${e=>e.id}-panel" role="region" aria-labelledby="${e=>e.id}"><slot></slot></div>`}const Yt={horizontal:"horizontal",vertical:"vertical"};function Xt(...e){return e.every((e=>e instanceof HTMLElement))}const Qt={ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp"};var Zt;function Jt(e,t,i){return Math.min(Math.max(i,e),t)}function ei(e,t,i=0){return[t,i]=[t,i].sort(((e,t)=>e-t)),t<=e&&e<i}!function(e){e.ltr="ltr",e.rtl="rtl"}(Zt||(Zt={}));let ti=0;function ii(e=""){return`${e}${ti++}`}function si(e,...t){const i=et.locate(e);t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((i=>{"constructor"!==i&&Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i))}));et.locate(t).forEach((e=>i.push(e)))}))}class ni extends $t{constructor(){super(...arguments),this.headinglevel=2,this.expanded=!1,this.disabled=!1,this.id=ii("accordion-"),this.clickHandler=e=>{this.disabled||this.$emit("click",e)}}}_t([rt({attribute:"heading-level",mode:"fromView",converter:nt})],ni.prototype,"headinglevel",void 0),_t([rt({mode:"boolean"})],ni.prototype,"expanded",void 0),_t([rt({mode:"boolean"})],ni.prototype,"disabled",void 0),_t([rt],ni.prototype,"id",void 0),si(ni,Ut);const oi={single:"single",multi:"multi"};class ri extends $t{constructor(){super(...arguments),this.expandmode=oi.multi,this.activeItemIndex=0,this.change=()=>{this.$emit("change",this.activeid)},this.setItems=()=>{if(0===this.slottedAccordionItems.length)return;const e=Array.from(this.children);if(this.removeItemListeners(e),e.forEach((e=>w.getNotifier(e).subscribe(this,"disabled"))),this.accordionItems=e.filter((e=>!e.hasAttribute("disabled"))),this.accordionIds=this.getItemIds(),this.accordionItems.forEach(((e,t)=>{e instanceof ni&&(e.addEventListener("click",this.activeItemChange),w.getNotifier(e).subscribe(this,"expanded"));const i=this.accordionIds[t];e.setAttribute("id","string"!=typeof i?`accordion-${t+1}`:i),this.activeid=this.accordionIds[this.activeItemIndex],e.addEventListener("keydown",this.handleItemKeyDown),e.addEventListener("focus",this.handleItemFocus)})),this.isSingleExpandMode()){const e=this.findExpandedItem();this.setSingleExpandMode(e)}},this.removeItemListeners=e=>{e.forEach(((e,t)=>{w.getNotifier(e).unsubscribe(this,"disabled"),w.getNotifier(e).unsubscribe(this,"expanded"),e.removeEventListener("click",this.activeItemChange),e.removeEventListener("keydown",this.handleItemKeyDown),e.removeEventListener("focus",this.handleItemFocus)}))},this.activeItemChange=e=>{e.defaultPrevented||e.target!==e.currentTarget||(e.preventDefault(),this.handleExpandedChange(e.target))},this.handleExpandedChange=e=>{e instanceof ni&&(this.activeid=e.getAttribute("id"),this.isSingleExpandMode()?this.setSingleExpandMode(e):(e.expanded=!e.expanded,this.activeItemIndex=this.accordionItems.indexOf(e)),this.change())},this.handleItemKeyDown=e=>{if(e.target===e.currentTarget)switch(this.accordionIds=this.getItemIds(),e.key){case"ArrowUp":e.preventDefault(),this.adjust(-1);break;case"ArrowDown":e.preventDefault(),this.adjust(1);break;case"Home":this.activeItemIndex=0,this.focusItem();break;case"End":this.activeItemIndex=this.accordionItems.length-1,this.focusItem()}},this.handleItemFocus=e=>{if(e.target===e.currentTarget){const t=e.target,i=this.activeItemIndex=Array.from(this.accordionItems).indexOf(t);this.activeItemIndex!==i&&-1!==i&&(this.activeItemIndex=i,this.activeid=this.accordionIds[this.activeItemIndex])}}}expandmodeChanged(e,t){if(!this.$fastController.isConnected)return;const i=this.findExpandedItem();i&&(t!==oi.single?null==i||i.expandbutton.removeAttribute("aria-disabled"):this.setSingleExpandMode(i))}slottedAccordionItemsChanged(e,t){this.$fastController.isConnected&&this.setItems()}handleChange(e,t){"disabled"===t?this.setItems():"expanded"===t&&e.expanded&&this.isSingleExpandMode()&&this.setSingleExpandMode(e)}findExpandedItem(){var e;return 0===this.accordionItems.length?null:null!==(e=this.accordionItems.find((e=>e instanceof ni&&e.expanded)))&&void 0!==e?e:this.accordionItems[0]}setSingleExpandMode(e){if(0===this.accordionItems.length)return;const t=Array.from(this.accordionItems);this.activeItemIndex=t.indexOf(e),t.forEach(((e,t)=>{this.activeItemIndex===t?(e.expanded=!0,e.expandbutton.setAttribute("aria-disabled","true")):(e.expanded=!1,e.hasAttribute("disabled")||e.expandbutton.removeAttribute("aria-disabled"))}))}getItemIds(){return this.slottedAccordionItems.map((e=>e.id))}isSingleExpandMode(){return this.expandmode===oi.single}adjust(e){this.activeItemIndex=function(e,t,i){return i<e?t:i>t?e:i}(0,this.accordionItems.length-1,this.activeItemIndex+e),this.focusItem()}focusItem(){const e=this.accordionItems[this.activeItemIndex];e instanceof ni&&e.expandbutton.focus()}}function ai(){return Pe`<template><slot ${Qe({property:"slottedAccordionItems",filter:Ge()})}></slot></template>`}_t([rt({attribute:"expand-mode"})],ri.prototype,"expandmode",void 0),_t([C],ri.prototype,"slottedAccordionItems",void 0);class li extends $t{}_t([rt],li.prototype,"download",void 0),_t([rt],li.prototype,"href",void 0),_t([rt],li.prototype,"hreflang",void 0),_t([rt],li.prototype,"ping",void 0),_t([rt],li.prototype,"referrerpolicy",void 0),_t([rt],li.prototype,"rel",void 0),_t([rt],li.prototype,"target",void 0),_t([rt],li.prototype,"type",void 0),_t([C],li.prototype,"defaultSlottedContent",void 0);class di{}_t([rt({attribute:"aria-expanded"})],di.prototype,"ariaExpanded",void 0),si(di,qt),si(li,Ut,di);const hi={_self:"_self",_blank:"_blank",_parent:"_parent",_top:"_top"};function ci(e={}){return Pe`<a class="control" part="control" download="${e=>e.download}" href="${e=>e.href}" hreflang="${e=>e.hreflang}" ping="${e=>e.ping}" referrerpolicy="${e=>e.referrerpolicy}" rel="${e=>e.rel}" target="${e=>e.target}" type="${e=>e.type}" aria-atomic="${e=>e.ariaAtomic}" aria-busy="${e=>e.ariaBusy}" aria-controls="${e=>e.ariaControls}" aria-current="${e=>e.ariaCurrent}" aria-describedby="${e=>e.ariaDescribedby}" aria-details="${e=>e.ariaDetails}" aria-disabled="${e=>e.ariaDisabled}" aria-errormessage="${e=>e.ariaErrormessage}" aria-expanded="${e=>e.ariaExpanded}" aria-flowto="${e=>e.ariaFlowto}" aria-haspopup="${e=>e.ariaHaspopup}" aria-hidden="${e=>e.ariaHidden}" aria-invalid="${e=>e.ariaInvalid}" aria-keyshortcuts="${e=>e.ariaKeyshortcuts}" aria-label="${e=>e.ariaLabel}" aria-labelledby="${e=>e.ariaLabelledby}" aria-live="${e=>e.ariaLive}" aria-owns="${e=>e.ariaOwns}" aria-relevant="${e=>e.ariaRelevant}" aria-roledescription="${e=>e.ariaRoledescription}" ${Ne("control")}>${Wt(e)}<span class="content" part="content"><slot ${Qe("defaultSlottedContent")}></slot></span>${Kt(e)}</a>`}const ui={horizontalDefaultPosition:"center",horizontalPositioningMode:"locktodefault",horizontalInset:!1,horizontalScaling:"anchor"},pi=Object.assign(Object.assign({},ui),{verticalDefaultPosition:"top",verticalPositioningMode:"locktodefault",verticalInset:!1,verticalScaling:"content"}),mi=Object.assign(Object.assign({},ui),{verticalDefaultPosition:"bottom",verticalPositioningMode:"locktodefault",verticalInset:!1,verticalScaling:"content"}),fi=Object.assign(Object.assign({},ui),{verticalPositioningMode:"dynamic",verticalInset:!1,verticalScaling:"content"}),vi=Object.assign(Object.assign({},pi),{verticalScaling:"fill"}),gi=Object.assign(Object.assign({},mi),{verticalScaling:"fill"}),bi=Object.assign(Object.assign({},fi),{verticalScaling:"fill"}),yi=e=>{var t;return"rtl"===(null===(t=e.closest("[dir]"))||void 0===t?void 0:t.dir)?Zt.rtl:Zt.ltr};class xi extends $t{constructor(){super(...arguments),this.anchor="",this.viewport="",this.horizontalPositioningMode="uncontrolled",this.horizontalDefaultPosition="unset",this.horizontalViewportLock=!1,this.horizontalInset=!1,this.horizontalScaling="content",this.verticalPositioningMode="uncontrolled",this.verticalDefaultPosition="unset",this.verticalViewportLock=!1,this.verticalInset=!1,this.verticalScaling="content",this.fixedPlacement=!1,this.autoUpdateMode="anchor",this.anchorElement=null,this.viewportElement=null,this.initialLayoutComplete=!1,this.resizeDetector=null,this.baseHorizontalOffset=0,this.baseVerticalOffset=0,this.pendingPositioningUpdate=!1,this.pendingReset=!1,this.currentDirection=Zt.ltr,this.regionVisible=!1,this.forceUpdate=!1,this.updateThreshold=.5,this.update=()=>{this.pendingPositioningUpdate||this.requestPositionUpdates()},this.startObservers=()=>{this.stopObservers(),null!==this.anchorElement&&(this.requestPositionUpdates(),null!==this.resizeDetector&&(this.resizeDetector.observe(this.anchorElement),this.resizeDetector.observe(this)))},this.requestPositionUpdates=()=>{null===this.anchorElement||this.pendingPositioningUpdate||(xi.intersectionService.requestPosition(this,this.handleIntersection),xi.intersectionService.requestPosition(this.anchorElement,this.handleIntersection),null!==this.viewportElement&&xi.intersectionService.requestPosition(this.viewportElement,this.handleIntersection),this.pendingPositioningUpdate=!0)},this.stopObservers=()=>{this.pendingPositioningUpdate&&(this.pendingPositioningUpdate=!1,xi.intersectionService.cancelRequestPosition(this,this.handleIntersection),null!==this.anchorElement&&xi.intersectionService.cancelRequestPosition(this.anchorElement,this.handleIntersection),null!==this.viewportElement&&xi.intersectionService.cancelRequestPosition(this.viewportElement,this.handleIntersection)),null!==this.resizeDetector&&this.resizeDetector.disconnect()},this.getViewport=()=>{if("string"!=typeof this.viewport||""===this.viewport)return document.documentElement;const e=this.getRootNode();return e instanceof ShadowRoot?e.getElementById(this.viewport):document.getElementById(this.viewport)},this.getAnchor=()=>{const e=this.getRootNode();return e instanceof ShadowRoot?e.getElementById(this.anchor):document.getElementById(this.anchor)},this.handleIntersection=e=>{this.pendingPositioningUpdate&&(this.pendingPositioningUpdate=!1,this.applyIntersectionEntries(e)&&this.updateLayout())},this.applyIntersectionEntries=e=>{const t=e.find((e=>e.target===this)),i=e.find((e=>e.target===this.anchorElement)),s=e.find((e=>e.target===this.viewportElement));return void 0!==t&&void 0!==s&&void 0!==i&&(!!(!this.regionVisible||this.forceUpdate||void 0===this.regionRect||void 0===this.anchorRect||void 0===this.viewportRect||this.isRectDifferent(this.anchorRect,i.boundingClientRect)||this.isRectDifferent(this.viewportRect,s.boundingClientRect)||this.isRectDifferent(this.regionRect,t.boundingClientRect))&&(this.regionRect=t.boundingClientRect,this.anchorRect=i.boundingClientRect,this.viewportElement===document.documentElement?this.viewportRect=new DOMRectReadOnly(s.boundingClientRect.x+document.documentElement.scrollLeft,s.boundingClientRect.y+document.documentElement.scrollTop,s.boundingClientRect.width,s.boundingClientRect.height):this.viewportRect=s.boundingClientRect,this.updateRegionOffset(),this.forceUpdate=!1,!0))},this.updateRegionOffset=()=>{this.anchorRect&&this.regionRect&&(this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorRect.left-this.regionRect.left)+(this.translateX-this.baseHorizontalOffset),this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorRect.top-this.regionRect.top)+(this.translateY-this.baseVerticalOffset))},this.isRectDifferent=(e,t)=>Math.abs(e.top-t.top)>this.updateThreshold||Math.abs(e.right-t.right)>this.updateThreshold||Math.abs(e.bottom-t.bottom)>this.updateThreshold||Math.abs(e.left-t.left)>this.updateThreshold,this.handleResize=e=>{this.update()},this.reset=()=>{this.pendingReset&&(this.pendingReset=!1,null===this.anchorElement&&(this.anchorElement=this.getAnchor()),null===this.viewportElement&&(this.viewportElement=this.getViewport()),this.currentDirection=yi(this),this.startObservers())},this.updateLayout=()=>{let e,t;if("uncontrolled"!==this.horizontalPositioningMode){const e=this.getPositioningOptions(this.horizontalInset);if("center"===this.horizontalDefaultPosition)t="center";else if("unset"!==this.horizontalDefaultPosition){let e=this.horizontalDefaultPosition;if("start"===e||"end"===e){const t=yi(this);if(t!==this.currentDirection)return this.currentDirection=t,void this.initialize();e=this.currentDirection===Zt.ltr?"start"===e?"left":"right":"start"===e?"right":"left"}switch(e){case"left":t=this.horizontalInset?"insetStart":"start";break;case"right":t=this.horizontalInset?"insetEnd":"end"}}const i=void 0!==this.horizontalThreshold?this.horizontalThreshold:void 0!==this.regionRect?this.regionRect.width:0,s=void 0!==this.anchorRect?this.anchorRect.left:0,n=void 0!==this.anchorRect?this.anchorRect.right:0,o=void 0!==this.anchorRect?this.anchorRect.width:0,r=void 0!==this.viewportRect?this.viewportRect.left:0,a=void 0!==this.viewportRect?this.viewportRect.right:0;(void 0===t||"locktodefault"!==this.horizontalPositioningMode&&this.getAvailableSpace(t,s,n,o,r,a)<i)&&(t=this.getAvailableSpace(e[0],s,n,o,r,a)>this.getAvailableSpace(e[1],s,n,o,r,a)?e[0]:e[1])}if("uncontrolled"!==this.verticalPositioningMode){const t=this.getPositioningOptions(this.verticalInset);if("center"===this.verticalDefaultPosition)e="center";else if("unset"!==this.verticalDefaultPosition)switch(this.verticalDefaultPosition){case"top":e=this.verticalInset?"insetStart":"start";break;case"bottom":e=this.verticalInset?"insetEnd":"end"}const i=void 0!==this.verticalThreshold?this.verticalThreshold:void 0!==this.regionRect?this.regionRect.height:0,s=void 0!==this.anchorRect?this.anchorRect.top:0,n=void 0!==this.anchorRect?this.anchorRect.bottom:0,o=void 0!==this.anchorRect?this.anchorRect.height:0,r=void 0!==this.viewportRect?this.viewportRect.top:0,a=void 0!==this.viewportRect?this.viewportRect.bottom:0;(void 0===e||"locktodefault"!==this.verticalPositioningMode&&this.getAvailableSpace(e,s,n,o,r,a)<i)&&(e=this.getAvailableSpace(t[0],s,n,o,r,a)>this.getAvailableSpace(t[1],s,n,o,r,a)?t[0]:t[1])}const i=this.getNextRegionDimension(t,e),s=this.horizontalPosition!==t||this.verticalPosition!==e;if(this.setHorizontalPosition(t,i),this.setVerticalPosition(e,i),this.updateRegionStyle(),!this.initialLayoutComplete)return this.initialLayoutComplete=!0,void this.requestPositionUpdates();this.regionVisible||(this.regionVisible=!0,this.style.removeProperty("pointer-events"),this.style.removeProperty("opacity"),this.classList.toggle("loaded",!0),this.$emit("loaded",this,{bubbles:!1})),this.updatePositionClasses(),s&&this.$emit("positionchange",this,{bubbles:!1})},this.updateRegionStyle=()=>{this.style.width=this.regionWidth,this.style.height=this.regionHeight,this.style.transform=`translate(${this.translateX}px, ${this.translateY}px)`},this.updatePositionClasses=()=>{this.classList.toggle("top","start"===this.verticalPosition),this.classList.toggle("bottom","end"===this.verticalPosition),this.classList.toggle("inset-top","insetStart"===this.verticalPosition),this.classList.toggle("inset-bottom","insetEnd"===this.verticalPosition),this.classList.toggle("vertical-center","center"===this.verticalPosition),this.classList.toggle("left","start"===this.horizontalPosition),this.classList.toggle("right","end"===this.horizontalPosition),this.classList.toggle("inset-left","insetStart"===this.horizontalPosition),this.classList.toggle("inset-right","insetEnd"===this.horizontalPosition),this.classList.toggle("horizontal-center","center"===this.horizontalPosition)},this.setHorizontalPosition=(e,t)=>{if(void 0===e||void 0===this.regionRect||void 0===this.anchorRect||void 0===this.viewportRect)return;let i=0;switch(this.horizontalScaling){case"anchor":case"fill":i=this.horizontalViewportLock?this.viewportRect.width:t.width,this.regionWidth=`${i}px`;break;case"content":i=this.regionRect.width,this.regionWidth="unset"}let s=0;switch(e){case"start":this.translateX=this.baseHorizontalOffset-i,this.horizontalViewportLock&&this.anchorRect.left>this.viewportRect.right&&(this.translateX=this.translateX-(this.anchorRect.left-this.viewportRect.right));break;case"insetStart":this.translateX=this.baseHorizontalOffset-i+this.anchorRect.width,this.horizontalViewportLock&&this.anchorRect.right>this.viewportRect.right&&(this.translateX=this.translateX-(this.anchorRect.right-this.viewportRect.right));break;case"insetEnd":this.translateX=this.baseHorizontalOffset,this.horizontalViewportLock&&this.anchorRect.left<this.viewportRect.left&&(this.translateX=this.translateX-(this.anchorRect.left-this.viewportRect.left));break;case"end":this.translateX=this.baseHorizontalOffset+this.anchorRect.width,this.horizontalViewportLock&&this.anchorRect.right<this.viewportRect.left&&(this.translateX=this.translateX-(this.anchorRect.right-this.viewportRect.left));break;case"center":if(s=(this.anchorRect.width-i)/2,this.translateX=this.baseHorizontalOffset+s,this.horizontalViewportLock){const e=this.anchorRect.left+s,t=this.anchorRect.right-s;e<this.viewportRect.left&&!(t>this.viewportRect.right)?this.translateX=this.translateX-(e-this.viewportRect.left):t>this.viewportRect.right&&!(e<this.viewportRect.left)&&(this.translateX=this.translateX-(t-this.viewportRect.right))}}this.horizontalPosition=e},this.setVerticalPosition=(e,t)=>{if(void 0===e||void 0===this.regionRect||void 0===this.anchorRect||void 0===this.viewportRect)return;let i=0;switch(this.verticalScaling){case"anchor":case"fill":i=this.verticalViewportLock?this.viewportRect.height:t.height,this.regionHeight=`${i}px`;break;case"content":i=this.regionRect.height,this.regionHeight="unset"}let s=0;switch(e){case"start":this.translateY=this.baseVerticalOffset-i,this.verticalViewportLock&&this.anchorRect.top>this.viewportRect.bottom&&(this.translateY=this.translateY-(this.anchorRect.top-this.viewportRect.bottom));break;case"insetStart":this.translateY=this.baseVerticalOffset-i+this.anchorRect.height,this.verticalViewportLock&&this.anchorRect.bottom>this.viewportRect.bottom&&(this.translateY=this.translateY-(this.anchorRect.bottom-this.viewportRect.bottom));break;case"insetEnd":this.translateY=this.baseVerticalOffset,this.verticalViewportLock&&this.anchorRect.top<this.viewportRect.top&&(this.translateY=this.translateY-(this.anchorRect.top-this.viewportRect.top));break;case"end":this.translateY=this.baseVerticalOffset+this.anchorRect.height,this.verticalViewportLock&&this.anchorRect.bottom<this.viewportRect.top&&(this.translateY=this.translateY-(this.anchorRect.bottom-this.viewportRect.top));break;case"center":if(s=(this.anchorRect.height-i)/2,this.translateY=this.baseVerticalOffset+s,this.verticalViewportLock){const e=this.anchorRect.top+s,t=this.anchorRect.bottom-s;e<this.viewportRect.top&&!(t>this.viewportRect.bottom)?this.translateY=this.translateY-(e-this.viewportRect.top):t>this.viewportRect.bottom&&!(e<this.viewportRect.top)&&(this.translateY=this.translateY-(t-this.viewportRect.bottom))}}this.verticalPosition=e},this.getPositioningOptions=e=>e?["insetStart","insetEnd"]:["start","end"],this.getAvailableSpace=(e,t,i,s,n,o)=>{const r=t-n,a=o-(t+s);switch(e){case"start":return r;case"insetStart":return r+s;case"insetEnd":return a+s;case"end":return a;case"center":return 2*Math.min(r,a)+s}},this.getNextRegionDimension=(e,t)=>{const i={height:void 0!==this.regionRect?this.regionRect.height:0,width:void 0!==this.regionRect?this.regionRect.width:0};return void 0!==e&&"fill"===this.horizontalScaling?i.width=this.getAvailableSpace(e,void 0!==this.anchorRect?this.anchorRect.left:0,void 0!==this.anchorRect?this.anchorRect.right:0,void 0!==this.anchorRect?this.anchorRect.width:0,void 0!==this.viewportRect?this.viewportRect.left:0,void 0!==this.viewportRect?this.viewportRect.right:0):"anchor"===this.horizontalScaling&&(i.width=void 0!==this.anchorRect?this.anchorRect.width:0),void 0!==t&&"fill"===this.verticalScaling?i.height=this.getAvailableSpace(t,void 0!==this.anchorRect?this.anchorRect.top:0,void 0!==this.anchorRect?this.anchorRect.bottom:0,void 0!==this.anchorRect?this.anchorRect.height:0,void 0!==this.viewportRect?this.viewportRect.top:0,void 0!==this.viewportRect?this.viewportRect.bottom:0):"anchor"===this.verticalScaling&&(i.height=void 0!==this.anchorRect?this.anchorRect.height:0),i},this.startAutoUpdateEventListeners=()=>{window.addEventListener("resize",this.update,{passive:!0}),window.addEventListener("scroll",this.update,{passive:!0,capture:!0}),null!==this.resizeDetector&&null!==this.viewportElement&&this.resizeDetector.observe(this.viewportElement)},this.stopAutoUpdateEventListeners=()=>{window.removeEventListener("resize",this.update),window.removeEventListener("scroll",this.update),null!==this.resizeDetector&&null!==this.viewportElement&&this.resizeDetector.unobserve(this.viewportElement)}}anchorChanged(){this.initialLayoutComplete&&(this.anchorElement=this.getAnchor())}viewportChanged(){this.initialLayoutComplete&&(this.viewportElement=this.getViewport())}horizontalPositioningModeChanged(){this.requestReset()}horizontalDefaultPositionChanged(){this.updateForAttributeChange()}horizontalViewportLockChanged(){this.updateForAttributeChange()}horizontalInsetChanged(){this.updateForAttributeChange()}horizontalThresholdChanged(){this.updateForAttributeChange()}horizontalScalingChanged(){this.updateForAttributeChange()}verticalPositioningModeChanged(){this.requestReset()}verticalDefaultPositionChanged(){this.updateForAttributeChange()}verticalViewportLockChanged(){this.updateForAttributeChange()}verticalInsetChanged(){this.updateForAttributeChange()}verticalThresholdChanged(){this.updateForAttributeChange()}verticalScalingChanged(){this.updateForAttributeChange()}fixedPlacementChanged(){this.$fastController.isConnected&&this.initialLayoutComplete&&this.initialize()}autoUpdateModeChanged(e,t){this.$fastController.isConnected&&this.initialLayoutComplete&&("auto"===e&&this.stopAutoUpdateEventListeners(),"auto"===t&&this.startAutoUpdateEventListeners())}anchorElementChanged(){this.requestReset()}viewportElementChanged(){this.$fastController.isConnected&&this.initialLayoutComplete&&this.initialize()}connectedCallback(){super.connectedCallback(),"auto"===this.autoUpdateMode&&this.startAutoUpdateEventListeners(),this.initialize()}disconnectedCallback(){super.disconnectedCallback(),"auto"===this.autoUpdateMode&&this.stopAutoUpdateEventListeners(),this.stopObservers(),this.disconnectResizeDetector()}adoptedCallback(){this.initialize()}disconnectResizeDetector(){null!==this.resizeDetector&&(this.resizeDetector.disconnect(),this.resizeDetector=null)}initializeResizeDetector(){this.disconnectResizeDetector(),this.resizeDetector=new window.ResizeObserver(this.handleResize)}updateForAttributeChange(){this.$fastController.isConnected&&this.initialLayoutComplete&&(this.forceUpdate=!0,this.update())}initialize(){this.initializeResizeDetector(),null===this.anchorElement&&(this.anchorElement=this.getAnchor()),this.requestReset()}requestReset(){this.$fastController.isConnected&&!1===this.pendingReset&&(this.setInitialState(),g.enqueue((()=>this.reset())),this.pendingReset=!0)}setInitialState(){this.initialLayoutComplete=!1,this.regionVisible=!1,this.translateX=0,this.translateY=0,this.baseHorizontalOffset=0,this.baseVerticalOffset=0,this.viewportRect=void 0,this.regionRect=void 0,this.anchorRect=void 0,this.verticalPosition=void 0,this.horizontalPosition=void 0,this.style.opacity="0",this.style.pointerEvents="none",this.forceUpdate=!1,this.style.position=this.fixedPlacement?"fixed":"absolute",this.updatePositionClasses(),this.updateRegionStyle()}}xi.intersectionService=new class{constructor(){this.intersectionDetector=null,this.observedElements=new Map,this.requestPosition=(e,t)=>{var i;null!==this.intersectionDetector&&(this.observedElements.has(e)?null===(i=this.observedElements.get(e))||void 0===i||i.push(t):(this.observedElements.set(e,[t]),this.intersectionDetector.observe(e)))},this.cancelRequestPosition=(e,t)=>{const i=this.observedElements.get(e);if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}},this.initializeIntersectionDetector=()=>{globalThis.IntersectionObserver&&(this.intersectionDetector=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"0px",threshold:[0,1]}))},this.handleIntersection=e=>{if(null===this.intersectionDetector)return;const t=[],i=[];e.forEach((e=>{var s;null===(s=this.intersectionDetector)||void 0===s||s.unobserve(e.target);const n=this.observedElements.get(e.target);void 0!==n&&(n.forEach((s=>{let n=t.indexOf(s);-1===n&&(n=t.length,t.push(s),i.push([])),i[n].push(e)})),this.observedElements.delete(e.target))})),t.forEach(((e,t)=>{e(i[t])}))},this.initializeIntersectionDetector()}},_t([rt],xi.prototype,"anchor",void 0),_t([rt],xi.prototype,"viewport",void 0),_t([rt({attribute:"horizontal-positioning-mode"})],xi.prototype,"horizontalPositioningMode",void 0),_t([rt({attribute:"horizontal-default-position"})],xi.prototype,"horizontalDefaultPosition",void 0),_t([rt({attribute:"horizontal-viewport-lock",mode:"boolean"})],xi.prototype,"horizontalViewportLock",void 0),_t([rt({attribute:"horizontal-inset",mode:"boolean"})],xi.prototype,"horizontalInset",void 0),_t([rt({attribute:"horizontal-threshold"})],xi.prototype,"horizontalThreshold",void 0),_t([rt({attribute:"horizontal-scaling"})],xi.prototype,"horizontalScaling",void 0),_t([rt({attribute:"vertical-positioning-mode"})],xi.prototype,"verticalPositioningMode",void 0),_t([rt({attribute:"vertical-default-position"})],xi.prototype,"verticalDefaultPosition",void 0),_t([rt({attribute:"vertical-viewport-lock",mode:"boolean"})],xi.prototype,"verticalViewportLock",void 0),_t([rt({attribute:"vertical-inset",mode:"boolean"})],xi.prototype,"verticalInset",void 0),_t([rt({attribute:"vertical-threshold"})],xi.prototype,"verticalThreshold",void 0),_t([rt({attribute:"vertical-scaling"})],xi.prototype,"verticalScaling",void 0),_t([rt({attribute:"fixed-placement",mode:"boolean"})],xi.prototype,"fixedPlacement",void 0),_t([rt({attribute:"auto-update-mode"})],xi.prototype,"autoUpdateMode",void 0),_t([C],xi.prototype,"anchorElement",void 0),_t([C],xi.prototype,"viewportElement",void 0),_t([C],xi.prototype,"initialLayoutComplete",void 0);const wi={uncontrolled:"uncontrolled",locktodefault:"locktodefault",dynamic:"dynamic"},Ci={anchor:"anchor",content:"content",fill:"fill"},$i={start:"start",end:"end",left:"left",right:"right",center:"center",unset:"unset"},ki={top:"top",bottom:"bottom",center:"center",unset:"unset"},Ii={anchor:"anchor",auto:"auto"},Ei={start:"start",insetStart:"insetStart",insetEnd:"insetEnd",end:"end",center:"center"};function Ti(){return Pe`<template data-loaded="${e=>e.initialLayoutComplete?"loaded":""}">${ze((e=>e.initialLayoutComplete),Pe`<slot></slot>`)}</template>`}function Si(e={}){return Pe`<div class="backplate" part="backplate"><slot name="media">${zt(e.media)}</slot><slot></slot></div><slot name="badge"></slot>`}class Oi extends $t{}function Ai(){return Pe`<div class="control" part="control"><slot></slot></div>`}class Ri extends $t{}function Di(e={}){return Pe`<div role="listitem" class="listitem" part="listitem">${ci(e).inline()} ${ze((e=>e.separator),Pe`<span class="separator" part="separator" aria-hidden="true"><slot name="separator">${zt(e.separator)}</slot></span>`)}</div>`}class Li extends li{constructor(){super(...arguments),this.separator=!0}}function Fi(){return Pe`<template role="navigation"><div role="list" class="list" part="list"><slot ${Qe({property:"slottedBreadcrumbItems",filter:Ge()})}></slot></div></template>`}_t([C],Li.prototype,"separator",void 0),si(Li,Ut,di);class Mi extends $t{slottedBreadcrumbItemsChanged(){if(this.$fastController.isConnected){if(void 0===this.slottedBreadcrumbItems||0===this.slottedBreadcrumbItems.length)return;const e=this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length-1];this.slottedBreadcrumbItems.forEach((t=>{const i=t===e;this.setItemSeparator(t,i),this.setAriaCurrent(t,i)}))}}setItemSeparator(e,t){e instanceof Li&&(e.separator=!t)}findChildAnchor(e){var t,i;return e.childElementCount>0?e.querySelector("a"):(null===(t=e.shadowRoot)||void 0===t?void 0:t.childElementCount)?null===(i=e.shadowRoot)||void 0===i?void 0:i.querySelector("a"):e}setAriaCurrent(e,t){const i=this.findChildAnchor(e);null!==i&&(t?i.setAttribute("aria-current","page"):i.removeAttribute("aria-current"))}}_t([C],Mi.prototype,"slottedBreadcrumbItems",void 0);const Vi="ElementInternals"in window&&"setFormValue"in window.ElementInternals.prototype,Pi=new WeakMap;function Hi(e){const t=class extends e{constructor(...e){super(...e),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return Vi}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const e=this.proxy.labels,t=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),i=e?t.concat(Array.from(e)):t;return Object.freeze(i)}return a}valueChanged(e,t){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),g.enqueue((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),g.enqueue((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!Vi)return null;let e=Pi.get(this);return e||(e=this.attachInternals(),Pi.set(this,e)),e}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){this.proxyEventsToBlock.forEach((e=>this.proxy.removeEventListener(e,this.stopPropagation))),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(e,t,i){this.elementInternals?this.elementInternals.setValidity(e,t,i):"string"==typeof t&&this.proxy.setCustomValidity(t)}formDisabledCallback(e){this.disabled=e}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var e;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((e=>this.proxy.addEventListener(e,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot","form-associated-proxy"),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name","form-associated-proxy")),null===(e=this.shadowRoot)||void 0===e||e.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var e;this.removeChild(this.proxy),null===(e=this.shadowRoot)||void 0===e||e.removeChild(this.proxySlot)}validate(e){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,e)}setFormValue(e,t){this.elementInternals&&this.elementInternals.setFormValue(e,t||e)}_keypressHandler(e){if("Enter"===e.key)if(this.form instanceof HTMLFormElement){const e=this.form.querySelector("[type=submit]");null==e||e.click()}}stopPropagation(e){e.stopPropagation()}};return rt({mode:"boolean"})(t.prototype,"disabled"),rt({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),rt({attribute:"current-value"})(t.prototype,"currentValue"),rt(t.prototype,"name"),rt({mode:"boolean"})(t.prototype,"required"),C(t.prototype,"value"),t}function Ni(e){class t extends(Hi(e)){}class i extends t{constructor(...e){super(e),this.dirtyChecked=!1,this.checkedAttribute=!1,this.checked=!1,this.dirtyChecked=!1}checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){this.dirtyChecked||(this.checked=this.defaultChecked,this.dirtyChecked=!1)}checkedChanged(e,t){this.dirtyChecked||(this.dirtyChecked=!0),this.currentChecked=this.checked,this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),void 0!==e&&this.$emit("change"),this.validate()}currentCheckedChanged(e,t){this.checked=this.currentChecked}updateForm(){const e=this.checked?this.value:null;this.setFormValue(e,e)}connectedCallback(){super.connectedCallback(),this.updateForm()}formResetCallback(){super.formResetCallback(),this.checked=!!this.checkedAttribute,this.dirtyChecked=!1}}return rt({attribute:"checked",mode:"boolean"})(i.prototype,"checkedAttribute"),rt({attribute:"current-checked",converter:tt})(i.prototype,"currentChecked"),C(i.prototype,"defaultChecked"),C(i.prototype,"checked"),i}class zi extends $t{}class Bi extends(Hi(zi)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const _i={submit:"submit",reset:"reset",button:"button"};class ji extends Bi{constructor(){super(...arguments),this.handleSubmission=()=>{if(!this.form)return;const e=this.proxy.isConnected;e||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),e||this.detachProxy()},this.handleFormReset=()=>{var e;null===(e=this.form)||void 0===e||e.reset()}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(e,t){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),t===_i.submit&&this.addEventListener("click",this.handleSubmission),e===_i.submit&&this.removeEventListener("click",this.handleSubmission),t===_i.reset&&this.addEventListener("click",this.handleFormReset),e===_i.reset&&this.removeEventListener("click",this.handleFormReset)}validate(){super.validate(this.control)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type)}}_t([rt({mode:"boolean"})],ji.prototype,"autofocus",void 0),_t([rt({attribute:"form"})],ji.prototype,"formId",void 0),_t([rt],ji.prototype,"formaction",void 0),_t([rt],ji.prototype,"formenctype",void 0),_t([rt],ji.prototype,"formmethod",void 0),_t([rt({mode:"boolean"})],ji.prototype,"formnovalidate",void 0),_t([rt],ji.prototype,"formtarget",void 0),_t([rt],ji.prototype,"type",void 0),_t([C],ji.prototype,"defaultSlottedContent",void 0);class qi{}function Ui(e={}){return Pe`<button class="control" part="control" ?autofocus="${e=>e.autofocus}" ?disabled="${e=>e.disabled}" form="${e=>e.formId}" formaction="${e=>e.formaction}" formenctype="${e=>e.formenctype}" formmethod="${e=>e.formmethod}" ?formnovalidate="${e=>e.formnovalidate}" formtarget="${e=>e.formtarget}" name="${e=>e.name}" type="${e=>e.type}" value="${e=>e.value}" aria-atomic="${e=>e.ariaAtomic}" aria-busy="${e=>e.ariaBusy}" aria-controls="${e=>e.ariaControls}" aria-current="${e=>e.ariaCurrent}" aria-describedby="${e=>e.ariaDescribedby}" aria-details="${e=>e.ariaDetails}" aria-disabled="${e=>e.ariaDisabled}" aria-errormessage="${e=>e.ariaErrormessage}" aria-expanded="${e=>e.ariaExpanded}" aria-flowto="${e=>e.ariaFlowto}" aria-haspopup="${e=>e.ariaHaspopup}" aria-hidden="${e=>e.ariaHidden}" aria-invalid="${e=>e.ariaInvalid}" aria-keyshortcuts="${e=>e.ariaKeyshortcuts}" aria-label="${e=>e.ariaLabel}" aria-labelledby="${e=>e.ariaLabelledby}" aria-live="${e=>e.ariaLive}" aria-owns="${e=>e.ariaOwns}" aria-pressed="${e=>e.ariaPressed}" aria-relevant="${e=>e.ariaRelevant}" aria-roledescription="${e=>e.ariaRoledescription}" ${Ne("control")}>${Wt(e)}<span class="content" part="content"><slot ${Qe("defaultSlottedContent")}></slot></span>${Kt(e)}</button>`}_t([rt({attribute:"aria-expanded"})],qi.prototype,"ariaExpanded",void 0),_t([rt({attribute:"aria-pressed"})],qi.prototype,"ariaPressed",void 0),si(qi,qt),si(ji,Ut,qi);const Ki={"2-digit":"2-digit",numeric:"numeric"},Wi={long:"long",narrow:"narrow",short:"short"},Gi={"2-digit":"2-digit",numeric:"numeric",short:"short",long:"long",narrow:"narrow"},Yi={"2-digit":"2-digit",numeric:"numeric"};class Xi{constructor(e){if(this.dayFormat=Ki.numeric,this.weekdayFormat=Wi.long,this.monthFormat=Gi.long,this.yearFormat=Yi.numeric,this.date=new Date,e)for(const t in e){const i=e[t];"date"===t?this.date=this.getDateObject(i):this[t]=i}}getDateObject(e){if("string"==typeof e){const t=e.split(/[/-]/);return t.length<3?new Date:new Date(parseInt(t[2],10),parseInt(t[0],10)-1,parseInt(t[1],10))}if("day"in e&&"month"in e&&"year"in e){const{day:t,month:i,year:s}=e;return new Date(s,i-1,t)}return e}getDate(e=this.date,t={weekday:this.weekdayFormat,month:this.monthFormat,day:this.dayFormat,year:this.yearFormat},i=this.locale){const s=this.getDateObject(e);if(!s.getTime())return"";const n=Object.assign({timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},t);return new Intl.DateTimeFormat(i,n).format(s)}getDay(e=this.date.getDate(),t=this.dayFormat,i=this.locale){return this.getDate({month:1,day:e,year:2020},{day:t},i)}getMonth(e=this.date.getMonth()+1,t=this.monthFormat,i=this.locale){return this.getDate({month:e,day:2,year:2020},{month:t},i)}getYear(e=this.date.getFullYear(),t=this.yearFormat,i=this.locale){return this.getDate({month:2,day:2,year:e},{year:t},i)}getWeekday(e=0,t=this.weekdayFormat,i=this.locale){const s=`1-${e+1}-2017`;return this.getDate(s,{weekday:t},i)}getWeekdays(e=this.weekdayFormat,t=this.locale){return Array(7).fill(null).map(((i,s)=>this.getWeekday(s,e,t)))}}class Qi extends $t{constructor(){super(...arguments),this.dateFormatter=new Xi,this.readonly=!1,this.locale="en-US",this.firstDay=0,this.month=(new Date).getMonth()+1,this.year=(new Date).getFullYear(),this.dayFormat=Ki.numeric,this.weekdayFormat=Wi.short,this.monthFormat=Gi.long,this.yearFormat=Yi.numeric,this.minWeeks=0,this.disabledDates="",this.selectedDates="",this.oneDayInMs=864e5}localeChanged(){this.dateFormatter.locale=this.locale}dayFormatChanged(){this.dateFormatter.dayFormat=this.dayFormat}weekdayFormatChanged(){this.dateFormatter.weekdayFormat=this.weekdayFormat}monthFormatChanged(){this.dateFormatter.monthFormat=this.monthFormat}yearFormatChanged(){this.dateFormatter.yearFormat=this.yearFormat}getMonthInfo(e=this.month,t=this.year){const i=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),s=e=>{const t=new Date(e.getFullYear(),e.getMonth()+1,1);return new Date(t.getTime()-this.oneDayInMs).getDate()},n=new Date(t,e-1),o=new Date(t,e),r=new Date(t,e-2);return{length:s(n),month:e,start:i(n),year:t,previous:{length:s(r),month:r.getMonth()+1,start:i(r),year:r.getFullYear()},next:{length:s(o),month:o.getMonth()+1,start:i(o),year:o.getFullYear()}}}getDays(e=this.getMonthInfo(),t=this.minWeeks){t=t>10?10:t;const{length:i,previous:s,next:n}=e;let o=e.start-Math.min(Math.max(0,this.firstDay),6);o=o<0?7+o:o;const r=[];let a=1-o;for(;a<i+1||r.length<t||r[r.length-1].length%7!=0;){const{month:t,year:o}=a<1?s:a>i?n:e,l=a<1?s.length+a:a>i?a-i:a,d=`${t}-${l}-${o}`,h={day:l,month:t,year:o,disabled:this.dateInString(d,this.disabledDates),selected:this.dateInString(d,this.selectedDates)},c=r[r.length-1];0===r.length||c.length%7==0?r.push([h]):c.push(h),a++}return r}dateInString(e,t){const i=t.split(",").map((e=>e.trim()));return e="string"==typeof e?e:`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`,i.some((t=>t===e))}getDayClassNames(e,t){const{day:i,month:s,year:n,disabled:o,selected:r}=e;return["day",t===`${s}-${i}-${n}`&&"today",this.month!==s&&"inactive",o&&"disabled",r&&"selected"].filter(Boolean).join(" ")}getWeekdayText(){const e=this.dateFormatter.getWeekdays().map((e=>({text:e})));if("long"!==this.weekdayFormat){const t=this.dateFormatter.getWeekdays("long");e.forEach(((e,i)=>{e.abbr=t[i]}))}const t=Math.min(Math.max(0,this.firstDay),6);return[...e.slice(t),...e.slice(0,t)]}handleDateSelect(e,t){e.preventDefault,this.$emit("dateselected",t)}handleKeydown(e,t){return"Enter"===e.key&&this.handleDateSelect(e,t),!0}}function Zi(){return Pe`<div class="title" part="title" aria-label="${e=>e.dateFormatter.getDate(`${e.month}-2-${e.year}`,{month:"long",year:"numeric"})}"><span part="month">${e=>e.dateFormatter.getMonth(e.month)}</span><span part="year">${e=>e.dateFormatter.getYear(e.year)}</span></div>`}function Ji(e){const t=Pe.partial(Bt(e.dataGridCell));return Pe`<${t} class="week-day" part="week-day" tabindex="-1" grid-column="${(e,t)=>t.index+1}" abbr="${e=>e.abbr}">${e=>e.text}</${t}>`}function es(e,t){const i=Pe.partial(Bt(e.dataGridCell));return Pe`<${i} class="${(e,i)=>i.parentContext.parent.getDayClassNames(e,t)}" part="day" tabindex="-1" role="gridcell" grid-column="${(e,t)=>t.index+1}" @click="${(e,t)=>t.parentContext.parent.handleDateSelect(t.event,e)}" @keydown="${(e,t)=>t.parentContext.parent.handleKeydown(t.event,e)}" aria-label="${(e,t)=>t.parentContext.parent.dateFormatter.getDate(`${e.month}-${e.day}-${e.year}`,{month:"long",day:"numeric"})}"><div class="date" part="${e=>t===`${e.month}-${e.day}-${e.year}`?"today":"date"}">${(e,t)=>t.parentContext.parent.dateFormatter.getDay(e.day)}</div><slot name="${e=>e.month}-${e=>e.day}-${e=>e.year}"></slot></${i}>`}function ts(e,t){const i=Pe.partial(Bt(e.dataGridRow));return Pe`<${i} class="week" part="week" role="row" role-type="default" grid-template-columns="1fr 1fr 1fr 1fr 1fr 1fr 1fr">${Ke((e=>e),es(e,t),{positioning:!0})}</${i}>`}function is(e,t){const i=Pe.partial(Bt(e.dataGrid)),s=Pe.partial(Bt(e.dataGridRow));return Pe`<${i} class="days interact" part="days" generate-header="none"><${s} class="week-days" part="week-days" role="row" row-type="header" grid-template-columns="1fr 1fr 1fr 1fr 1fr 1fr 1fr">${Ke((e=>e.getWeekdayText()),Ji(e),{positioning:!0})}</${s}>${Ke((e=>e.getDays()),ts(e,t))}</${i}>`}function ss(e,t){return Pe`<div class="days" part="days"><div class="week-days" part="week-days">${Ke((e=>e.getWeekdayText()),Pe`<div class="week-day" part="week-day" abbr="${e=>e.abbr}">${e=>e.text}</div>`)}</div>${Ke((e=>e.getDays()),Pe`<div class="week">${Ke((e=>e),Pe`<div class="${(e,i)=>i.parentContext.parent.getDayClassNames(e,t)}" part="day" aria-label="${(e,t)=>t.parentContext.parent.dateFormatter.getDate(`${e.month}-${e.day}-${e.year}`,{month:"long",day:"numeric"})}"><div class="date" part="${e=>t===`${e.month}-${e.day}-${e.year}`?"today":"date"}">${(e,t)=>t.parentContext.parent.dateFormatter.getDay(e.day)}</div><slot name="${e=>e.month}-${e=>e.day}-${e=>e.year}"></slot></div>`)}</div>`)}</div>`}function ns(e){const t=new Date,i=`${t.getMonth()+1}-${t.getDate()}-${t.getFullYear()}`;return Pe`<template>${Wt(e)} ${zt(e.title)}<slot></slot>${ze((e=>!1===e.readonly),is(e,i))} ${ze((e=>!0===e.readonly),ss(0,i))} ${Kt(e)}</template>`}function os(){return Pe`<slot></slot>`}_t([rt({mode:"boolean"})],Qi.prototype,"readonly",void 0),_t([rt],Qi.prototype,"locale",void 0),_t([rt({attribute:"first-day",converter:nt})],Qi.prototype,"firstDay",void 0),_t([rt({converter:nt})],Qi.prototype,"month",void 0),_t([rt({converter:nt})],Qi.prototype,"year",void 0),_t([rt({attribute:"day-format",mode:"fromView"})],Qi.prototype,"dayFormat",void 0),_t([rt({attribute:"weekday-format",mode:"fromView"})],Qi.prototype,"weekdayFormat",void 0),_t([rt({attribute:"month-format",mode:"fromView"})],Qi.prototype,"monthFormat",void 0),_t([rt({attribute:"year-format",mode:"fromView"})],Qi.prototype,"yearFormat",void 0),_t([rt({attribute:"min-weeks",converter:nt})],Qi.prototype,"minWeeks",void 0),_t([rt({attribute:"disabled-dates"})],Qi.prototype,"disabledDates",void 0),_t([rt({attribute:"selected-dates"})],Qi.prototype,"selectedDates",void 0),si(Qi,Ut);class rs extends $t{}function as(e={}){return Pe`<template role="checkbox" aria-checked="${e=>e.indeterminate?"mixed":e.checked}" aria-required="${e=>e.required}" aria-disabled="${e=>e.disabled}" tabindex="${e=>e.disabled?null:0}" @keypress="${(e,t)=>e.keypressHandler(t.event)}" @click="${(e,t)=>e.clickHandler(t.event)}"><div part="control" class="control"><slot name="checked-indicator">${zt(e.checkedIndicator)}</slot><slot name="indeterminate-indicator">${zt(e.indeterminateIndicator)}</slot></div><label part="label" class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"><slot ${Qe("defaultSlottedNodes")}></slot></label></template>`}class ls extends $t{}class ds extends(Ni(ls)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class hs extends ds{constructor(){super(),this.initialValue="on",this.indeterminate=!1,this.keypressHandler=e=>{if(!this.disabled&&" "===e.key)this.toggleChecked()},this.clickHandler=e=>{this.disabled||this.toggleChecked()},this.proxy.setAttribute("type","checkbox")}toggleChecked(){this.indeterminate&&(this.indeterminate=!1),this.checked=!this.checked}}function cs(e){return e.split("-")[0]}function us(e){return e.split("-")[1]}function ps(e){return["top","bottom"].includes(cs(e))?"x":"y"}function ms(e){return"y"===e?"height":"width"}function fs(e,t,i){let{reference:s,floating:n}=e;const o=s.x+s.width/2-n.width/2,r=s.y+s.height/2-n.height/2,a=ps(t),l=ms(a),d=s[l]/2-n[l]/2,h="x"===a;let c;switch(cs(t)){case"top":c={x:o,y:s.y-n.height};break;case"bottom":c={x:o,y:s.y+s.height};break;case"right":c={x:s.x+s.width,y:r};break;case"left":c={x:s.x-n.width,y:r};break;default:c={x:s.x,y:s.y}}switch(us(t)){case"start":c[a]-=d*(i&&h?-1:1);break;case"end":c[a]+=d*(i&&h?-1:1)}return c}_t([C],hs.prototype,"defaultSlottedNodes",void 0),_t([C],hs.prototype,"indeterminate",void 0);function vs(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function gs(e,t){var i;void 0===t&&(t={});const{x:s,y:n,platform:o,rects:r,elements:a,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:c="floating",altBoundary:u=!1,padding:p=0}=t,m=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(p),f=a[u?"floating"===c?"reference":"floating":c],v=vs(await o.getClippingRect({element:null==(i=await(null==o.isElement?void 0:o.isElement(f)))||i?f:f.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),g=vs(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===c?{...r.floating,x:s,y:n}:r.reference,offsetParent:await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),strategy:l}):r[c]);return{top:v.top-g.top+m.top,bottom:g.bottom-v.bottom+m.bottom,left:v.left-g.left+m.left,right:g.right-v.right+m.right}}const bs=Math.min,ys=Math.max;function xs(e,t,i){return ys(e,bs(t,i))}const ws={left:"right",right:"left",bottom:"top",top:"bottom"};function Cs(e){return e.replace(/left|right|bottom|top/g,(e=>ws[e]))}const $s={start:"end",end:"start"};function ks(e){return e.replace(/start|end/g,(e=>$s[e]))}const Is=["top","right","bottom","left"];const Es=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i;const{placement:s,middlewareData:n,rects:o,initialPlacement:r,platform:a,elements:l}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:c,fallbackStrategy:u="bestFit",flipAlignment:p=!0,...m}=e,f=cs(s),v=c||(f===r||!p?[Cs(r)]:function(e){const t=Cs(e);return[ks(e),t,ks(t)]}(r)),g=[r,...v],b=await gs(t,m),y=[];let x=(null==(i=n.flip)?void 0:i.overflows)||[];if(d&&y.push(b[f]),h){const{main:e,cross:t}=function(e,t,i){void 0===i&&(i=!1);const s=us(e),n=ps(e),o=ms(n);let r="x"===n?s===(i?"end":"start")?"right":"left":"start"===s?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=Cs(r)),{main:r,cross:Cs(r)}}(s,o,await(null==a.isRTL?void 0:a.isRTL(l.floating)));y.push(b[e],b[t])}if(x=[...x,{placement:s,overflows:y}],!y.every((e=>e<=0))){var w,C;const e=(null!=(w=null==(C=n.flip)?void 0:C.index)?w:0)+1,t=g[e];if(t)return{data:{index:e,overflows:x},reset:{placement:t}};let i="bottom";switch(u){case"bestFit":{var $;const e=null==($=x.map((e=>[e,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:$[0].placement;e&&(i=e);break}case"initialPlacement":i=r}if(s!==i)return{reset:{placement:i}}}return{}}}};function Ts(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ss(e){return Is.some((t=>e[t]>=0))}const Os=function(e){let{strategy:t="referenceHidden",...i}=void 0===e?{}:e;return{name:"hide",async fn(e){const{rects:s}=e;switch(t){case"referenceHidden":{const t=Ts(await gs(e,{...i,elementContext:"reference"}),s.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:Ss(t)}}}case"escaped":{const t=Ts(await gs(e,{...i,altBoundary:!0}),s.floating);return{data:{escapedOffsets:t,escaped:Ss(t)}}}default:return{}}}}};const As=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:s,placement:n}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:a={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...l}=e,d={x:i,y:s},h=await gs(t,l),c=ps(cs(n)),u="x"===c?"y":"x";let p=d[c],m=d[u];if(o){const e="y"===c?"bottom":"right";p=xs(p+h["y"===c?"top":"left"],p,p-h[e])}if(r){const e="y"===u?"bottom":"right";m=xs(m+h["y"===u?"top":"left"],m,m-h[e])}const f=a.fn({...t,[c]:p,[u]:m});return{...f,data:{x:f.x-i,y:f.y-s}}}}},Rs=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:i,rects:s,platform:n,elements:o}=t,{apply:r=(()=>{}),...a}=e,l=await gs(t,a),d=cs(i),h=us(i);let c,u;"top"===d||"bottom"===d?(c=d,u=h===(await(null==n.isRTL?void 0:n.isRTL(o.floating))?"start":"end")?"left":"right"):(u=d,c="end"===h?"top":"bottom");const p=ys(l.left,0),m=ys(l.right,0),f=ys(l.top,0),v=ys(l.bottom,0),g={availableHeight:s.floating.height-(["left","right"].includes(i)?2*(0!==f||0!==v?f+v:ys(l.top,l.bottom)):l[c]),availableWidth:s.floating.width-(["top","bottom"].includes(i)?2*(0!==p||0!==m?p+m:ys(l.left,l.right)):l[u])};await r({...t,...g});const b=await n.getDimensions(o.floating);return s.floating.width!==b.width||s.floating.height!==b.height?{reset:{rects:!0}}:{}}}};function Ds(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Ls(e){if(null==e)return window;if(!Ds(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fs(e){return Ls(e).getComputedStyle(e)}function Ms(e){return Ds(e)?"":e?(e.nodeName||"").toLowerCase():""}function Vs(){const e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function Ps(e){return e instanceof Ls(e).HTMLElement}function Hs(e){return e instanceof Ls(e).Element}function Ns(e){if("undefined"==typeof ShadowRoot)return!1;return e instanceof Ls(e).ShadowRoot||e instanceof ShadowRoot}function zs(e){const{overflow:t,overflowX:i,overflowY:s,display:n}=Fs(e);return/auto|scroll|overlay|hidden/.test(t+s+i)&&!["inline","contents"].includes(n)}function Bs(e){return["table","td","th"].includes(Ms(e))}function _s(e){const t=/firefox/i.test(Vs()),i=Fs(e);return"none"!==i.transform||"none"!==i.perspective||t&&"filter"===i.willChange||t&&!!i.filter&&"none"!==i.filter||["transform","perspective"].some((e=>i.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=i.contain;return null!=t&&t.includes(e)}))}function js(){return!/^((?!chrome|android).)*safari/i.test(Vs())}function qs(e){return["html","body","#document"].includes(Ms(e))}const Us=Math.min,Ks=Math.max,Ws=Math.round;function Gs(e,t,i){var s,n,o,r;void 0===t&&(t=!1),void 0===i&&(i=!1);const a=e.getBoundingClientRect();let l=1,d=1;t&&Ps(e)&&(l=e.offsetWidth>0&&Ws(a.width)/e.offsetWidth||1,d=e.offsetHeight>0&&Ws(a.height)/e.offsetHeight||1);const h=Hs(e)?Ls(e):window,c=!js()&&i,u=(a.left+(c&&null!=(s=null==(n=h.visualViewport)?void 0:n.offsetLeft)?s:0))/l,p=(a.top+(c&&null!=(o=null==(r=h.visualViewport)?void 0:r.offsetTop)?o:0))/d,m=a.width/l,f=a.height/d;return{width:m,height:f,top:p,right:u+m,bottom:p+f,left:u,x:u,y:p}}function Ys(e){return(t=e,(t instanceof Ls(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Xs(e){return Hs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Qs(e){return Gs(Ys(e)).left+Xs(e).scrollLeft}function Zs(e,t,i){const s=Ps(t),n=Ys(t),o=Gs(e,s&&function(e){const t=Gs(e);return Ws(t.width)!==e.offsetWidth||Ws(t.height)!==e.offsetHeight}(t),"fixed"===i);let r={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(s||!s&&"fixed"!==i)if(("body"!==Ms(t)||zs(n))&&(r=Xs(t)),Ps(t)){const e=Gs(t,!0);a.x=e.x+t.clientLeft,a.y=e.y+t.clientTop}else n&&(a.x=Qs(n));return{x:o.left+r.scrollLeft-a.x,y:o.top+r.scrollTop-a.y,width:o.width,height:o.height}}function Js(e){return"html"===Ms(e)?e:e.assignedSlot||e.parentNode||(Ns(e)?e.host:null)||Ys(e)}function en(e){return Ps(e)&&"fixed"!==Fs(e).position?e.offsetParent:null}function tn(e){const t=Ls(e);let i=en(e);for(;i&&Bs(i)&&"static"===Fs(i).position;)i=en(i);return i&&("html"===Ms(i)||"body"===Ms(i)&&"static"===Fs(i).position&&!_s(i))?t:i||function(e){let t=Js(e);for(Ns(t)&&(t=t.host);Ps(t)&&!qs(t);){if(_s(t))return t;{const e=t.parentNode;t=Ns(e)?e.host:e}}return null}(e)||t}function sn(e){if(Ps(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=Gs(e);return{width:t.width,height:t.height}}function nn(e){const t=Js(e);return qs(t)?e.ownerDocument.body:Ps(t)&&zs(t)?t:nn(t)}function on(e,t){var i;void 0===t&&(t=[]);const s=nn(e),n=s===(null==(i=e.ownerDocument)?void 0:i.body),o=Ls(s),r=n?[o].concat(o.visualViewport||[],zs(s)?s:[]):s,a=t.concat(r);return n?a:a.concat(on(r))}function rn(e,t,i){return"viewport"===t?vs(function(e,t){const i=Ls(e),s=Ys(e),n=i.visualViewport;let o=s.clientWidth,r=s.clientHeight,a=0,l=0;if(n){o=n.width,r=n.height;const e=js();(e||!e&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:o,height:r,x:a,y:l}}(e,i)):Hs(t)?function(e,t){const i=Gs(e,!1,"fixed"===t),s=i.top+e.clientTop,n=i.left+e.clientLeft;return{top:s,left:n,x:n,y:s,right:n+e.clientWidth,bottom:s+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,i):vs(function(e){var t;const i=Ys(e),s=Xs(e),n=null==(t=e.ownerDocument)?void 0:t.body,o=Ks(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=Ks(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0);let a=-s.scrollLeft+Qs(e);const l=-s.scrollTop;return"rtl"===Fs(n||i).direction&&(a+=Ks(i.clientWidth,n?n.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(Ys(e)))}function an(e){const t=on(e),i=function(e,t){let i=e;for(;i&&!qs(i)&&!t.includes(i)&&(!Hs(i)||!["absolute","fixed"].includes(Fs(i).position));){const e=Js(i);i=Ns(e)?e.host:e}return i}(e,t);let s=null;if(i&&Ps(i)){const e=tn(i);zs(i)?s=i:Ps(e)&&(s=e)}return Hs(s)?t.filter((e=>s&&Hs(e)&&function(e,t){const i=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(i&&Ns(i)){let i=t;do{if(i&&e===i)return!0;i=i.parentNode||i.host}while(i)}return!1}(e,s)&&"body"!==Ms(e))):[]}const ln={getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:s,strategy:n}=e;const o=[..."clippingAncestors"===i?an(t):[].concat(i),s],r=o[0],a=o.reduce(((e,i)=>{const s=rn(t,i,n);return e.top=Ks(s.top,e.top),e.right=Us(s.right,e.right),e.bottom=Us(s.bottom,e.bottom),e.left=Ks(s.left,e.left),e}),rn(t,r,n));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:i,strategy:s}=e;const n=Ps(i),o=Ys(i);if(i===o)return t;let r={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((n||!n&&"fixed"!==s)&&(("body"!==Ms(i)||zs(o))&&(r=Xs(i)),Ps(i))){const e=Gs(i,!0);a.x=e.x+i.clientLeft,a.y=e.y+i.clientTop}return{...t,x:t.x-r.scrollLeft+a.x,y:t.y-r.scrollTop+a.y}},isElement:Hs,getDimensions:sn,getOffsetParent:tn,getDocumentElement:Ys,getElementRects:e=>{let{reference:t,floating:i,strategy:s}=e;return{reference:Zs(t,tn(i),s),floating:{...sn(i),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===Fs(e).direction};function dn(e,t,i,s){void 0===s&&(s={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:r=!0,animationFrame:a=!1}=s,l=n&&!a,d=l||o?[...Hs(e)?on(e):[],...on(t)]:[];d.forEach((e=>{l&&e.addEventListener("scroll",i,{passive:!0}),o&&e.addEventListener("resize",i)}));let h,c=null;if(r){let s=!0;c=new ResizeObserver((()=>{s||i(),s=!1})),Hs(e)&&!a&&c.observe(e),c.observe(t)}let u=a?Gs(e):null;return a&&function t(){const s=Gs(e);!u||s.x===u.x&&s.y===u.y&&s.width===u.width&&s.height===u.height||i();u=s,h=requestAnimationFrame(t)}(),i(),()=>{var e;d.forEach((e=>{l&&e.removeEventListener("scroll",i),o&&e.removeEventListener("resize",i)})),null==(e=c)||e.disconnect(),c=null,a&&cancelAnimationFrame(h)}}const hn=(e,t,i)=>(async(e,t,i)=>{const{placement:s="bottom",strategy:n="absolute",middleware:o=[],platform:r}=i,a=await(null==r.isRTL?void 0:r.isRTL(t));if("production"!==process.env.NODE_ENV&&(null==r&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),o.filter((e=>{let{name:t}=e;return"autoPlacement"===t||"flip"===t})).length>1))throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));let l=await r.getElementRects({reference:e,floating:t,strategy:n}),{x:d,y:h}=fs(l,s,a),c=s,u={},p=0;for(let i=0;i<o.length;i++){const{name:m,fn:f}=o[i],{x:v,y:g,data:b,reset:y}=await f({x:d,y:h,initialPlacement:s,placement:c,strategy:n,middlewareData:u,rects:l,platform:r,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=g?g:h,u={...u,[m]:{...u[m],...b}},"production"!==process.env.NODE_ENV&&p>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(c=y.placement),y.rects&&(l=!0===y.rects?await r.getElementRects({reference:e,floating:t,strategy:n}):y.rects),({x:d,y:h}=fs(l,c,a))),i=-1)}return{x:d,y:h,placement:c,strategy:n,middlewareData:u}})(e,t,{platform:ln,...i});function cn(e){return Xt(e)&&("option"===e.getAttribute("role")||e instanceof HTMLOptionElement)}class un extends $t{constructor(e,t,i,s){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,e&&(this.textContent=e),t&&(this.initialValue=t),i&&(this.defaultSelected=i),s&&(this.selected=s),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}checkedChanged(e,t){this.ariaChecked="boolean"!=typeof t?null:t?"true":"false"}contentChanged(e,t){this.proxy instanceof HTMLOptionElement&&(this.proxy.textContent=this.textContent),this.$emit("contentchange",null,{bubbles:!0})}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(e,t){this.ariaDisabled=this.disabled?"true":"false",this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.ariaSelected=this.selected?"true":"false",this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected)}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){var e;return null!==(e=this.value)&&void 0!==e?e:this.text}get text(){var e,t;return null!==(t=null===(e=this.textContent)||void 0===e?void 0:e.replace(/\s+/g," ").trim())&&void 0!==t?t:""}set value(e){const t=`${null!=e?e:""}`;this._value=t,this.dirtyValue=!0,this.proxy instanceof HTMLOptionElement&&(this.proxy.value=t),w.notify(this,"value")}get value(){var e;return w.track(this,"value"),null!==(e=this._value)&&void 0!==e?e:this.text}get form(){return this.proxy?this.proxy.form:null}}_t([C],un.prototype,"checked",void 0),_t([C],un.prototype,"content",void 0),_t([C],un.prototype,"defaultSelected",void 0),_t([rt({mode:"boolean"})],un.prototype,"disabled",void 0),_t([rt({attribute:"selected",mode:"boolean"})],un.prototype,"selectedAttribute",void 0),_t([C],un.prototype,"selected",void 0),_t([rt({attribute:"value",mode:"fromView"})],un.prototype,"initialValue",void 0);class pn{}_t([C],pn.prototype,"ariaChecked",void 0),_t([C],pn.prototype,"ariaPosInSet",void 0),_t([C],pn.prototype,"ariaSelected",void 0),_t([C],pn.prototype,"ariaSetSize",void 0),si(pn,qt),si(un,Ut,pn);class mn extends $t{constructor(){super(...arguments),this._options=[],this.selectedIndex=-1,this.selectedOptions=[],this.shouldSkipFocus=!1,this.typeaheadBuffer="",this.typeaheadExpired=!0,this.typeaheadTimeout=-1}get firstSelectedOption(){var e;return null!==(e=this.selectedOptions[0])&&void 0!==e?e:null}get hasSelectableOptions(){return this.options.length>0&&!this.options.every((e=>e.disabled))}get length(){var e,t;return null!==(t=null===(e=this.options)||void 0===e?void 0:e.length)&&void 0!==t?t:0}get options(){return w.track(this,"options"),this._options}set options(e){this._options=e,w.notify(this,"options")}get typeAheadExpired(){return this.typeaheadExpired}set typeAheadExpired(e){this.typeaheadExpired=e}clickHandler(e){const t=e.target.closest("option,[role=option]");if(t&&!t.disabled)return this.selectedIndex=this.options.indexOf(t),!0}focusAndScrollOptionIntoView(e=this.firstSelectedOption){this.contains(document.activeElement)&&null!==e&&(e.focus(),requestAnimationFrame((()=>{e.scrollIntoView({block:"nearest"})})))}focusinHandler(e){this.shouldSkipFocus||e.target!==e.currentTarget||(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}getTypeaheadMatches(){const e=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),t=new RegExp(`^${e}`,"gi");return this.options.filter((e=>e.text.trim().match(t)))}getSelectableIndex(e=this.selectedIndex,t){const i=e>t?-1:e<t?1:0,s=e+i;let n=null;switch(i){case-1:n=this.options.reduceRight(((e,t,i)=>!e&&!t.disabled&&i<s?t:e),n);break;case 1:n=this.options.reduce(((e,t,i)=>!e&&!t.disabled&&i>s?t:e),n)}return this.options.indexOf(n)}handleChange(e,t){if("selected"===t)mn.slottedOptionFilter(e)&&(this.selectedIndex=this.options.indexOf(e)),this.setSelectedOptions()}handleTypeAhead(e){this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeaheadExpired=!0),mn.TYPE_AHEAD_TIMEOUT_MS),e.length>1||(this.typeaheadBuffer=`${this.typeaheadExpired?"":this.typeaheadBuffer}${e}`)}keydownHandler(e){if(this.disabled)return!0;this.shouldSkipFocus=!1;const t=e.key;switch(t){case"Home":e.shiftKey||(e.preventDefault(),this.selectFirstOption());break;case"ArrowDown":e.shiftKey||(e.preventDefault(),this.selectNextOption());break;case"ArrowUp":e.shiftKey||(e.preventDefault(),this.selectPreviousOption());break;case"End":e.preventDefault(),this.selectLastOption();break;case"Tab":return this.focusAndScrollOptionIntoView(),!0;case"Enter":case"Escape":return!0;case" ":if(this.typeaheadExpired)return!0;default:return 1===t.length&&this.handleTypeAhead(`${t}`),!0}}mousedownHandler(e){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}multipleChanged(e,t){this.ariaMultiSelectable=t?"true":null}selectedIndexChanged(e,t){var i;if(this.hasSelectableOptions){if((null===(i=this.options[this.selectedIndex])||void 0===i?void 0:i.disabled)&&"number"==typeof e){const i=this.getSelectableIndex(e,t),s=i>-1?i:e;return this.selectedIndex=s,void(t===s&&this.selectedIndexChanged(t,s))}this.setSelectedOptions()}else this.selectedIndex=-1}selectedOptionsChanged(e,t){var i;const s=t.filter(mn.slottedOptionFilter);null===(i=this.options)||void 0===i||i.forEach((e=>{const t=w.getNotifier(e);t.unsubscribe(this,"selected"),e.selected=s.includes(e),t.subscribe(this,"selected")}))}selectFirstOption(){var e,t;this.disabled||(this.selectedIndex=null!==(t=null===(e=this.options)||void 0===e?void 0:e.findIndex((e=>!e.disabled)))&&void 0!==t?t:-1)}selectLastOption(){this.disabled||(this.selectedIndex=function(e,t){let i=e.length;for(;i--;)if(t(e[i],i,e))return i;return-1}(this.options,(e=>!e.disabled)))}selectNextOption(){!this.disabled&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){var e,t;this.selectedIndex=null!==(t=null===(e=this.options)||void 0===e?void 0:e.findIndex((e=>e.defaultSelected)))&&void 0!==t?t:-1}setSelectedOptions(){var e,t,i;(null===(e=this.options)||void 0===e?void 0:e.length)&&(this.selectedOptions=[this.options[this.selectedIndex]],this.ariaActiveDescendant=null!==(i=null===(t=this.firstSelectedOption)||void 0===t?void 0:t.id)&&void 0!==i?i:"",this.focusAndScrollOptionIntoView())}slottedOptionsChanged(e,t){this.options=t.reduce(((e,t)=>(cn(t)&&e.push(t),e)),[]);const i=`${this.options.length}`;this.options.forEach(((e,t)=>{e.id||(e.id=ii("option-")),e.ariaPosInSet=`${t+1}`,e.ariaSetSize=i})),this.$fastController.isConnected&&(this.setSelectedOptions(),this.setDefaultSelectedOption())}typeaheadBufferChanged(e,t){if(this.$fastController.isConnected){const e=this.getTypeaheadMatches();if(e.length){const t=this.options.indexOf(e[0]);t>-1&&(this.selectedIndex=t)}this.typeaheadExpired=!1}}}mn.slottedOptionFilter=e=>cn(e)&&!e.hidden,mn.TYPE_AHEAD_TIMEOUT_MS=1e3,_t([rt({mode:"boolean"})],mn.prototype,"disabled",void 0),_t([C],mn.prototype,"selectedIndex",void 0),_t([C],mn.prototype,"selectedOptions",void 0),_t([C],mn.prototype,"slottedOptions",void 0),_t([C],mn.prototype,"typeaheadBuffer",void 0);class fn{}_t([C],fn.prototype,"ariaActiveDescendant",void 0),_t([C],fn.prototype,"ariaDisabled",void 0),_t([C],fn.prototype,"ariaExpanded",void 0),_t([C],fn.prototype,"ariaMultiSelectable",void 0),si(fn,qt),si(mn,fn);class vn extends mn{}class gn extends(Hi(vn)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const bn={inline:"inline",list:"list",both:"both",none:"none"};class yn extends gn{constructor(){super(...arguments),this._value="",this.filteredOptions=[],this.filter="",this.listboxId=ii("listbox-"),this.open=!1}formResetCallback(){var e;super.formResetCallback(),this.setDefaultSelectedOption(),this.firstSelectedOption?this.updateValue():this.value=null!==(e=this.initialValue)&&void 0!==e?e:""}validate(){super.validate(this.control)}get isAutocompleteInline(){return this.autocomplete===bn.inline||this.isAutocompleteBoth}get isAutocompleteList(){return this.autocomplete===bn.list||this.isAutocompleteBoth}get isAutocompleteBoth(){return this.autocomplete===bn.both}openChanged(){if(this.open)return this.ariaControls=this.listboxId,this.ariaExpanded="true",g.enqueue((()=>this.setPositioning())),this.focusAndScrollOptionIntoView(),void g.enqueue((()=>this.focus()));this.ariaControls="",this.ariaExpanded="false"}get options(){return w.track(this,"options"),this.filteredOptions.length?this.filteredOptions:this._options}set options(e){this._options=e,w.notify(this,"options")}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}get value(){return w.track(this,"value"),this._value}set value(e){var t,i,s;const n=`${this._value}`;if(this.$fastController.isConnected&&this.options){const n=this.options.findIndex((t=>t.text.toLowerCase()===e.toLowerCase())),o=null===(t=this.options[this.selectedIndex])||void 0===t?void 0:t.text,r=null===(i=this.options[n])||void 0===i?void 0:i.text;this.selectedIndex=o!==r?n:this.selectedIndex,e=(null===(s=this.firstSelectedOption)||void 0===s?void 0:s.text)||e}n!==e&&(this._value=e,super.valueChanged(n,e),w.notify(this,"value"))}clickHandler(e){if(!this.disabled){if(this.open){const t=e.target.closest("option,[role=option]");if(!t||t.disabled)return;this.selectedOptions=[t],this.control.value=t.text,this.clearSelectionRange(),this.updateValue(!0)}return this.open=!this.open,this.open&&this.control.focus(),!0}}connectedCallback(){super.connectedCallback(),this.value&&(this.initialValue=this.value)}disabledChanged(e,t){super.disabledChanged&&super.disabledChanged(e,t),this.ariaDisabled=this.disabled?"true":"false"}disconnectedCallback(){var e;null===(e=this.cleanup)||void 0===e||e.call(this),super.disconnectedCallback()}filterOptions(){this.autocomplete&&this.autocomplete!==bn.none||(this.filter="");const e=this.filter.toLowerCase();this.filteredOptions=this._options.filter((e=>e.text.toLowerCase().startsWith(this.filter.toLowerCase()))),this.isAutocompleteList&&(this.filteredOptions.length||e||(this.filteredOptions=this._options),this._options.forEach((e=>{e.hidden=!this.filteredOptions.includes(e)})))}focusAndScrollOptionIntoView(){this.contains(document.activeElement)&&(this.control.focus(),this.firstSelectedOption&&requestAnimationFrame((()=>{var e;null===(e=this.firstSelectedOption)||void 0===e||e.scrollIntoView({block:"nearest"})})))}focusoutHandler(e){if(this.updateValue(),!this.open)return!0;const t=e.relatedTarget;this.isSameNode(t)?this.focus():this.options&&this.options.includes(t)||(this.open=!1)}inputHandler(e){if(this.filter=this.control.value,this.filterOptions(),"deleteContentBackward"===e.inputType||!this.filter.length)return!0;this.isAutocompleteList&&!this.open&&(this.open=!0),this.isAutocompleteInline&&this.filteredOptions.length&&(this.selectedOptions=[this.filteredOptions[0]],this.selectedIndex=this.options.indexOf(this.firstSelectedOption),this.setInlineSelection())}keydownHandler(e){const t=e.key;if(e.ctrlKey||e.shiftKey)return!0;switch(t){case"Enter":this.updateValue(!0),this.isAutocompleteInline&&(this.filter=this.value),this.open=!1,this.clearSelectionRange();break;case"Escape":if(this.isAutocompleteInline||(this.selectedIndex=-1),this.open){this.open=!1;break}this.value="",this.control.value="",this.filter="",this.filterOptions();break;case"Tab":if(this.updateValue(),!this.open)return!0;e.preventDefault(),this.open=!1;break;case"ArrowUp":case"ArrowDown":if(this.filterOptions(),!this.open){this.open=!0;break}this.filteredOptions.length>0&&super.keydownHandler(e),this.isAutocompleteInline&&(this.updateValue(),this.setInlineSelection());break;default:return!0}}keyupHandler(e){switch(e.key){case"ArrowLeft":case"ArrowRight":case"Backspace":case"Delete":case"Home":case"End":this.filter=this.control.value,this.selectedIndex=-1,this.filterOptions()}}selectedIndexChanged(e,t){if(this.$fastController.isConnected){if((t=Jt(-1,this.options.length-1,t))!==this.selectedIndex)return void(this.selectedIndex=t);super.selectedIndexChanged(e,t)}}selectPreviousOption(){!this.disabled&&this.selectedIndex>=0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){if(this.$fastController.isConnected&&this.options){const e=this.options.findIndex((e=>null!==e.getAttribute("selected")||e.selected));this.selectedIndex=e,!this.dirtyValue&&this.firstSelectedOption?this.value=this.firstSelectedOption.text:this.value="",this.setSelectedOptions()}}setInlineSelection(){this.firstSelectedOption&&(this.control.value=this.firstSelectedOption.text,this.control.focus(),this.control.setSelectionRange(this.filter.length,this.control.value.length,"backward"))}setPositioning(){this.$fastController.isConnected&&(this.cleanup=dn(this,this.listbox,(()=>jt(this,void 0,void 0,(function*(){var e;const{middlewareData:t,x:i,y:s}=yield hn(this,this.listbox,{placement:"bottom",strategy:"fixed",middleware:[Es(),Rs({apply:({availableHeight:e,rects:t})=>{Object.assign(this.listbox.style,{maxHeight:`${e}px`,width:`${t.reference.width}px`})}}),Os()]});if(null===(e=t.hide)||void 0===e?void 0:e.referenceHidden)return this.open=!1,void this.cleanup();Object.assign(this.listbox.style,{position:"fixed",top:"0",left:"0",transform:`translate(${i}px, ${s}px)`})})))))}selectedOptionsChanged(e,t){this.$fastController.isConnected&&this._options.forEach((e=>{e.selected=t.includes(e)}))}slottedOptionsChanged(e,t){super.slottedOptionsChanged(e,t),this.updateValue()}updateValue(e){var t;this.$fastController.isConnected&&(this.value=(null===(t=this.firstSelectedOption)||void 0===t?void 0:t.text)||this.control.value),e&&this.$emit("change")}clearSelectionRange(){const e=this.control.value.length;this.control.setSelectionRange(e,e)}}_t([rt({attribute:"autocomplete",mode:"fromView"})],yn.prototype,"autocomplete",void 0),_t([rt({attribute:"open",mode:"boolean"})],yn.prototype,"open",void 0),_t([rt],yn.prototype,"placeholder",void 0);class xn{}function wn(e={}){return Pe`<template aria-disabled="${e=>e.ariaDisabled}" autocomplete="${e=>e.autocomplete}" ?open="${e=>e.open}" tabindex="${e=>e.disabled?null:"0"}" @click="${(e,t)=>e.clickHandler(t.event)}" @focusout="${(e,t)=>e.focusoutHandler(t.event)}" @keydown="${(e,t)=>e.keydownHandler(t.event)}"><div class="control" part="control">${Wt(e)}<slot name="control"><input aria-activedescendant="${e=>e.open?e.ariaActiveDescendant:null}" aria-autocomplete="${e=>e.ariaAutoComplete}" aria-controls="${e=>e.ariaControls}" aria-disabled="${e=>e.ariaDisabled}" aria-expanded="${e=>e.ariaExpanded}" aria-haspopup="listbox" class="selected-value" part="selected-value" placeholder="${e=>e.placeholder}" role="combobox" type="text" ?disabled="${e=>e.disabled}" :value="${e=>e.value}" @input="${(e,t)=>e.inputHandler(t.event)}" @keyup="${(e,t)=>e.keyupHandler(t.event)}" ${Ne("control")} /><div class="indicator" part="indicator" aria-hidden="true"><slot name="indicator">${zt(e.indicator)}</slot></div></slot>${Kt(e)}</div><div class="listbox" id="${e=>e.listboxId}" part="listbox" role="listbox" ?disabled="${e=>e.disabled}" ?hidden="${e=>!e.open}" ${Ne("listbox")}><slot ${Qe({filter:mn.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}></slot></div></template>`}function Cn(e){const t=Bt(e.dataGridRow);return Pe`<template role="grid" tabindex="0" :rowElementTag="${t}" :defaultRowItemTemplate="${function(e){const t=Pe.partial(Bt(e.dataGridRow));return Pe`<${t} :rowData="${e=>e}" :cellItemTemplate="${(e,t)=>t.parent.cellItemTemplate}" :headerCellItemTemplate="${(e,t)=>t.parent.headerCellItemTemplate}"></${t}>`}(e)}" ${Je({property:"rowElements",filter:Ge("[role=row]")})}><slot></slot></template>`}function $n(e){const t=e.parentElement;if(t)return t;{const t=e.getRootNode();if(t.host instanceof HTMLElement)return t.host}return null}_t([C],xn.prototype,"ariaAutoComplete",void 0),_t([C],xn.prototype,"ariaControls",void 0),si(xn,fn),si(yn,Ut,xn);const kn=Object.freeze({create(e){const t=[],i={};let s=null,n=!1;return{source:e,context:I.default,targets:i,get isBound(){return n},addBehaviorFactory(e,t){var i,s,n,o;const r=e;r.id=null!==(i=r.id)&&void 0!==i?i:ce(),r.targetNodeId=null!==(s=r.targetNodeId)&&void 0!==s?s:ce(),r.targetTagName=null!==(n=t.tagName)&&void 0!==n?n:null,r.policy=null!==(o=r.policy)&&void 0!==o?o:v.policy,this.addTarget(r.targetNodeId,t),this.addBehavior(r.createBehavior())},addTarget(e,t){i[e]=t},addBehavior(e){t.push(e),n&&e.bind(this)},onUnbind(e){null===s&&(s=[]),s.push(e)},connectedCallback(e){n||(n=!0,t.forEach((e=>e.bind(this))))},disconnectedCallback(e){n&&(n=!1,null!==s&&s.forEach((e=>e.unbind(this))))}}}}),In={none:"none",default:"default",sticky:"sticky"},En={default:"default",columnHeader:"columnheader",rowHeader:"rowheader"},Tn={default:"default",header:"header",stickyHeader:"sticky-header"},Sn={columnheader:"columnheader",rowheader:"rowheader",default:"gridcell"},On={none:"none",singleRow:"single-row",multiRow:"multi-row"},An={programmatic:"programmatic",keyboardOnly:"keyboard-only",auto:"auto"};class Rn extends $t{constructor(){super(...arguments),this.noTabbing=!1,this.generateHeader=In.default,this.selectionMode=On.none,this.selectionBehavior=An.auto,this.rowSelectableCallback=Rn.defaultRowSelectableCallback,this.rowsData=[],this.columnDefinitions=null,this.focusRowIndex=0,this.focusColumnIndex=0,this._selectedRowIndexes=[],this.rowsPlaceholder=null,this.behaviorOrchestrator=null,this.generatedHeader=null,this.isUpdatingFocus=!1,this.pendingFocusUpdate=!1,this.rowindexUpdateQueued=!1,this.columnDefinitionsStale=!0,this.generatedGridTemplateColumns="",this.lastNotShiftSelectedRowIndex=-1,this.preShiftRowSelection=null,this.selectionUpdated=!1,this.focusOnCell=(e,t,i)=>{if(0===this.rowElements.length)return this.focusRowIndex=0,void(this.focusColumnIndex=0);const s=Math.max(0,Math.min(this.rowElements.length-1,e)),n=this.rowElements[s].querySelectorAll('[role="cell"], [role="gridcell"], [role="columnheader"], [role="rowheader"]'),o=n[Math.max(0,Math.min(n.length-1,t))];o&&(o.scrollIntoView({block:i}),o.focus())},this.onChildListChange=(e,t)=>{this.deselectAllRows(),e&&e.length&&(e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&"row"===e.getAttribute("role")&&(e.columnDefinitions=this.columnDefinitions)}))})),this.queueRowIndexUpdate())},this.queueRowIndexUpdate=()=>{this.rowindexUpdateQueued||(this.rowindexUpdateQueued=!0,g.enqueue(this.updateRowIndexes))},this.updateRowIndexes=()=>{let e=this.gridTemplateColumns;if(void 0===e){if(""===this.generatedGridTemplateColumns&&this.rowElements.length>0){const e=this.rowElements[0];this.generatedGridTemplateColumns=new Array(e.cellElements.length).fill("1fr").join(" ")}e=this.generatedGridTemplateColumns}this.rowElements.forEach(((t,i)=>{const s=t;s.rowIndex=i,s.gridTemplateColumns=e,s.selectionBehavior=this.selectionBehavior,this.selectionMode!==On.singleRow&&this.selectionMode!==On.multiRow||(s.selected=!!this._selectedRowIndexes.includes(i)),this.columnDefinitionsStale&&(s.columnDefinitions=this.columnDefinitions)})),this.rowindexUpdateQueued=!1,this.columnDefinitionsStale=!1,this.selectionUpdated&&(this.selectionUpdated=!1,this.$emit("selectionchange"))}}static generateTemplateColumns(e){let t="";return e.forEach((e=>{t=`${t}${""===t?"":" "}1fr`})),t}static defaultRowSelectableCallback(e,t){return!(t.rowElements.length<e||t.rowElements[e].rowType!==Tn.default)}noTabbingChanged(){this.$fastController.isConnected&&(this.noTabbing?this.setAttribute("tabIndex","-1"):this.setAttribute("tabIndex",this.contains(document.activeElement)||this===document.activeElement?"-1":"0"))}generateHeaderChanged(){this.$fastController.isConnected&&this.toggleGeneratedHeader()}gridTemplateColumnsChanged(){this.$fastController.isConnected&&this.updateRowIndexes()}selectionModeChanged(e,t){this.$fastController.isConnected&&("single-row"!==e&&"multi-row"!==e||this.removeEventListener("rowselectionchange",this.handleRowSelectedChange),"single-row"!==t&&"multi-row"!==t||this.addEventListener("rowselectionchange",this.handleRowSelectedChange),this.deselectAllRows())}rowsDataChanged(){null===this.columnDefinitions&&this.rowsData.length>0&&(this.columnDefinitions=Rn.generateColumns(this.rowsData[0])),this.$fastController.isConnected&&(this.toggleGeneratedHeader(),this.deselectAllRows())}columnDefinitionsChanged(){this.columnDefinitions&&(this.generatedGridTemplateColumns=Rn.generateTemplateColumns(this.columnDefinitions),this.$fastController.isConnected&&(this.columnDefinitionsStale=!0,this.queueRowIndexUpdate()))}headerCellItemTemplateChanged(){this.$fastController.isConnected&&null!==this.generatedHeader&&(this.generatedHeader.headerCellItemTemplate=this.headerCellItemTemplate)}focusRowIndexChanged(){this.$fastController.isConnected&&this.queueFocusUpdate()}focusColumnIndexChanged(){this.$fastController.isConnected&&this.queueFocusUpdate()}get selectedRowIndexes(){return this._selectedRowIndexes.slice()}set selectedRowIndexes(e){this.selectionMode!==On.multiRow&&this.selectionMode!==On.singleRow||(e=e.filter((e=>this.rowSelectableCallback(e,this))),this.selectionMode===On.singleRow&&e.length>1?this._selectedRowIndexes.splice(0,this.selectedRowIndexes.length,e[0]):this._selectedRowIndexes.splice(0,this.selectedRowIndexes.length,...e),this.selectionUpdated=!0,this.queueRowIndexUpdate())}connectedCallback(){super.connectedCallback(),void 0===this.rowItemTemplate&&(this.rowItemTemplate=this.defaultRowItemTemplate),null===this.behaviorOrchestrator&&(this.behaviorOrchestrator=kn.create(this),this.$fastController.addBehavior(this.behaviorOrchestrator),this.behaviorOrchestrator.addBehaviorFactory(new Ue(B((e=>e.rowsData)),B((e=>e.rowItemTemplate)),{positioning:!0}),this.appendChild(this.rowsPlaceholder=document.createComment("")))),this.toggleGeneratedHeader(),this.addEventListener("row-focused",this.handleRowFocus),this.addEventListener("focus",this.handleFocus),this.addEventListener("keydown",this.handleKeydown),this.addEventListener("focusout",this.handleFocusOut),this.selectionMode!==On.singleRow&&this.selectionMode!==On.multiRow||this.addEventListener("rowselectionchange",this.handleRowSelectedChange),this.observer=new MutationObserver(this.onChildListChange),this.observer.observe(this,{childList:!0}),this.noTabbing&&this.setAttribute("tabindex","-1"),g.enqueue((()=>{if(this.selectionMode!==On.none&&this.initialRowSelection){const e=this.initialRowSelection.split(","),t=[];e.forEach((e=>{t.push(parseInt(e.trim()))})),this.updateSelectedRows(t)}})),this.queueRowIndexUpdate()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("row-focused",this.handleRowFocus),this.removeEventListener("focus",this.handleFocus),this.removeEventListener("keydown",this.handleKeydown),this.removeEventListener("focusout",this.handleFocusOut),this.selectionMode!==On.singleRow&&this.selectionMode!==On.multiRow||this.removeEventListener("rowselectionchange",this.handleRowSelectedChange),this.observer.disconnect(),null!==this.generatedHeader&&(this.removeChild(this.generatedHeader),this.generatedHeader=null)}handleRowFocus(e){this.isUpdatingFocus=!0;const t=e.target;this.focusRowIndex=this.rowElements.indexOf(t),this.focusColumnIndex=t.focusColumnIndex,this.setAttribute("tabIndex","-1"),this.isUpdatingFocus=!1}handleFocus(e){this.focusOnCell(this.focusRowIndex,this.focusColumnIndex,"nearest")}handleFocusOut(e){null!==e.relatedTarget&&this.contains(e.relatedTarget)||this.setAttribute("tabIndex",this.noTabbing?"-1":"0")}handleKeydown(e){if(e.defaultPrevented)return;let t;switch(e.key){case"ArrowUp":e.preventDefault(),this.focusOnCell(this.focusRowIndex-1,this.focusColumnIndex,"nearest");break;case"ArrowDown":e.preventDefault(),this.focusOnCell(this.focusRowIndex+1,this.focusColumnIndex,"nearest");break;case"PageUp":if(e.preventDefault(),0===this.rowElements.length){this.focusOnCell(0,0,"nearest");break}t=Math.max(0,this.focusRowIndex-this.getPageSize()),this.focusOnCell(t,this.focusColumnIndex,"start");break;case"PageDown":if(e.preventDefault(),0===this.rowElements.length){this.focusOnCell(0,0,"nearest");break}t=Math.min(this.rowElements.length-1,this.focusRowIndex+this.getPageSize()),this.focusOnCell(t,this.focusColumnIndex,"end");break;case"Home":e.ctrlKey&&(e.preventDefault(),this.focusOnCell(0,0,"nearest"));break;case"End":e.ctrlKey&&null!==this.columnDefinitions&&(e.preventDefault(),this.focusOnCell(this.rowElements.length-1,this.columnDefinitions.length-1,"nearest"));break;case"a":if(!e.ctrlKey)return;if("multi-row"===this.selectionMode)return this.selectAllRows(),void e.preventDefault()}}handleRowSelectedChange(e){if(e.defaultPrevented||this.selectionMode===On.none)return;const t=e.composedPath().find((e=>-1!==this.rowElements.indexOf(e)));if(t){e.preventDefault();const i=t,s=e.detail;switch(this.selectionMode){case On.singleRow:this.handleSingleRowSelection(i,s);break;case On.multiRow:s.isKeyboardEvent?this.handleMultiRowKeyboardSelection(i,s):this.handleMultiRowPointerSelection(i,s)}}}handleMultiRowPointerSelection(e,t){let i=this.selectedRowIndexes.slice();if(t.shiftKey){if(-1===this.lastNotShiftSelectedRowIndex)this.handleSingleRowSelection(e,t);else{null!==this.preShiftRowSelection?i=this.preShiftRowSelection.slice():this.preShiftRowSelection=i.slice();const t=e.rowIndex>this.lastNotShiftSelectedRowIndex?1:-1;let s=this.lastNotShiftSelectedRowIndex+t;for(;s!==e.rowIndex+t;s+=t){const t=i.indexOf(s);i.includes(e.rowIndex)||-1!==t||i.push(s)}}this.updateSelectedRows(i)}else t.ctrlKey?(t.newValue&&!i.includes(e.rowIndex)&&(i.push(e.rowIndex),this.lastNotShiftSelectedRowIndex=e.rowIndex),!t.newValue&&i.includes(e.rowIndex)&&(i.splice(i.indexOf(e.rowIndex),1),this.lastNotShiftSelectedRowIndex=-1),this.preShiftRowSelection=null,this.updateSelectedRows(i)):(this.handleSingleRowSelection(e,t),this.preShiftRowSelection=null)}handleMultiRowKeyboardSelection(e,t){if(t.isKeyboardEvent&&!t.shiftKey)return;this.preShiftRowSelection=null,this.lastNotShiftSelectedRowIndex=-1;const i=this.selectedRowIndexes.slice();i.includes(e.rowIndex)?i.splice(i.indexOf(e.rowIndex),1):i.push(e.rowIndex),this.updateSelectedRows(i)}handleSingleRowSelection(e,t){t.isKeyboardEvent&&!t.shiftKey||(t.newValue?(this.updateSelectedRows([e.rowIndex]),this.lastNotShiftSelectedRowIndex=e.rowIndex):(this.updateSelectedRows([]),this.lastNotShiftSelectedRowIndex=-1))}getPageSize(){if(this.pageSize)return this.pageSize;let e=50;this.rowElements.forEach((t=>{var i;t.hasAttribute("rowType")&&(null===(i=t.getAttribute("rowType"))||void 0===i?void 0:i.includes("header"))||(e=t.clientHeight)}));let t=1;return 0===e||(t=this.clientHeight<this.scrollHeight?this.clientHeight/e:document.body.clientHeight/e,t=Math.max(Math.round(t),1)),t}updateSelectedRows(e){this.selectedRowIndexes=e}selectAllRows(){if(this.selectionMode!==On.multiRow||0===this.rowElements.length)return;const e=[];for(let t=0,i=this.rowElements.length;t<i;t++)this.rowSelectableCallback(t,this)||e.push(t);const t=Math.max(this.rowElements.length-e.length,0);if(this._selectedRowIndexes.length===t)return void this.updateSelectedRows([]);const i=[];this.rowElements.forEach((e=>{i.push(e.rowIndex)})),this.lastNotShiftSelectedRowIndex=-1,this.updateSelectedRows(i)}deselectAllRows(){this.updateSelectedRows([]),this.lastNotShiftSelectedRowIndex=-1}queueFocusUpdate(){this.isUpdatingFocus&&(this.contains(document.activeElement)||this===document.activeElement)||!1===this.pendingFocusUpdate&&(this.pendingFocusUpdate=!0,g.enqueue((()=>this.updateFocus())))}updateFocus(){this.pendingFocusUpdate=!1,this.focusOnCell(this.focusRowIndex,this.focusColumnIndex,"nearest")}toggleGeneratedHeader(){if(null!==this.generatedHeader&&(this.removeChild(this.generatedHeader),this.generatedHeader=null),this.generateHeader!==In.none&&this.columnDefinitions&&this.columnDefinitions.length){const e=document.createElement(this.rowElementTag);return this.generatedHeader=e,this.generatedHeader.columnDefinitions=this.columnDefinitions,this.generatedHeader.gridTemplateColumns=this.gridTemplateColumns,this.generatedHeader.rowType=this.generateHeader===In.sticky?Tn.stickyHeader:Tn.header,void(null===this.firstChild&&null===this.rowsPlaceholder||this.insertBefore(e,null!==this.firstChild?this.firstChild:this.rowsPlaceholder))}}}function Dn(e){return Pe`<template role="row" :defaultCellItemTemplate="${function(e){const t=Pe.partial(Bt(e.dataGridCell));return Pe`<${t} cell-type="${e=>e.isRowHeader?"rowheader":void 0}" grid-column="${(e,t)=>t.index+1}" :rowData="${(e,t)=>t.parent.rowData}" :columnDefinition="${e=>e}"></${t}>`}(e)}" :defaultHeaderCellItemTemplate="${function(e){const t=Pe.partial(Bt(e.dataGridCell));return Pe`<${t} cell-type="columnheader" grid-column="${(e,t)=>t.index+1}" :columnDefinition="${e=>e}"></${t}>`}(e)}" aria-selected="${e=>void 0!==e.selected?e.selected:void 0}" ${Je({property:"cellElements",filter:Ge('[role="cell"],[role="gridcell"],[role="columnheader"],[role="rowheader"]')})}><slot ${Qe("slottedCellElements")}></slot></template>`}Rn.generateColumns=e=>Object.getOwnPropertyNames(e).map(((e,t)=>({columnDataKey:e,gridColumn:`${t}`}))),_t([rt({attribute:"no-tabbing",mode:"boolean"})],Rn.prototype,"noTabbing",void 0),_t([rt({attribute:"generate-header"})],Rn.prototype,"generateHeader",void 0),_t([rt({attribute:"grid-template-columns"})],Rn.prototype,"gridTemplateColumns",void 0),_t([rt({attribute:"page-size",converter:nt})],Rn.prototype,"pageSize",void 0),_t([rt({attribute:"selection-mode"})],Rn.prototype,"selectionMode",void 0),_t([rt({attribute:"selection-behavior"})],Rn.prototype,"selectionBehavior",void 0),_t([rt({attribute:"initial-row-selection"})],Rn.prototype,"initialRowSelection",void 0),_t([C],Rn.prototype,"rowSelectableCallback",void 0),_t([C],Rn.prototype,"rowsData",void 0),_t([C],Rn.prototype,"columnDefinitions",void 0),_t([C],Rn.prototype,"rowItemTemplate",void 0),_t([C],Rn.prototype,"cellItemTemplate",void 0),_t([C],Rn.prototype,"headerCellItemTemplate",void 0),_t([C],Rn.prototype,"focusRowIndex",void 0),_t([C],Rn.prototype,"focusColumnIndex",void 0),_t([C],Rn.prototype,"defaultRowItemTemplate",void 0),_t([C],Rn.prototype,"rowElementTag",void 0),_t([C],Rn.prototype,"rowElements",void 0);class Ln extends $t{constructor(){super(...arguments),this.rowType=Tn.default,this.rowData=null,this.columnDefinitions=null,this.isActiveRow=!1,this.behaviorOrchestrator=null,this.selectionBehavior=An.auto,this.focusColumnIndex=0,this.refocusOnLoad=!1,this.updateRowStyle=()=>{this.style.gridTemplateColumns=this.gridTemplateColumns}}gridTemplateColumnsChanged(){this.$fastController.isConnected&&this.updateRowStyle()}rowTypeChanged(){this.$fastController.isConnected&&this.updateItemTemplate()}rowDataChanged(){null!==this.rowData&&this.isActiveRow&&(this.refocusOnLoad=!0)}cellItemTemplateChanged(){this.updateItemTemplate()}headerCellItemTemplateChanged(){this.updateItemTemplate()}connectedCallback(){super.connectedCallback(),null===this.behaviorOrchestrator&&(this.updateItemTemplate(),this.behaviorOrchestrator=kn.create(this),this.$fastController.addBehavior(this.behaviorOrchestrator),this.behaviorOrchestrator.addBehaviorFactory(new Ue(B((e=>e.columnDefinitions)),B((e=>e.activeCellItemTemplate)),{positioning:!0}),this.appendChild(document.createComment("")))),this.addEventListener("cell-focused",this.handleCellFocus),this.addEventListener("focusout",this.handleFocusout),this.addEventListener("keydown",this.handleKeydown),this.addEventListener("click",this.handleClick),this.updateRowStyle(),this.refocusOnLoad&&(this.refocusOnLoad=!1,this.cellElements.length>this.focusColumnIndex&&this.cellElements[this.focusColumnIndex].focus())}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("cell-focused",this.handleCellFocus),this.removeEventListener("focusout",this.handleFocusout),this.removeEventListener("keydown",this.handleKeydown),this.removeEventListener("click",this.handleClick)}toggleSelected(e){this.$emit("rowselectionchange",e)}handleFocusout(e){this.contains(e.target)||(this.isActiveRow=!1,this.focusColumnIndex=0)}handleCellFocus(e){this.isActiveRow=!0,this.focusColumnIndex=this.cellElements.indexOf(e.target),this.$emit("row-focused",this)}handleKeydown(e){if(e.defaultPrevented)return;let t=0;switch(e.key){case"ArrowLeft":t=Math.max(0,this.focusColumnIndex-1),this.cellElements[t].focus(),e.preventDefault();break;case"ArrowRight":t=Math.min(this.cellElements.length-1,this.focusColumnIndex+1),this.cellElements[t].focus(),e.preventDefault();break;case"Home":e.ctrlKey||(this.cellElements[0].focus(),e.preventDefault());break;case"End":e.ctrlKey||(this.cellElements[this.cellElements.length-1].focus(),e.preventDefault());break;case" ":void 0!==this.selected&&this.selectionBehavior!==An.programmatic&&(e.preventDefault(),this.toggleSelected({newValue:!this.isSelected(),shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,isKeyboardEvent:!0}))}}isSelected(){return this.selected}handleClick(e){e.defaultPrevented||this.selectionBehavior!==An.auto||void 0===this.selected||(e.preventDefault(),this.toggleSelected({newValue:!this.isSelected(),shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,isKeyboardEvent:!1}))}updateItemTemplate(){this.activeCellItemTemplate=this.rowType===Tn.default&&void 0!==this.cellItemTemplate?this.cellItemTemplate:this.rowType===Tn.default&&void 0===this.cellItemTemplate?this.defaultCellItemTemplate:void 0!==this.headerCellItemTemplate?this.headerCellItemTemplate:this.defaultHeaderCellItemTemplate}}function Fn(){return Pe`<template tabindex="-1" role="${e=>{var t;return null!==(t=Sn[e.cellType])&&void 0!==t?t:Sn.default}}"><slot></slot></template>`}_t([rt({attribute:"grid-template-columns"})],Ln.prototype,"gridTemplateColumns",void 0),_t([rt({attribute:"row-type"})],Ln.prototype,"rowType",void 0),_t([C],Ln.prototype,"rowData",void 0),_t([C],Ln.prototype,"columnDefinitions",void 0),_t([C],Ln.prototype,"cellItemTemplate",void 0),_t([C],Ln.prototype,"headerCellItemTemplate",void 0),_t([C],Ln.prototype,"rowIndex",void 0),_t([C],Ln.prototype,"isActiveRow",void 0),_t([C],Ln.prototype,"activeCellItemTemplate",void 0),_t([C],Ln.prototype,"defaultCellItemTemplate",void 0),_t([C],Ln.prototype,"defaultHeaderCellItemTemplate",void 0),_t([C],Ln.prototype,"cellElements",void 0),_t([C],Ln.prototype,"selected",void 0);const Mn=Pe`<template>${e=>null===e.rowData||null===e.columnDefinition||null===e.columnDefinition.columnDataKey?null:e.rowData[e.columnDefinition.columnDataKey]}</template>`,Vn=Pe`<template>${e=>null===e.columnDefinition?null:void 0===e.columnDefinition.title?e.columnDefinition.columnDataKey:e.columnDefinition.title}</template>`;class Pn extends $t{constructor(){super(...arguments),this.cellType=En.default,this.rowData=null,this.columnDefinition=null,this.isActiveCell=!1,this.customCellView=null,this.updateCellStyle=()=>{this.style.gridColumn=this.gridColumn}}cellTypeChanged(){this.$fastController.isConnected&&this.updateCellView()}gridColumnChanged(){this.$fastController.isConnected&&this.updateCellStyle()}columnDefinitionChanged(e,t){this.$fastController.isConnected&&this.updateCellView()}connectedCallback(){var e;super.connectedCallback(),this.addEventListener("focusin",this.handleFocusin),this.addEventListener("focusout",this.handleFocusout),this.addEventListener("keydown",this.handleKeydown),this.style.gridColumn=`${void 0===(null===(e=this.columnDefinition)||void 0===e?void 0:e.gridColumn)?0:this.columnDefinition.gridColumn}`,this.updateCellView(),this.updateCellStyle()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focusin",this.handleFocusin),this.removeEventListener("focusout",this.handleFocusout),this.removeEventListener("keydown",this.handleKeydown),this.disconnectCellView()}handleFocusin(e){if(!this.isActiveCell){if(this.isActiveCell=!0,this.cellType===En.columnHeader){if(null!==this.columnDefinition&&!0!==this.columnDefinition.headerCellInternalFocusQueue&&"function"==typeof this.columnDefinition.headerCellFocusTargetCallback){const e=this.columnDefinition.headerCellFocusTargetCallback(this);null!==e&&e.focus()}}else if(null!==this.columnDefinition&&!0!==this.columnDefinition.cellInternalFocusQueue&&"function"==typeof this.columnDefinition.cellFocusTargetCallback){const e=this.columnDefinition.cellFocusTargetCallback(this);null!==e&&e.focus()}this.$emit("cell-focused",this)}}handleFocusout(e){this===document.activeElement||this.contains(document.activeElement)||(this.isActiveCell=!1)}handleKeydown(e){if(!(e.defaultPrevented||null===this.columnDefinition||this.cellType===En.default&&!0!==this.columnDefinition.cellInternalFocusQueue||this.cellType===En.columnHeader&&!0!==this.columnDefinition.headerCellInternalFocusQueue))switch(e.key){case"Enter":case"F2":if(this.contains(document.activeElement)&&document.activeElement!==this)return;if(this.cellType===En.columnHeader){if(void 0!==this.columnDefinition.headerCellFocusTargetCallback){const t=this.columnDefinition.headerCellFocusTargetCallback(this);null!==t&&t.focus(),e.preventDefault()}}else if(void 0!==this.columnDefinition.cellFocusTargetCallback){const t=this.columnDefinition.cellFocusTargetCallback(this);null!==t&&t.focus(),e.preventDefault()}break;case"Escape":this.contains(document.activeElement)&&document.activeElement!==this&&(this.focus(),e.preventDefault())}}updateCellView(){var e,t;if(this.disconnectCellView(),null!==this.columnDefinition)switch(this.cellType){case En.columnHeader:this.customCellView=Pe` ${null!==(e=this.columnDefinition.headerCellTemplate)&&void 0!==e?e:Vn} `.render(this,this);break;case void 0:case En.rowHeader:case En.default:this.customCellView=Pe` ${null!==(t=this.columnDefinition.cellTemplate)&&void 0!==t?t:Mn} `.render(this,this)}}disconnectCellView(){null!==this.customCellView&&(this.customCellView.dispose(),this.customCellView=null)}}_t([rt({attribute:"cell-type"})],Pn.prototype,"cellType",void 0),_t([rt({attribute:"grid-column"})],Pn.prototype,"gridColumn",void 0),_t([C],Pn.prototype,"rowData",void 0),_t([C],Pn.prototype,"columnDefinition",void 0);class Hn{constructor(){this.properties=new Map}setProperty(e,t){this.properties.set(e,t)}removeProperty(e){this.properties.delete(e)}get cssText(){let e="";for(const[t,i]of this.properties)e+=`${t}: ${i};`;return e}get values(){return Array.from(this.properties)}}function Nn(e){e.target!==this&&(e.detail.parent=this,e.stopImmediatePropagation())}function zn(e){e.detail!==this&&(e.detail.contains=!0,e.stopImmediatePropagation())}const Bn={addedCallback(e){e.source.addEventListener("$$designToken__locate__parent$$",Nn)},removedCallback(e){e.source.removeEventListener("$$designToken__locate__parent$$",Nn)},contains(e,t){e.addEventListener("$$designToken__contains$$",zn);const i=new CustomEvent("$$designToken__contains$$",{bubbles:!0,cancelable:!0,composed:!0,detail:{contains:!1}});return t.dispatchEvent(i),e.removeEventListener("$$designToken__contains$$",zn),i.detail.contains},parent(e){const t=new CustomEvent("$$designToken__locate__parent$$",{bubbles:!0,cancelable:!0,composed:!0,detail:{parent:null}});return e.dispatchEvent(t),t.detail.parent}};class _n{constructor(e){this.value=e,this.notifier=w.getNotifier(this),this.dependencies=new Set,this.binding=w.binding(e,this),this.binding.setMode(!1)}static getOrCreate(e){let t=_n.cache.get(e);return t||(t=new _n(e),_n.cache.set(e,t),t)}evaluate(e,t){return this.binding.observe((i=>{if(this.dependencies.add(i),t===i){if(e.parent)return e.parent.getTokenValue(i);throw new Error("DesignTokenNode has encountered a circular token reference. Avoid this by setting the token value for an ancestor node.")}return e.getTokenValue(i)}))}handleChange(){this.notifier.notify(void 0)}}_n.cache=new WeakMap;class jn{constructor(e,t,i,s){this.token=e,this.evaluator=t,this.node=i,this.subscriber=s,this.value=t.evaluate(i,e),this.subscriber&&w.getNotifier(this.evaluator).subscribe(this.subscriber)}dispose(){this.subscriber&&w.getNotifier(this.evaluator).unsubscribe(this.subscriber)}update(){return this.value=this.evaluator.evaluate(this.node,this.token),this}}class qn{constructor(e,t,i,s){this.target=e,this.type=t,this.token=i,this.value=s}notify(){w.getNotifier(this.token).notify(this)}}class Un{constructor(){this._parent=null,this._children=new Set,this._values=new Map,this._derived=new Map,this.dependencyGraph=new Map}static isDerivedTokenValue(e){return"function"==typeof e}static isDerivedFor(e,t){return e._derived.has(t)}static collectDerivedContext(e){const t=new Map;if(null===e.parent)return t;let i=Un.getAssignedTokensForNode(e),s=e.parent;do{const e=Un.getAssignedTokensForNode(s);for(let n=0,o=e.length;n<o;n++){const o=e[n];!i.includes(o)&&Un.isDerivedFor(s,o)&&t.set(o,s._derived.get(o))}i=Array.from(new Set(i.concat(e))),s=s.parent}while(null!==s);return t}static getLocalTokenValue(e,t){return Un.isAssigned(e,t)?Un.isDerivedFor(e,t)?e._derived.get(t).value:e._values.get(t):void 0}static getOrCreateDependencyGraph(e,t){let i=e.dependencyGraph.get(t);return i||(i=new Set,e.dependencyGraph.set(t,i),i)}static notify(){const e=this._notifications;this._notifications=[];for(const t of e)t.notify()}static queueNotification(...e){this._notifications.push(...e)}static getAssignedTokensForNode(e){return Array.from(e._values.keys())}static composeAssignedTokensForNode(e){const t=new Set(Un.getAssignedTokensForNode(e));let i=e.parent;for(;null!==i;){const e=Un.getAssignedTokensForNode(i);for(const i of e)t.add(i);i=i.parent}return Array.from(t)}static isAssigned(e,t){return e._values.has(t)}get parent(){return this._parent}get children(){return Array.from(this._children)}appendChild(e){var t,i;let s=null;null!==e.parent&&(s=Un.composeAssignedTokensForNode(e.parent),e.parent._children.delete(e));const n=Un.composeAssignedTokensForNode(this),o=Un.collectDerivedContext(this);e._parent=this,this._children.add(e);for(const i of n){let n=0;if(null!==s){const e=s.indexOf(i);-1!==e&&(n=1,s.splice(e,1))}e.dispatch(new qn(this,n,i,null===(t=o.get(i))||void 0===t?void 0:t.evaluator.value))}if(null!==s&&s.length>0)for(const t of s)e.dispatch(new qn(this,2,t,null===(i=o.get(t))||void 0===i?void 0:i.evaluator.value));Un.notify()}removeChild(e){if(e.parent===this){const t=Un.composeAssignedTokensForNode(this);e._parent=null,this._children.delete(e);for(const i of t)e.dispatch(new qn(this,2,i));Un.notify()}}dispose(){this.parent&&(this.parent._children.delete(this),this._parent=null);for(const[,e]of this._derived)e.dispose()}setTokenValue(e,t){const i=Un.isAssigned(this,e)||Un.isDerivedFor(this,e)?1:0,s=Un.getLocalTokenValue(this,e);this._values.set(e,t),Un.isDerivedFor(this,e)&&this.tearDownDerivedTokenValue(e);const n=Un.isDerivedTokenValue(t),o=Un.collectDerivedContext(this);let r;if(n){r=this.setupDerivedTokenValue(e,t,!0).value}else r=t;s!==r&&Un.queueNotification(new qn(this,i,e,t)),this.dispatch(new qn(this,i,e,t)),o.forEach(((e,t)=>{if(!Un.isDerivedFor(this,t)){Un.getLocalTokenValue(this,t)!==(e=this.setupDerivedTokenValue(t,e.evaluator.value)).value&&Un.queueNotification(new qn(this,1,t,e.evaluator.value)),this.dispatch(new qn(this,0,t,e.evaluator.value))}})),Un.notify()}getTokenValue(e){let t,i=this;for(;null!==i;){if(Un.isDerivedFor(i,e)){t=i._derived.get(e).value;break}if(Un.isAssigned(i,e)){t=i._values.get(e);break}i=i._parent}if(void 0!==t)return t;throw new Error(`No value set for token ${e} in node tree.`)}deleteTokenValue(e){if(Un.isAssigned(this,e)){const t=Un.getLocalTokenValue(this,e);let i;this._values.delete(e),this.tearDownDerivedTokenValue(e);try{i=this.getTokenValue(e)}catch(e){i=void 0}Un.queueNotification(new qn(this,2,e)),t!==i&&this.dispatch(new qn(this,2,e)),Un.notify()}}dispatch(e){var t,i,s;if(this!==e.target){const{token:n}=e,o=Un.isAssigned(this,n),r=o&&(null===(t=this._derived.get(n))||void 0===t?void 0:t.evaluator.dependencies.has(n));if(o&&!r)return;2===e.type&&!o&&Un.isDerivedFor(this,n)&&(this.tearDownDerivedTokenValue(n),Un.queueNotification(new qn(this,2,n))),r&&(e=new qn(this,1,n,null===(i=this._derived.get(n))||void 0===i?void 0:i.evaluator.value));const{value:a}=e;if(a&&Un.isDerivedTokenValue(a)){const t=_n.getOrCreate(a).dependencies;let i=!1;for(const e of t)if(Un.isAssigned(this,e)){i=!0;break}if(i){const t=null===(s=this._derived.get(n))||void 0===s?void 0:s.value,i=this.setupDerivedTokenValue(n,a);if(t!==i.value){const s=new qn(this,void 0===t?0:1,n,i.evaluator.value);Un.queueNotification(s),e=s}}}}this.collectLocalChangeRecords(e).forEach((e=>{Un.queueNotification(e),this.dispatch(e)})),this.notifyChildren(e)}collectLocalChangeRecords(e){const t=new Map;for(const i of Un.getOrCreateDependencyGraph(this,e.token))i.value!==i.update().value&&t.set(i.token,new qn(this,1,i.token,i.evaluator.value));return t}notifyChildren(...e){if(this.children.length)for(let t=0,i=this.children.length;t<i;t++)for(let i=0;i<e.length;i++)this.children[t].dispatch(e[i])}tearDownDerivedTokenValue(e){if(Un.isDerivedFor(this,e)){const t=this._derived.get(e);t.dispose(),this._derived.delete(e),t.evaluator.dependencies.forEach((e=>{Un.getOrCreateDependencyGraph(this,e).delete(t)}))}}setupDerivedTokenValue(e,t,i=!1){const s=new jn(e,_n.getOrCreate(t),this,i?{handleChange:()=>{if(s.value!==s.update().value){const e=new qn(this,1,s.token,s.evaluator.value);Un.queueNotification(e),this.dispatch(e),Un.notify()}}}:void 0);return this._derived.set(e,s),s.evaluator.dependencies.forEach((t=>{t!==e&&Un.getOrCreateDependencyGraph(this,t).add(s)})),s}}Un._notifications=[];class Kn{setProperty(e,t){g.enqueue((()=>this.target.setProperty(e,t)))}removeProperty(e){g.enqueue((()=>this.target.removeProperty(e)))}}class Wn extends Kn{constructor(){super();const e=new CSSStyleSheet;this.target=e.cssRules[e.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}}class Gn extends Kn{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:e}=this.style;if(e){const t=e.insertRule(":root{}",e.cssRules.length);this.target=e.cssRules[t].style}}}class Yn{constructor(e){this.store=new Map,this.target=null;const t=e.$fastController;this.style=document.createElement("style"),t.addStyles(this.style),w.getNotifier(t).subscribe(this,"isConnected"),this.handleChange(t,"isConnected")}targetChanged(){if(null!==this.target)for(const[e,t]of this.store.entries())this.target.setProperty(e,t)}setProperty(e,t){this.store.set(e,t),g.enqueue((()=>{null!==this.target&&this.target.setProperty(e,t)}))}removeProperty(e){this.store.delete(e),g.enqueue((()=>{null!==this.target&&this.target.removeProperty(e)}))}handleChange(e,t){const{sheet:i}=this.style;if(i){const e=i.insertRule(":host{}",i.cssRules.length);this.target=i.cssRules[e].style}else this.target=null}}_t([C],Yn.prototype,"target",void 0);class Xn{setProperty(e,t){Xn.properties[e]=t;for(const i of Xn.roots.values())i.setProperty(e,t)}removeProperty(e){delete Xn.properties[e];for(const t of Xn.roots.values())t.removeProperty(e)}static registerRoot(e){const{roots:t}=Xn;if(!t.has(e)){t.add(e);for(const t in Xn.properties)e.setProperty(t,Xn.properties[t])}}static unregisterRoot(e){const{roots:t}=Xn;if(t.has(e)){t.delete(e);for(const t in Xn.properties)e.removeProperty(t)}}}Xn.roots=new Set,Xn.properties={};const Qn=new WeakMap,Zn=G.supportsAdoptedStyleSheets?class extends Kn{constructor(e){super();const t=new CSSStyleSheet;this.target=t.cssRules[t.insertRule(":host{}")].style,e.$fastController.addStyles(new G([t]))}}:Yn,Jn=Object.freeze({getOrCreate(e){if(Qn.has(e))return Qn.get(e);let t;return t=e instanceof Document?G.supportsAdoptedStyleSheets?new Wn:new Gn:new Zn(e),Qn.set(e,t),t}});class eo{constructor(e){this.subscriberNotifier={handleChange:(e,t)=>{const i={target:t.target===so.defaultNode?"default":t.target.target,token:this};this.subscribers.notify(i)}},this.name=e.name,w.getNotifier(this).subscribe(this.subscriberNotifier)}get $value(){return this.default}get default(){return so.defaultNode.getTokenValue(this)}get subscribers(){return this._subscribers||(this._subscribers=new b(this)),this._subscribers}static isCSSDesignTokenConfiguration(e){return"string"==typeof e.cssCustomPropertyName}static create(e){return"string"==typeof e?new to({name:e,cssCustomPropertyName:e}):eo.isCSSDesignTokenConfiguration(e)?new to(e):new eo(e)}static withStrategy(e){so.withStrategy(e)}static registerDefaultStyleTarget(e=document){(e instanceof $t||e instanceof Document)&&(e=Jn.getOrCreate(e)),Xn.registerRoot(e)}static unregisterDefaultStyleTarget(e=document){(e instanceof $t||e instanceof Document)&&(e=Jn.getOrCreate(e)),Xn.unregisterRoot(e)}getValueFor(e){return so.getOrCreate(e).getTokenValue(this)}setValueFor(e,t){so.getOrCreate(e).setTokenValue(this,this.normalizeValue(t))}deleteValueFor(e){return so.getOrCreate(e).deleteTokenValue(this),this}withDefault(e){return so.defaultNode.setTokenValue(this,this.normalizeValue(e)),this}subscribe(e){this.subscribers.subscribe(e)}unsubscribe(e){this.subscribers.unsubscribe(e)}alias(e){return t=>t(e)}normalizeValue(e){return e instanceof eo&&(e=this.alias(e)),e}}let to=class extends eo{constructor(e){super(e),this.cssReflector={handleChange:(e,t)=>{const i=t.target===so.defaultNode?so.rootStyleSheetTarget:t.target instanceof so?Jn.getOrCreate(t.target.target):null;i&&(2===t.type?i.removeProperty(this.cssCustomProperty):i.setProperty(this.cssCustomProperty,this.resolveCSSValue(t.target.getTokenValue(this))))}},this.cssCustomProperty=`--${e.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`,w.getNotifier(this).subscribe(this.cssReflector)}createCSS(){return this.cssVar}createHTML(){return this.cssVar}resolveCSSValue(e){return e&&"function"==typeof e.createCSS?e.createCSS():e}};to=_t([Q(),ve()],to);const io={contains:function(e,t){let i=t;for(;null!==i;){if(i===e)return!0;i=$n(i)}return!1},parent(e){let t=$n(e);for(;null!==t;){if(t instanceof $t)return t;t=$n(t)}return null}};class so extends Un{constructor(e){super(),this.target=e,this.setTokenValue=this.lazyAttachToDefault(super.setTokenValue),this.getTokenValue=this.lazyAttachToDefault(super.getTokenValue),this.deleteTokenValue=this.lazyAttachToDefault(super.deleteTokenValue)}static get strategy(){return void 0===this._strategy&&so.withStrategy(io),this._strategy}connectedCallback(e){let t=so.findParent(e.source);if(null===t&&(t=so.defaultNode),t!==this.parent){const i=[];for(const s of t.children)s instanceof so&&so.strategy.contains(e.source,s.target)&&i.push(s);t.appendChild(this);for(const e of i)this.appendChild(e)}}disconnectedCallback(e){so.cache.delete(this.target),this.dispose()}static getOrCreate(e){let t=so.cache.get(e);return t||(t=new so(e),so.cache.set(e,t),e.$fastController.addBehavior(so.strategy),e.$fastController.addBehavior(t),t)}static withStrategy(e){this._strategy=e}static findParent(e){let t=so.strategy.parent(e);for(;null!==t;){const e=so.cache.get(t);if(e)return e;t=so.strategy.parent(t)}return null}lazyAttachToDefault(e){return(...t)=>(null===this.parent&&so.defaultNode.appendChild(this),e.apply(this,t))}}function no(){return Pe`<div class="positioning-region" part="positioning-region">${ze((e=>e.modal),Pe`<div class="overlay" part="overlay" role="presentation" @click="${e=>e.dismiss()}"></div>`)}<div role="dialog" tabindex="-1" class="control" part="control" aria-modal="${e=>e.modal?e.modal:void 0}" aria-describedby="${e=>e.ariaDescribedby}" aria-labelledby="${e=>e.ariaLabelledby}" aria-label="${e=>e.ariaLabel}" ${Ne("dialog")}><slot></slot></div></div>`}
/*!
* tabbable 5.3.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/so.defaultNode=new Un,so.rootStyleSheetTarget=new Xn,so.cache=new WeakMap;var oo=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],ro=oo.join(","),ao="undefined"==typeof Element,lo=ao?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ho=!ao&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},co=function(e){return"INPUT"===e.tagName},uo=function(e){return function(e){return co(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,i=e.form||ho(e),s=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=s(window.CSS.escape(e.name));else try{t=s(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var n=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]}(t,e.form);return!n||n===e}(e)},po=function(e){var t=e.getBoundingClientRect(),i=t.width,s=t.height;return 0===i&&0===s},mo=function(e,t){return!(t.disabled||function(e){return co(e)&&"hidden"===e.type}(t)||function(e,t){var i=t.displayCheck,s=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var n=lo.call(e,"details>summary:first-of-type")?e.parentElement:e;if(lo.call(n,"details:not([open]) *"))return!0;if(!i||"full"===i){if("function"==typeof s){for(var o=e;e;){var r=e.parentElement,a=ho(e);if(r&&!r.shadowRoot&&!0===s(r))return po(e);e=e.assignedSlot?e.assignedSlot:r||a===e.ownerDocument?r:a.host}e=o}return!e.getClientRects().length}return"non-zero-area"===i&&po(e)}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var i=0;i<t.children.length;i++){var s=t.children.item(i);if("LEGEND"===s.tagName)return!!lo.call(t,"fieldset[disabled] *")||!s.contains(e)}return!0}t=t.parentElement}return!1}(t))},fo=function(e,t){return!(uo(t)||function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex}(t)<0||!mo(e,t))},vo=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==lo.call(e,ro)&&fo(t,e)},go=oo.concat("iframe").join(","),bo=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==lo.call(e,go)&&mo(t,e)};class yo extends $t{constructor(){super(...arguments),this.modal=!1,this.hidden=!1,this.noFocusTrap=!1,this.noFocusTrapChanged=()=>{this.$fastController.isConnected&&this.updateTrapFocus()},this.isTrappingFocus=!1,this.handleDocumentKeydown=e=>{if(!e.defaultPrevented&&!this.hidden)switch(e.key){case"Escape":this.dismiss(),e.preventDefault();break;case"Tab":this.handleTabKeyDown(e)}},this.handleDocumentFocus=e=>{!e.defaultPrevented&&this.shouldForceFocus(e.target)&&(this.focusFirstElement(),e.preventDefault())},this.handleTabKeyDown=e=>{if(this.noFocusTrap||this.hidden)return;const t=this.getTabQueueBounds();return 0!==t.length?1===t.length?(t[0].focus(),void e.preventDefault()):void(e.shiftKey&&e.target===t[0]?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||e.target!==t[t.length-1]||(t[0].focus(),e.preventDefault())):void 0},this.getTabQueueBounds=()=>yo.reduceTabbableItems([],this),this.focusFirstElement=()=>{const e=this.getTabQueueBounds();e.length>0?e[0].focus():this.dialog instanceof HTMLElement&&this.dialog.focus()},this.shouldForceFocus=e=>this.isTrappingFocus&&!this.contains(e),this.shouldTrapFocus=()=>!this.noFocusTrap&&!this.hidden,this.updateTrapFocus=e=>{const t=void 0===e?this.shouldTrapFocus():e;t&&!this.isTrappingFocus?(this.isTrappingFocus=!0,document.addEventListener("focusin",this.handleDocumentFocus),g.enqueue((()=>{this.shouldForceFocus(document.activeElement)&&this.focusFirstElement()}))):!t&&this.isTrappingFocus&&(this.isTrappingFocus=!1,document.removeEventListener("focusin",this.handleDocumentFocus))}}dismiss(){this.$emit("dismiss"),this.$emit("cancel")}show(){this.hidden=!1}hide(){this.hidden=!0,this.$emit("close")}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.handleDocumentKeydown),this.notifier=w.getNotifier(this),this.notifier.subscribe(this,"hidden"),this.updateTrapFocus()}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.handleDocumentKeydown),this.updateTrapFocus(!1),this.notifier.unsubscribe(this,"hidden")}handleChange(e,t){if("hidden"===t)this.updateTrapFocus()}static reduceTabbableItems(e,t){return"-1"===t.getAttribute("tabindex")?e:vo(t)||yo.isFocusableFastElement(t)&&yo.hasTabbableShadow(t)?(e.push(t),e):t.childElementCount?e.concat(Array.from(t.children).reduce(yo.reduceTabbableItems,[])):e}static isFocusableFastElement(e){var t,i;return!!(null===(i=null===(t=e.$fastController)||void 0===t?void 0:t.definition.shadowOptions)||void 0===i?void 0:i.delegatesFocus)}static hasTabbableShadow(e){var t,i;return Array.from(null!==(i=null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelectorAll("*"))&&void 0!==i?i:[]).some((e=>vo(e)))}}_t([rt({mode:"boolean"})],yo.prototype,"modal",void 0),_t([rt({mode:"boolean"})],yo.prototype,"hidden",void 0),_t([rt({attribute:"no-focus-trap",mode:"boolean"})],yo.prototype,"noFocusTrap",void 0),_t([rt({attribute:"aria-describedby"})],yo.prototype,"ariaDescribedby",void 0),_t([rt({attribute:"aria-labelledby"})],yo.prototype,"ariaLabelledby",void 0),_t([rt({attribute:"aria-label"})],yo.prototype,"ariaLabel",void 0);const xo=new MutationObserver((e=>{for(const t of e)wo.getOrCreateFor(t.target).notify(t.attributeName)}));class wo{constructor(e){this.element=e,this.watchedAttributes=new Set,this.subscribers=new b(this),wo.subscriberCache.set(e,this)}notify(e){this.subscribers.notify(e)}subscribe(e){this.subscribers.subscribe(e),this.watchedAttributes.has(e.attributes)||(this.watchedAttributes.add(e.attributes),this.observe())}unsubscribe(e){this.subscribers.unsubscribe(e),this.watchedAttributes.has(e.attributes)&&(this.watchedAttributes.delete(e.attributes),this.observe())}observe(){const e=[];for(const t of this.watchedAttributes.values())for(let i=0;i<t.length;i++)e.push(t[i]);xo.observe(this.element,{attributeFilter:e})}static getOrCreateFor(e){return this.subscriberCache.get(e)||new wo(e)}}wo.subscriberCache=new WeakMap;class Co extends ge{constructor(e){super(e),this.attributes=Object.freeze(e)}bind(e){const t=e.source,i=wo.getOrCreateFor(t);if(i[this.id]=e.targets[this.targetNodeId],i.subscribe(this),t.hasAttributes())for(let e=0;e<t.attributes.length;e++)this.handleChange(i,t.attributes[e].name)}unbind(e){wo.getOrCreateFor(e.source).unsubscribe(this)}handleChange(e,t){if(this.attributes.includes(t)){const i=e.element,s=e[this.id];v.setAttribute(s,t,i.getAttribute(t))}}}function $o(...e){return new Co(e)}function ko(e={}){return Pe`<details class="disclosure" ${Ne("details")}><summary class="invoker" role="button" aria-controls="disclosure-content" aria-expanded="${e=>e.expanded}">${Wt(e)}<slot name="summary">${e=>e.summary}</slot>${Kt(e)}</summary><div id="disclosure-content"><slot></slot></div></details>`}fe.define(Co);class Io extends $t{constructor(){super(...arguments),this.expanded=!1}connectedCallback(){super.connectedCallback(),this.setup()}disconnectedCallback(){super.disconnectedCallback(),this.details.removeEventListener("toggle",this.onToggle)}show(){this.details.open=!0}hide(){this.details.open=!1}toggle(){this.details.open=!this.details.open}setup(){this.onToggle=this.onToggle.bind(this),this.details.addEventListener("toggle",this.onToggle),this.expanded&&this.show()}onToggle(){this.expanded=this.details.open,this.$emit("toggle")}}_t([rt({mode:"boolean"})],Io.prototype,"expanded",void 0),_t([rt],Io.prototype,"summary",void 0),si(Io,Ut);const Eo={separator:"separator",presentation:"presentation"},To=Yt;function So(){return Pe`<template role="${e=>e.role}" aria-orientation="${e=>e.orientation}"><slot></slot></template>`}class Oo extends $t{constructor(){super(...arguments),this.role=Eo.separator,this.orientation=To.horizontal}}function Ao(e={}){const t={};return Pe`<template role="button" aria-disabled="${e=>!!e.disabled||void 0}" tabindex="${e=>e.hiddenFromAT?-1:0}" @keyup="${(e,t)=>e.keyupHandler(t.event)}">${i=>function(e,i){let s=t[e];return s||(t[e]=s=Pe`<span part="${e}" class="${e}"><slot name="${e}">${zt(i[e])}</slot></span>`),s}(i.direction,e)}</template>`}_t([rt],Oo.prototype,"role",void 0),_t([rt],Oo.prototype,"orientation",void 0);const Ro={next:"next",previous:"previous"};class Do extends $t{constructor(){super(...arguments),this.hiddenFromAT=!0,this.direction=Ro.next}keyupHandler(e){if(!this.hiddenFromAT){const t=e.key;"Enter"!==t&&"Space"!==t||this.$emit("click",e),"Escape"===t&&this.blur()}}}function Lo(e={}){return Pe`<template aria-checked="${e=>e.ariaChecked}" aria-disabled="${e=>e.ariaDisabled}" aria-posinset="${e=>e.ariaPosInSet}" aria-selected="${e=>e.ariaSelected}" aria-setsize="${e=>e.ariaSetSize}" role="option">${Wt(e)}<span class="content" part="content"><slot ${Qe("content")}></slot></span>${Kt(e)}</template>`}_t([rt({mode:"boolean"})],Do.prototype,"disabled",void 0),_t([rt({attribute:"aria-hidden",converter:tt})],Do.prototype,"hiddenFromAT",void 0),_t([rt],Do.prototype,"direction",void 0);class Fo extends mn{constructor(){super(...arguments),this.activeIndex=-1,this.rangeStartIndex=-1}get activeOption(){return this.options[this.activeIndex]}get checkedOptions(){var e;return null===(e=this.options)||void 0===e?void 0:e.filter((e=>e.checked))}get firstSelectedOptionIndex(){return this.options.indexOf(this.firstSelectedOption)}activeIndexChanged(e,t){var i,s;this.ariaActiveDescendant=null!==(s=null===(i=this.options[t])||void 0===i?void 0:i.id)&&void 0!==s?s:"",this.focusAndScrollOptionIntoView()}checkActiveIndex(){if(!this.multiple)return;const e=this.activeOption;e&&(e.checked=!0)}checkFirstOption(e=!1){e?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex+1),this.options.forEach(((e,t)=>{e.checked=ei(t,this.rangeStartIndex)}))):this.uncheckAllOptions(),this.activeIndex=0,this.checkActiveIndex()}checkLastOption(e=!1){e?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),this.options.forEach(((e,t)=>{e.checked=ei(t,this.rangeStartIndex,this.options.length)}))):this.uncheckAllOptions(),this.activeIndex=this.options.length-1,this.checkActiveIndex()}connectedCallback(){super.connectedCallback(),this.addEventListener("focusout",this.focusoutHandler)}disconnectedCallback(){this.removeEventListener("focusout",this.focusoutHandler),super.disconnectedCallback()}checkNextOption(e=!1){e?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),this.options.forEach(((e,t)=>{e.checked=ei(t,this.rangeStartIndex,this.activeIndex+1)}))):this.uncheckAllOptions(),this.activeIndex+=this.activeIndex<this.options.length-1?1:0,this.checkActiveIndex()}checkPreviousOption(e=!1){e?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),1===this.checkedOptions.length&&(this.rangeStartIndex+=1),this.options.forEach(((e,t)=>{e.checked=ei(t,this.activeIndex,this.rangeStartIndex)}))):this.uncheckAllOptions(),this.activeIndex-=this.activeIndex>0?1:0,this.checkActiveIndex()}clickHandler(e){var t;if(!this.multiple)return super.clickHandler(e);const i=null===(t=e.target)||void 0===t?void 0:t.closest("[role=option]");return i&&!i.disabled?(this.uncheckAllOptions(),this.activeIndex=this.options.indexOf(i),this.checkActiveIndex(),this.toggleSelectedForAllCheckedOptions(),!0):void 0}focusAndScrollOptionIntoView(){super.focusAndScrollOptionIntoView(this.activeOption)}focusinHandler(e){if(!this.multiple)return super.focusinHandler(e);this.shouldSkipFocus||e.target!==e.currentTarget||(this.uncheckAllOptions(),-1===this.activeIndex&&(this.activeIndex=-1!==this.firstSelectedOptionIndex?this.firstSelectedOptionIndex:0),this.checkActiveIndex(),this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}focusoutHandler(e){this.multiple&&this.uncheckAllOptions()}keydownHandler(e){if(!this.multiple)return super.keydownHandler(e);if(this.disabled)return!0;const{key:t,shiftKey:i}=e;switch(this.shouldSkipFocus=!1,t){case"Home":return void this.checkFirstOption(i);case"ArrowDown":return void this.checkNextOption(i);case"ArrowUp":return void this.checkPreviousOption(i);case"End":return void this.checkLastOption(i);case"Tab":return this.focusAndScrollOptionIntoView(),!0;case"Escape":return this.uncheckAllOptions(),this.checkActiveIndex(),!0;case" ":if(e.preventDefault(),this.typeAheadExpired)return void this.toggleSelectedForAllCheckedOptions();default:return 1===t.length&&this.handleTypeAhead(`${t}`),!0}}mousedownHandler(e){if(e.offsetX>=0&&e.offsetX<=this.scrollWidth)return super.mousedownHandler(e)}multipleChanged(e,t){var i;this.ariaMultiSelectable=t?"true":null,null===(i=this.options)||void 0===i||i.forEach((e=>{e.checked=!t&&void 0})),this.setSelectedOptions()}setSelectedOptions(){this.multiple?this.$fastController.isConnected&&this.options&&(this.selectedOptions=this.options.filter((e=>e.selected)),this.focusAndScrollOptionIntoView()):super.setSelectedOptions()}sizeChanged(e,t){var i;const s=Math.max(0,parseInt(null!==(i=null==t?void 0:t.toFixed())&&void 0!==i?i:"",10));s!==t&&g.enqueue((()=>{this.size=s}))}toggleSelectedForAllCheckedOptions(){const e=this.checkedOptions.filter((e=>!e.disabled)),t=!e.every((e=>e.selected));e.forEach((e=>e.selected=t)),this.selectedIndex=this.options.indexOf(e[e.length-1]),this.setSelectedOptions()}typeaheadBufferChanged(e,t){if(this.multiple){if(this.$fastController.isConnected){const e=this.getTypeaheadMatches(),t=this.options.indexOf(e[0]);t>-1&&(this.activeIndex=t,this.uncheckAllOptions(),this.checkActiveIndex()),this.typeAheadExpired=!1}}else super.typeaheadBufferChanged(e,t)}uncheckAllOptions(e=!1){this.options.forEach((e=>e.checked=!this.multiple&&void 0)),e||(this.rangeStartIndex=-1)}}function Mo(){return Pe`<template aria-activedescendant="${e=>e.ariaActiveDescendant}" aria-multiselectable="${e=>e.ariaMultiSelectable}" role="listbox" tabindex="${e=>e.disabled?null:"0"}" @click="${(e,t)=>e.clickHandler(t.event)}" @focusin="${(e,t)=>e.focusinHandler(t.event)}" @keydown="${(e,t)=>e.keydownHandler(t.event)}" @mousedown="${(e,t)=>e.mousedownHandler(t.event)}"><slot ${Qe({filter:Fo.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}></slot></template>`}_t([C],Fo.prototype,"activeIndex",void 0),_t([rt({mode:"boolean"})],Fo.prototype,"multiple",void 0),_t([rt({converter:nt})],Fo.prototype,"size",void 0);const Vo=Pe`<template>${e=>e.value}</template>`;class Po extends $t{contentsTemplateChanged(){this.$fastController.isConnected&&this.updateView()}connectedCallback(){super.connectedCallback(),this.updateView()}disconnectedCallback(){this.disconnectView(),super.disconnectedCallback()}handleKeyDown(e){return!e.defaultPrevented&&("Enter"!==e.key||(this.handleInvoke(),!1))}handleClick(e){return e.defaultPrevented||this.handleInvoke(),!1}handleInvoke(){this.$emit("pickeriteminvoked")}updateView(){var e,t;this.disconnectView(),this.customView=null!==(t=null===(e=this.contentsTemplate)||void 0===e?void 0:e.render(this,this))&&void 0!==t?t:Vo.render(this,this)}disconnectView(){var e;null===(e=this.customView)||void 0===e||e.dispose(),this.customView=void 0}}function Ho(){return Pe`<template role="listitem" tabindex="0" @click="${(e,t)=>e.handleClick(t.event)}" @keydown="${(e,t)=>e.handleKeyDown(t.event)}"><slot></slot></template>`}_t([rt({attribute:"value"})],Po.prototype,"value",void 0),_t([C],Po.prototype,"contentsTemplate",void 0);class No extends $t{}function zo(){return Pe`<template slot="list-region" role="list"><slot></slot><slot name="input-region"></slot></template>`}const Bo=Pe`<template>${e=>e.value}</template>`;class _o extends $t{contentsTemplateChanged(){this.$fastController.isConnected&&this.updateView()}connectedCallback(){super.connectedCallback(),this.updateView()}disconnectedCallback(){super.disconnectedCallback(),this.disconnectView()}handleClick(e){return e.defaultPrevented||this.handleInvoked(),!1}handleInvoked(){this.$emit("pickeroptioninvoked")}updateView(){var e,t;this.disconnectView(),this.customView=null!==(t=null===(e=this.contentsTemplate)||void 0===e?void 0:e.render(this,this))&&void 0!==t?t:Bo.render(this,this)}disconnectView(){var e;null===(e=this.customView)||void 0===e||e.dispose(),this.customView=void 0}}function jo(){return Pe`<template role="listitem" tabindex="-1" @click="${(e,t)=>e.handleClick(t.event)}"><slot></slot></template>`}_t([rt({attribute:"value"})],_o.prototype,"value",void 0),_t([C],_o.prototype,"contentsTemplate",void 0);class qo extends $t{constructor(){super(...arguments),this.optionElements=[]}menuElementsChanged(){this.updateOptions()}headerElementsChanged(){this.updateOptions()}footerElementsChanged(){this.updateOptions()}updateOptions(){this.optionElements.splice(0,this.optionElements.length),this.addSlottedListItems(this.headerElements),this.addSlottedListItems(this.menuElements),this.addSlottedListItems(this.footerElements),this.$emit("optionsupdated",{bubbles:!1})}addSlottedListItems(e){void 0!==e&&e.forEach((e=>{1===e.nodeType&&"listitem"===e.getAttribute("role")&&(e.id=e.id||ii("option-"),this.optionElements.push(e))}))}}function Uo(){return Pe`<template role="list" slot="menu-region"><div class="options-display" part="options-display"><div class="header-region" part="header-region"><slot name="header-region" ${Qe("headerElements")}></slot></div><slot ${Qe("menuElements")}></slot><div class="footer-region" part="footer-region"><slot name="footer-region" ${Qe("footerElements")}></slot></div><div role="alert" aria-live="polite" part="suggestions-available-alert" class="suggestions-available-alert">${e=>e.suggestionsAvailableText}</div></div></template>`}_t([C],qo.prototype,"menuElements",void 0),_t([C],qo.prototype,"headerElements",void 0),_t([C],qo.prototype,"footerElements",void 0),_t([C],qo.prototype,"suggestionsAvailableText",void 0);class Ko extends $t{}class Wo extends(Hi(Ko)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const Go={bottom:"bottom",bottomFill:"bottom-fill",tallest:"tallest",tallestFill:"tallest-fill",top:"top",topFill:"top-fill"},Yo=Pe`<input slot="input-region" role="combobox" type="text" autocapitalize="off" autocomplete="off" haspopup="list" aria-label="${e=>e.label}" aria-labelledby="${e=>e.labelledBy}" placeholder="${e=>e.placeholder}" ${Ne("inputElement")} />`;class Xo extends Wo{constructor(){super(...arguments),this.selection="",this.filterSelected=!0,this.filterQuery=!0,this.noSuggestionsText="No suggestions available",this.suggestionsAvailableText="Suggestions available",this.loadingText="Loading suggestions",this.menuPlacement=Go.bottomFill,this.showLoading=!1,this.optionsList=[],this.filteredOptionsList=[],this.flyoutOpen=!1,this.menuFocusIndex=-1,this.showNoOptions=!1,this.selectedItems=[],this.inputElementView=null,this.behaviorOrchestrator=null,this.handleTextInput=e=>{this.query=this.inputElement.value},this.handleInputClick=e=>{e.preventDefault(),this.toggleFlyout(!0)},this.setRegionProps=()=>{this.flyoutOpen&&(null!==this.region&&void 0!==this.region?this.region.anchorElement=this.inputElement:g.enqueue(this.setRegionProps))},this.configLookup={top:pi,bottom:mi,tallest:fi,"top-fill":vi,"bottom-fill":gi,"tallest-fill":bi}}selectionChanged(){this.$fastController.isConnected&&(this.handleSelectionChange(),this.proxy instanceof HTMLInputElement&&(this.proxy.value=this.selection,this.validate()))}optionsChanged(){this.optionsList=this.options.split(",").map((e=>e.trim())).filter((e=>""!==e))}menuPlacementChanged(){this.$fastController.isConnected&&this.updateMenuConfig()}showLoadingChanged(){this.$fastController.isConnected&&g.enqueue((()=>{this.setFocusedOption(0)}))}listItemTemplateChanged(){this.updateListItemTemplate()}defaultListItemTemplateChanged(){this.updateListItemTemplate()}menuOptionTemplateChanged(){this.updateOptionTemplate()}defaultMenuOptionTemplateChanged(){this.updateOptionTemplate()}optionsListChanged(){this.updateFilteredOptions()}queryChanged(){this.$fastController.isConnected&&(this.inputElement.value!==this.query&&(this.inputElement.value=this.query),this.updateFilteredOptions(),this.$emit("querychange",{bubbles:!1}))}filteredOptionsListChanged(){this.$fastController.isConnected&&(this.showNoOptions=0===this.filteredOptionsList.length&&0===this.menuElement.querySelectorAll('[role="listitem"]').length,this.setFocusedOption(this.showNoOptions?-1:0))}flyoutOpenChanged(){this.flyoutOpen?(g.enqueue(this.setRegionProps),this.$emit("menuopening",{bubbles:!1})):this.$emit("menuclosing",{bubbles:!1})}showNoOptionsChanged(){this.$fastController.isConnected&&g.enqueue((()=>{this.setFocusedOption(0)}))}connectedCallback(){super.connectedCallback(),this.listElement||(this.listElement=document.createElement(this.selectedListTag),this.appendChild(this.listElement),this.itemsPlaceholderElement=document.createComment(""),this.listElement.appendChild(this.itemsPlaceholderElement)),this.inputElementView=Yo.render(this,this.listElement);const e=this.menuTag.toUpperCase();this.menuElement=Array.from(this.children).find((t=>t.tagName===e)),this.menuElement||(this.menuElement=document.createElement(this.menuTag),this.appendChild(this.menuElement),""===this.menuElement.id&&(this.menuElement.id=ii("listbox-")),this.menuId=this.menuElement.id),this.optionsPlaceholder||(this.optionsPlaceholder=document.createComment(""),this.menuElement.appendChild(this.optionsPlaceholder)),this.updateMenuConfig(),g.enqueue((()=>this.initialize()))}disconnectedCallback(){super.disconnectedCallback(),this.toggleFlyout(!1),this.inputElement.removeEventListener("input",this.handleTextInput),this.inputElement.removeEventListener("click",this.handleInputClick),null!==this.inputElementView&&(this.inputElementView.dispose(),this.inputElementView=null)}focus(){this.inputElement.focus()}initialize(){this.updateListItemTemplate(),this.updateOptionTemplate(),null===this.behaviorOrchestrator&&(this.behaviorOrchestrator=kn.create(this),this.$fastController.addBehavior(this.behaviorOrchestrator),this.behaviorOrchestrator.addBehaviorFactory(new Ue(B((e=>e.selectedItems)),B((e=>e.activeListItemTemplate)),{positioning:!0}),this.itemsPlaceholderElement),this.behaviorOrchestrator.addBehaviorFactory(new Ue(B((e=>e.filteredOptionsList)),B((e=>e.activeMenuOptionTemplate)),{positioning:!0}),this.optionsPlaceholder)),this.inputElement.addEventListener("input",this.handleTextInput),this.inputElement.addEventListener("click",this.handleInputClick),this.menuElement.suggestionsAvailableText=this.suggestionsAvailableText,this.menuElement.addEventListener("optionsupdated",this.handleMenuOptionsUpdated),this.handleSelectionChange()}toggleFlyout(e){if(this.flyoutOpen!==e){if(e&&this.getRootActiveElement()===this.inputElement)return this.flyoutOpen=e,void g.enqueue((()=>{void 0!==this.menuElement?this.setFocusedOption(0):this.disableMenu()}));this.flyoutOpen=!1,this.disableMenu()}}handleMenuOptionsUpdated(e){e.preventDefault(),this.flyoutOpen&&this.setFocusedOption(0)}handleKeyDown(e){if(e.defaultPrevented)return!1;const t=this.getRootActiveElement();switch(e.key){case"ArrowDown":if(this.flyoutOpen){const e=this.flyoutOpen?Math.min(this.menuFocusIndex+1,this.menuElement.optionElements.length-1):0;this.setFocusedOption(e)}else this.toggleFlyout(!0);return!1;case"ArrowUp":if(this.flyoutOpen){const e=this.flyoutOpen?Math.max(this.menuFocusIndex-1,0):0;this.setFocusedOption(e)}else this.toggleFlyout(!0);return!1;case"Escape":return this.toggleFlyout(!1),!1;case"Enter":return-1!==this.menuFocusIndex&&this.menuElement.optionElements.length>this.menuFocusIndex&&this.menuElement.optionElements[this.menuFocusIndex].click(),!1;case"ArrowRight":return t===this.inputElement||(this.incrementFocusedItem(1),!1);case"ArrowLeft":return 0!==this.inputElement.selectionStart||(this.incrementFocusedItem(-1),!1);case"Delete":case"Backspace":{if(null===t)return!0;if(t===this.inputElement)return 0!==this.inputElement.selectionStart||(this.selection=this.selectedItems.slice(0,this.selectedItems.length-1).toString(),this.toggleFlyout(!1),!1);const e=Array.from(this.listElement.children),i=e.indexOf(t);return!(i>-1)||(this.selection=this.selectedItems.splice(i,1).toString(),g.enqueue((()=>{e[Math.min(e.length,i)].focus()})),!1)}}return this.toggleFlyout(!0),!0}handleFocusIn(e){return!1}handleFocusOut(e){return void 0!==this.menuElement&&this.menuElement.contains(e.relatedTarget)||this.toggleFlyout(!1),!1}handleSelectionChange(){this.selectedItems.toString()!==this.selection&&(this.selectedItems=""===this.selection?[]:this.selection.split(","),this.updateFilteredOptions(),g.enqueue((()=>{this.checkMaxItems()})),this.$emit("selectionchange",{bubbles:!1}))}handleRegionLoaded(e){g.enqueue((()=>{this.setFocusedOption(0),this.$emit("menuloaded",{bubbles:!1})}))}checkMaxItems(){if(void 0!==this.inputElement)if(void 0!==this.maxSelected&&this.selectedItems.length>=this.maxSelected){if(this.getRootActiveElement()===this.inputElement){const e=Array.from(this.listElement.querySelectorAll("[role='listitem']"));e[e.length-1].focus()}this.inputElement.hidden=!0}else this.inputElement.hidden=!1}getRootActiveElement(){const e=this.getRootNode();return e instanceof ShadowRoot?e.activeElement:document.activeElement}handleItemInvoke(e){if(e.defaultPrevented)return!1;if(e.target instanceof Po){const t=Array.from(this.listElement.querySelectorAll("[role='listitem']")).indexOf(e.target);if(-1!==t){const e=this.selectedItems.slice();e.splice(t,1),this.selection=e.toString(),g.enqueue((()=>this.incrementFocusedItem(0)))}return!1}return!0}handleOptionInvoke(e){return!e.defaultPrevented&&(!(e.target instanceof _o)||(void 0!==e.target.value&&(this.selection=`${this.selection}${""===this.selection?"":","}${e.target.value}`),this.inputElement.value="",this.query="",this.inputElement.focus(),this.toggleFlyout(!1),!1))}incrementFocusedItem(e){if(0===this.selectedItems.length)return void this.inputElement.focus();const t=Array.from(this.listElement.querySelectorAll("[role='listitem']")),i=this.getRootActiveElement();if(null!==i){let s=t.indexOf(i);-1===s&&(s=t.length);const n=Math.min(t.length,Math.max(0,s+e));n===t.length?void 0!==this.maxSelected&&this.selectedItems.length>=this.maxSelected?t[n-1].focus():this.inputElement.focus():t[n].focus()}}disableMenu(){var e,t,i;this.menuFocusIndex=-1,this.menuFocusOptionId=void 0,null===(e=this.inputElement)||void 0===e||e.removeAttribute("aria-activedescendant"),null===(t=this.inputElement)||void 0===t||t.removeAttribute("aria-owns"),null===(i=this.inputElement)||void 0===i||i.removeAttribute("aria-expanded")}setFocusedOption(e){if(!this.flyoutOpen||-1===e||this.showNoOptions||this.showLoading)return void this.disableMenu();if(0===this.menuElement.optionElements.length)return;this.menuElement.optionElements.forEach((e=>{e.setAttribute("aria-selected","false")})),this.menuFocusIndex=e,this.menuFocusIndex>this.menuElement.optionElements.length-1&&(this.menuFocusIndex=this.menuElement.optionElements.length-1),this.menuFocusOptionId=this.menuElement.optionElements[this.menuFocusIndex].id,this.inputElement.setAttribute("aria-owns",this.menuId),this.inputElement.setAttribute("aria-expanded","true"),this.inputElement.setAttribute("aria-activedescendant",this.menuFocusOptionId);const t=this.menuElement.optionElements[this.menuFocusIndex];t.setAttribute("aria-selected","true"),this.menuElement.scrollTo(0,t.offsetTop)}updateListItemTemplate(){var e;this.activeListItemTemplate=null!==(e=this.listItemTemplate)&&void 0!==e?e:this.defaultListItemTemplate}updateOptionTemplate(){var e;this.activeMenuOptionTemplate=null!==(e=this.menuOptionTemplate)&&void 0!==e?e:this.defaultMenuOptionTemplate}updateFilteredOptions(){this.filteredOptionsList=this.optionsList.slice(0),this.filterSelected&&(this.filteredOptionsList=this.filteredOptionsList.filter((e=>-1===this.selectedItems.indexOf(e)))),this.filterQuery&&""!==this.query&&void 0!==this.query&&(this.filteredOptionsList=this.filteredOptionsList.filter((e=>-1!==e.indexOf(this.query))))}updateMenuConfig(){let e=this.configLookup[this.menuPlacement];null===e&&(e=gi),this.menuConfig=Object.assign(Object.assign({},e),{autoUpdateMode:"auto",fixedPlacement:!0,horizontalViewportLock:!1,verticalViewportLock:!1})}}function Qo(e){const t=Pe.partial(Bt(e.anchoredRegion)),i=Bt(e.pickerMenu),s=Bt(e.pickerList),n=Pe.partial(Bt(e.progressRing));return Pe`<template :selectedListTag="${()=>s}" :menuTag="${()=>i}" :defaultListItemTemplate="${function(e){const t=Pe.partial(Bt(e.pickerListItem));return Pe`<${t} value="${e=>e}" :contentsTemplate="${(e,t)=>t.parent.listItemContentsTemplate}"></${t}>`}(e)}" :defaultMenuOptionTemplate="${function(e){const t=Pe.partial(Bt(e.pickerMenuOption));return Pe`<${t} value="${e=>e}" :contentsTemplate="${(e,t)=>t.parent.menuOptionContentsTemplate}"></${t}>`}(e)}" @focusin="${(e,t)=>e.handleFocusIn(t.event)}" @focusout="${(e,t)=>e.handleFocusOut(t.event)}" @keydown="${(e,t)=>e.handleKeyDown(t.event)}" @pickeriteminvoked="${(e,t)=>e.handleItemInvoke(t.event)}" @pickeroptioninvoked="${(e,t)=>e.handleOptionInvoke(t.event)}"><slot name="list-region"></slot>${ze((e=>e.flyoutOpen),Pe`<${t} class="region" part="region" auto-update-mode="${e=>e.menuConfig.autoUpdateMode}" fixed-placement="${e=>e.menuConfig.fixedPlacement}" vertical-positioning-mode="${e=>e.menuConfig.verticalPositioningMode}" vertical-default-position="${e=>e.menuConfig.verticalDefaultPosition}" vertical-scaling="${e=>e.menuConfig.verticalScaling}" vertical-inset="${e=>e.menuConfig.verticalInset}" vertical-viewport-lock="${e=>e.menuConfig.verticalViewportLock}" horizontal-positioning-mode="${e=>e.menuConfig.horizontalPositioningMode}" horizontal-default-position="${e=>e.menuConfig.horizontalDefaultPosition}" horizontal-scaling="${e=>e.menuConfig.horizontalScaling}" horizontal-inset="${e=>e.menuConfig.horizontalInset}" horizontal-viewport-lock="${e=>e.menuConfig.horizontalViewportLock}" @loaded="${(e,t)=>e.handleRegionLoaded(t.event)}" ${Ne("region")}>${ze((e=>!e.showNoOptions&&!e.showLoading),Pe`<slot name="menu-region"></slot>`)} ${ze((e=>e.showNoOptions&&!e.showLoading),Pe`<div class="no-options-display" part="no-options-display"><slot name="no-options-region">${e=>e.noSuggestionsText}</slot></div>`)} ${ze((e=>e.showLoading),Pe`<div class="loading-display" part="loading-display"><slot name="loading-region"><${n} part="loading-progress" class="loading-progress" slot="loading-region"></${n}>${e=>e.loadingText}</slot></div>`)}</${t}>`)}</template>`}_t([rt({attribute:"selection"})],Xo.prototype,"selection",void 0),_t([rt({attribute:"options"})],Xo.prototype,"options",void 0),_t([rt({attribute:"filter-selected",mode:"boolean"})],Xo.prototype,"filterSelected",void 0),_t([rt({attribute:"filter-query",mode:"boolean"})],Xo.prototype,"filterQuery",void 0),_t([rt({attribute:"max-selected"})],Xo.prototype,"maxSelected",void 0),_t([rt({attribute:"no-suggestions-text"})],Xo.prototype,"noSuggestionsText",void 0),_t([rt({attribute:"suggestions-available-text"})],Xo.prototype,"suggestionsAvailableText",void 0),_t([rt({attribute:"loading-text"})],Xo.prototype,"loadingText",void 0),_t([rt({attribute:"label"})],Xo.prototype,"label",void 0),_t([rt({attribute:"labelledby"})],Xo.prototype,"labelledBy",void 0),_t([rt({attribute:"placeholder"})],Xo.prototype,"placeholder",void 0),_t([rt({attribute:"menu-placement"})],Xo.prototype,"menuPlacement",void 0),_t([C],Xo.prototype,"showLoading",void 0),_t([C],Xo.prototype,"listItemTemplate",void 0),_t([C],Xo.prototype,"defaultListItemTemplate",void 0),_t([C],Xo.prototype,"activeListItemTemplate",void 0),_t([C],Xo.prototype,"menuOptionTemplate",void 0),_t([C],Xo.prototype,"defaultMenuOptionTemplate",void 0),_t([C],Xo.prototype,"activeMenuOptionTemplate",void 0),_t([C],Xo.prototype,"listItemContentsTemplate",void 0),_t([C],Xo.prototype,"menuOptionContentsTemplate",void 0),_t([C],Xo.prototype,"optionsList",void 0),_t([C],Xo.prototype,"query",void 0),_t([C],Xo.prototype,"filteredOptionsList",void 0),_t([C],Xo.prototype,"flyoutOpen",void 0),_t([C],Xo.prototype,"menuId",void 0),_t([C],Xo.prototype,"selectedListTag",void 0),_t([C],Xo.prototype,"menuTag",void 0),_t([C],Xo.prototype,"menuFocusIndex",void 0),_t([C],Xo.prototype,"menuFocusOptionId",void 0),_t([C],Xo.prototype,"showNoOptions",void 0),_t([C],Xo.prototype,"menuConfig",void 0),_t([C],Xo.prototype,"selectedItems",void 0);const Zo={menuitem:"menuitem",menuitemcheckbox:"menuitemcheckbox",menuitemradio:"menuitemradio"},Jo={[Zo.menuitem]:"menuitem",[Zo.menuitemcheckbox]:"menuitemcheckbox",[Zo.menuitemradio]:"menuitemradio"};function er(e={}){return Pe`<template aria-haspopup="${e=>e.hasSubmenu?"menu":void 0}" aria-checked="${e=>e.role!==Zo.menuitem?e.checked:void 0}" aria-disabled="${e=>e.disabled}" aria-expanded="${e=>e.expanded}" @keydown="${(e,t)=>e.handleMenuItemKeyDown(t.event)}" @click="${(e,t)=>e.handleMenuItemClick(t.event)}" @mouseover="${(e,t)=>e.handleMouseOver(t.event)}" @mouseout="${(e,t)=>e.handleMouseOut(t.event)}">${ze((e=>e.role===Zo.menuitemcheckbox),Pe`<div part="input-container" class="input-container"><span part="checkbox" class="checkbox"><slot name="checkbox-indicator">${zt(e.checkboxIndicator)}</slot></span></div>`)} ${ze((e=>e.role===Zo.menuitemradio),Pe`<div part="input-container" class="input-container"><span part="radio" class="radio"><slot name="radio-indicator">${zt(e.radioIndicator)}</slot></span></div>`)}</div>${Wt(e)}<span class="content" part="content"><slot></slot></span>${Kt(e)} ${ze((e=>e.hasSubmenu),Pe`<div part="expand-collapse-glyph-container" class="expand-collapse-glyph-container"><span part="expand-collapse" class="expand-collapse"><slot name="expand-collapse-indicator">${zt(e.expandCollapseGlyph)}</slot></span></div>`)}<span ?hidden="${e=>!e.expanded}" class="submenu-container" part="submenu-container" ${Ne("submenuContainer")}><slot name="submenu" ${Qe({property:"slottedSubmenu",filter:Ge("[role='menu']")})}></slot></span></template>`}class tr extends $t{constructor(){super(...arguments),this.role=Zo.menuitem,this.checked=!1,this.focusSubmenuOnLoad=!1,this.handleMenuItemKeyDown=e=>{if(e.defaultPrevented)return!1;switch(e.key){case"Enter":case" ":return this.invoke(),!1;case"ArrowRight":return this.expanded&&this.submenu?this.submenu.focus():this.expandAndFocus(),!1;case"Escape":case"ArrowLeft":if(this.expanded)return this.closeSubMenu(),!1}return!0},this.handleMenuItemClick=e=>(e.defaultPrevented||this.disabled||this.invoke(),!1),this.submenuLoaded=()=>{this.focusSubmenuOnLoad&&(this.focusSubmenuOnLoad=!1,this.submenu&&(this.submenu.focus(),this.setAttribute("tabindex","-1")))},this.handleMouseOver=e=>(this.disabled||!this.hasSubmenu||this.expanded||(this.expanded=!0),!1),this.handleMouseOut=e=>(!this.expanded||this.contains(document.activeElement)||(this.expanded=!1),!1),this.closeSubMenu=()=>{this.expanded=!1,this.focus()},this.expandAndFocus=()=>{this.hasSubmenu&&(this.focusSubmenuOnLoad=!0,this.expanded=!0)},this.invoke=()=>{if(!this.disabled)switch(this.role){case Zo.menuitemcheckbox:this.checked=!this.checked;break;case Zo.menuitem:if(this.hasSubmenu){this.expandAndFocus();break}this.$emit("change");break;case Zo.menuitemradio:this.checked||(this.checked=!0)}}}expandedChanged(e,t){this.$fastController.isConnected&&(t&&this.submenu&&this.updateSubmenu(),this.$emit("expanded-change",this,{bubbles:!1}))}checkedChanged(e,t){this.$fastController.isConnected&&this.$emit("change")}get hasSubmenu(){return!!this.submenu}slottedSubmenuChanged(e,t){t.length&&(this.submenu=t[0],this.updateSubmenu())}disconnectedCallback(){var e;null===(e=this.cleanup)||void 0===e||e.call(this),super.disconnectedCallback()}updateSubmenu(){var e;null===(e=this.cleanup)||void 0===e||e.call(this),this.submenu&&this.expanded&&g.enqueue((()=>{this.cleanup=dn(this,this.submenuContainer,(()=>jt(this,void 0,void 0,(function*(){const e=["left-start","right-start"],{x:t,y:i}=yield hn(this,this.submenuContainer,{middleware:[As(),Rs({apply:({availableWidth:t,rects:i})=>{t<i.floating.width&&e.push("bottom-end","top-end")}}),Es({fallbackPlacements:e})],placement:"right-start",strategy:"fixed"});Object.assign(this.submenuContainer.style,{left:`${t}px`,position:"fixed",top:`${i}px`}),this.submenuLoaded()}))))}))}}function ir(){return Pe`<template slot="${e=>e.slot?e.slot:e.isNestedMenu()?"submenu":void 0}" role="menu" @keydown="${(e,t)=>e.handleMenuKeyDown(t.event)}" @focusout="${(e,t)=>e.handleFocusOut(t.event)}"><slot ${Qe("items")}></slot></template>`}_t([rt({mode:"boolean"})],tr.prototype,"disabled",void 0),_t([rt({mode:"boolean"})],tr.prototype,"expanded",void 0),_t([rt],tr.prototype,"role",void 0),_t([rt({mode:"boolean"})],tr.prototype,"checked",void 0),_t([rt({mode:"boolean"})],tr.prototype,"hidden",void 0),_t([C],tr.prototype,"slottedSubmenu",void 0),_t([C],tr.prototype,"submenu",void 0),si(tr,Ut);class sr extends $t{constructor(){super(...arguments),this.expandedItem=null,this.focusIndex=-1,this.isNestedMenu=()=>null!==this.parentElement&&Xt(this.parentElement)&&"menuitem"===this.parentElement.getAttribute("role"),this.handleFocusOut=e=>{if(!this.contains(e.relatedTarget)&&void 0!==this.menuItems){this.collapseExpandedItem();const e=this.menuItems.findIndex(this.isFocusableElement);this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.menuItems[e].setAttribute("tabindex","0"),this.focusIndex=e}},this.handleItemFocus=e=>{const t=e.target;void 0!==this.menuItems&&t!==this.menuItems[this.focusIndex]&&(this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0"))},this.handleExpandedChanged=e=>{if(e.defaultPrevented||null===e.target||void 0===this.menuItems||this.menuItems.indexOf(e.target)<0)return;e.preventDefault();const t=e.target;null===this.expandedItem||t!==this.expandedItem||!1!==t.expanded?t.expanded&&(null!==this.expandedItem&&this.expandedItem!==t&&(this.expandedItem.expanded=!1),this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.expandedItem=t,this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0")):this.expandedItem=null},this.changeHandler=e=>{if(void 0===this.menuItems)return;const t=e.target,i=this.menuItems.indexOf(t);if(-1!==i&&"menuitemradio"===t.role&&!0===t.checked){for(let e=i-1;e>=0;--e){const t=this.menuItems[e],i=t.getAttribute("role");if(i===Zo.menuitemradio&&(t.checked=!1),"separator"===i)break}const e=this.menuItems.length-1;for(let t=i+1;t<=e;++t){const e=this.menuItems[t],i=e.getAttribute("role");if(i===Zo.menuitemradio&&(e.checked=!1),"separator"===i)break}}},this.isMenuItemElement=e=>e instanceof tr||Xt(e)&&e.getAttribute("role")in sr.focusableElementRoles,this.isFocusableElement=e=>this.isMenuItemElement(e)}itemsChanged(e,t){this.$fastController.isConnected&&void 0!==this.menuItems&&this.setItems()}connectedCallback(){super.connectedCallback(),g.enqueue((()=>{this.setItems()})),this.addEventListener("change",this.changeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.removeItemListeners(),this.menuItems=void 0,this.removeEventListener("change",this.changeHandler)}focus(){this.setFocus(0,1)}collapseExpandedItem(){null!==this.expandedItem&&(this.expandedItem.expanded=!1,this.expandedItem=null)}handleMenuKeyDown(e){if(!e.defaultPrevented&&void 0!==this.menuItems)switch(e.key){case"ArrowDown":return void this.setFocus(this.focusIndex+1,1);case"ArrowUp":return void this.setFocus(this.focusIndex-1,-1);case"End":return void this.setFocus(this.menuItems.length-1,-1);case"Home":return void this.setFocus(0,1);default:return!0}}removeItemListeners(e=this.items){e.forEach((e=>{e.removeEventListener("focus",this.handleItemFocus),e.removeEventListener("expanded-changed",this.handleExpandedChanged),w.getNotifier(e).unsubscribe(this,"hidden")}))}setItems(){const e=Array.from(this.children);this.removeItemListeners(e),e.forEach((e=>w.getNotifier(e).subscribe(this,"hidden")));const t=e.filter((e=>!e.hasAttribute("hidden")));this.menuItems=t;const i=this.menuItems.filter(this.isMenuItemElement);i.length&&(this.focusIndex=0),i.forEach(((e,t)=>{e.setAttribute("tabindex",0===t?"0":"-1"),e.addEventListener("expanded-change",this.handleExpandedChanged),e.addEventListener("focus",this.handleItemFocus)}))}handleChange(e,t){"hidden"===t&&this.setItems()}setFocus(e,t){if(void 0!==this.menuItems)for(;e>=0&&e<this.menuItems.length;){const i=this.menuItems[e];if(this.isFocusableElement(i)){this.focusIndex>-1&&this.menuItems.length>=this.focusIndex-1&&this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=e,i.setAttribute("tabindex","0"),i.focus();break}e+=t}}}function nr(e={}){return Pe`<label part="label" for="control" class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"><slot ${Qe("defaultSlottedNodes")}></slot></label><div class="root" part="root">${Wt(e)}<input class="control" part="control" id="control" @input="${e=>e.handleTextInput()}" @change="${e=>e.handleChange()}" @keydown="${(e,t)=>e.handleKeyDown(t.event)}" @blur="${(e,t)=>e.handleBlur()}" ?autofocus="${e=>e.autofocus}" ?disabled="${e=>e.disabled}" list="${e=>e.list}" maxlength="${e=>e.maxlength}" minlength="${e=>e.minlength}" placeholder="${e=>e.placeholder}" ?readonly="${e=>e.readOnly}" ?required="${e=>e.required}" size="${e=>e.size}" type="text" inputmode="numeric" min="${e=>e.min}" max="${e=>e.max}" step="${e=>e.step}" aria-atomic="${e=>e.ariaAtomic}" aria-busy="${e=>e.ariaBusy}" aria-controls="${e=>e.ariaControls}" aria-current="${e=>e.ariaCurrent}" aria-describedby="${e=>e.ariaDescribedby}" aria-details="${e=>e.ariaDetails}" aria-disabled="${e=>e.ariaDisabled}" aria-errormessage="${e=>e.ariaErrormessage}" aria-flowto="${e=>e.ariaFlowto}" aria-haspopup="${e=>e.ariaHaspopup}" aria-hidden="${e=>e.ariaHidden}" aria-invalid="${e=>e.ariaInvalid}" aria-keyshortcuts="${e=>e.ariaKeyshortcuts}" aria-label="${e=>e.ariaLabel}" aria-labelledby="${e=>e.ariaLabelledby}" aria-live="${e=>e.ariaLive}" aria-owns="${e=>e.ariaOwns}" aria-relevant="${e=>e.ariaRelevant}" aria-roledescription="${e=>e.ariaRoledescription}" ${Ne("control")} />${ze((e=>!e.hideStep&&!e.readOnly&&!e.disabled),Pe`<div class="controls" part="controls"><div class="step-up" part="step-up" @click="${e=>e.stepUp()}"><slot name="step-up-glyph">${zt(e.stepUpGlyph)}</slot></div><div class="step-down" part="step-down" @click="${e=>e.stepDown()}"><slot name="step-down-glyph">${zt(e.stepDownGlyph)}</slot></div></div>`)} ${Kt(e)}</div>`}sr.focusableElementRoles=Zo,_t([C],sr.prototype,"items",void 0);class or extends $t{}class rr extends(Hi(or)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const ar={email:"email",password:"password",tel:"tel",text:"text",url:"url"};class lr extends rr{constructor(){super(...arguments),this.type=ar.text}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&g.enqueue((()=>{this.focus()}))}select(){this.control.select(),this.$emit("select")}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}validate(){super.validate(this.control)}}_t([rt({attribute:"readonly",mode:"boolean"})],lr.prototype,"readOnly",void 0),_t([rt({mode:"boolean"})],lr.prototype,"autofocus",void 0),_t([rt],lr.prototype,"placeholder",void 0),_t([rt],lr.prototype,"type",void 0),_t([rt],lr.prototype,"list",void 0),_t([rt({converter:nt})],lr.prototype,"maxlength",void 0),_t([rt({converter:nt})],lr.prototype,"minlength",void 0),_t([rt],lr.prototype,"pattern",void 0),_t([rt({converter:nt})],lr.prototype,"size",void 0),_t([rt({mode:"boolean"})],lr.prototype,"spellcheck",void 0),_t([C],lr.prototype,"defaultSlottedNodes",void 0);class dr{}si(dr,qt),si(lr,Ut,dr);class hr extends $t{}class cr extends(Hi(hr)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class ur extends cr{constructor(){super(...arguments),this.hideStep=!1,this.step=1,this.isUserInput=!1}maxChanged(e,t){var i;this.max=Math.max(t,null!==(i=this.min)&&void 0!==i?i:t);const s=Math.min(this.min,this.max);void 0!==this.min&&this.min!==s&&(this.min=s),this.value=this.getValidValue(this.value)}minChanged(e,t){var i;this.min=Math.min(t,null!==(i=this.max)&&void 0!==i?i:t);const s=Math.max(this.min,this.max);void 0!==this.max&&this.max!==s&&(this.max=s),this.value=this.getValidValue(this.value)}get valueAsNumber(){return parseFloat(super.value)}set valueAsNumber(e){this.value=e.toString()}valueChanged(e,t){var i;const s=this.getValidValue(t);t===s?(this.$fastController.isConnected&&(null===(i=this.control)||void 0===i?void 0:i.value)!==s&&(this.control.value=this.value),super.valueChanged(e,this.value),void 0===e||this.isUserInput||(this.$emit("input"),this.$emit("change")),this.isUserInput=!1):this.value=s}validate(){super.validate(this.control)}getValidValue(e){var t,i;let s=parseFloat(parseFloat(e).toPrecision(12));return isNaN(s)?s="":(s=Math.min(s,null!==(t=this.max)&&void 0!==t?t:s),s=Math.max(s,null!==(i=this.min)&&void 0!==i?i:s).toString()),s}stepUp(){const e=parseFloat(this.value),t=isNaN(e)?this.min>0?this.min:this.max<0?this.max:this.min?0:this.step:e+this.step;this.value=t.toString()}stepDown(){const e=parseFloat(this.value),t=isNaN(e)?this.min>0?this.min:this.max<0?this.max:this.min?0:0-this.step:e-this.step;this.value=t.toString()}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","number"),this.validate(),this.control.value=this.value,this.autofocus&&g.enqueue((()=>{this.focus()}))}select(){this.control.select(),this.$emit("select")}handleTextInput(){this.control.value=this.control.value.replace(/[^0-9\-+e.]/g,""),this.isUserInput=!0,this.value=this.control.value}handleChange(){this.$emit("change")}handleKeyDown(e){switch(e.key){case"ArrowUp":return this.stepUp(),!1;case"ArrowDown":return this.stepDown(),!1}return!0}handleBlur(){this.control.value=this.value}}_t([rt({attribute:"readonly",mode:"boolean"})],ur.prototype,"readOnly",void 0),_t([rt({mode:"boolean"})],ur.prototype,"autofocus",void 0),_t([rt({attribute:"hide-step",mode:"boolean"})],ur.prototype,"hideStep",void 0),_t([rt],ur.prototype,"placeholder",void 0),_t([rt],ur.prototype,"list",void 0),_t([rt({converter:nt})],ur.prototype,"maxlength",void 0),_t([rt({converter:nt})],ur.prototype,"minlength",void 0),_t([rt({converter:nt})],ur.prototype,"size",void 0),_t([rt({converter:nt})],ur.prototype,"step",void 0),_t([rt({converter:nt})],ur.prototype,"max",void 0),_t([rt({converter:nt})],ur.prototype,"min",void 0),_t([C],ur.prototype,"defaultSlottedNodes",void 0),si(ur,Ut,dr);class pr extends $t{constructor(){super(...arguments),this.percentComplete=0}valueChanged(){this.updatePercentComplete()}minChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}maxChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}connectedCallback(){super.connectedCallback(),this.updatePercentComplete()}updatePercentComplete(){const e="number"==typeof this.min?this.min:0,t="number"==typeof this.max?this.max:100,i="number"==typeof this.value?this.value:0,s=t-e;this.percentComplete=0===s?0:Math.fround((i-e)/s*100)}}_t([rt({converter:nt})],pr.prototype,"value",void 0),_t([rt({converter:nt})],pr.prototype,"min",void 0),_t([rt({converter:nt})],pr.prototype,"max",void 0),_t([C],pr.prototype,"percentComplete",void 0);class mr extends pr{}function fr(e={}){return Pe`<template role="progressbar" aria-valuenow="${e=>e.value}" aria-valuemin="${e=>e.min}" aria-valuemax="${e=>e.max}">${ze((e=>"number"==typeof e.value),Pe`<svg class="progress" part="progress" viewBox="0 0 16 16" slot="determinate"><circle class="background" part="background" cx="8px" cy="8px" r="7px"></circle><circle class="determinate" part="determinate" style="stroke-dasharray: ${e=>44*e.percentComplete/100}px ${44}px" cx="8px" cy="8px" r="7px"></circle></svg>`)} ${ze((e=>"number"!=typeof e.value),Pe`<slot name="indeterminate">${zt(e.indeterminateIndicator)}</slot>`)}</template>`}class vr extends pr{}function gr(e={}){return Pe`<template role="progressbar" aria-valuenow="${e=>e.value}" aria-valuemin="${e=>e.min}" aria-valuemax="${e=>e.max}">${ze((e=>"number"==typeof e.value),Pe`<div class="progress" part="progress" slot="determinate"><div class="determinate" part="determinate" style="width: ${e=>e.percentComplete}%"></div></div>`)} ${ze((e=>"number"!=typeof e.value),Pe`<div class="progress" part="progress" slot="indeterminate"><slot name="indeterminate">${zt(e.indeterminateIndicator1)} ${zt(e.indeterminateIndicator2)}</slot></div>`)}</template>`}const br=Yt;function yr(){return Pe`<template role="radiogroup" tabindex="${e=>e.disabled?-1:void 0}" aria-disabled="${e=>e.disabled}" aria-readonly="${e=>e.readOnly}" aria-orientation="${e=>e.orientation}" @click="${(e,t)=>e.clickHandler(t.event)}" @mousedown="${(e,t)=>e.handleDisabledClick(t.event)}" @keydown="${(e,t)=>e.keydownHandler(t.event)}" @focusout="${(e,t)=>e.focusOutHandler(t.event)}"><slot name="label"></slot><div class="positioning-region ${e=>e.orientation===br.horizontal?"horizontal":"vertical"}" part="positioning-region"><slot ${Qe({property:"slottedRadioButtons",filter:Ge("[role=radio]")})}></slot></div></template>`}const xr=e=>{var t;return e.nodeType!==Node.TEXT_NODE||!!(null===(t=e.nodeValue)||void 0===t?void 0:t.trim().length)};function wr(e={}){return Pe`<template role="radio" aria-checked="${e=>e.checked}" aria-required="${e=>e.required}" aria-disabled="${e=>e.disabled}" @keypress="${(e,t)=>e.keypressHandler(t.event)}"><div part="control" class="control"><slot name="checked-indicator">${zt(e.checkedIndicator)}</slot></div><label part="label" class="${e=>{var t;return["label",!(null===(t=e.defaultSlottedNodes)||void 0===t?void 0:t.length)&&"label__hidden"].filter(Boolean).join(" ")}}"><slot ${Qe({property:"defaultSlottedNodes",filter:xr})}></slot></label></template>`}class Cr extends $t{}class $r extends(Ni(Cr)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class kr extends $r{constructor(){super(),this.initialValue="on",this.proxy.setAttribute("type","radio")}get radioGroup(){return this.closest("[role=radiogroup]")}defaultCheckedChanged(){var e;this.$fastController.isConnected&&!this.dirtyChecked&&(this.isInsideRadioGroup()||(this.checked=null!==(e=this.defaultChecked)&&void 0!==e&&e,this.dirtyChecked=!1))}connectedCallback(){var e,t;super.connectedCallback(),this.validate(),"radiogroup"!==(null===(e=this.parentElement)||void 0===e?void 0:e.getAttribute("role"))&&null===this.getAttribute("tabindex")&&(this.disabled||this.setAttribute("tabindex","0")),this.checkedAttribute&&(this.dirtyChecked||this.isInsideRadioGroup()||(this.checked=null!==(t=this.defaultChecked)&&void 0!==t&&t,this.dirtyChecked=!1))}isInsideRadioGroup(){return null!==this.radioGroup}keypressHandler(e){var t;if(" "!==e.key)return!0;this.checked||(null===(t=this.radioGroup)||void 0===t?void 0:t.readOnly)||(this.checked=!0)}}_t([C],kr.prototype,"name",void 0),_t([C],kr.prototype,"defaultSlottedNodes",void 0);class Ir extends $t{constructor(){super(...arguments),this.orientation=br.horizontal,this.radioChangeHandler=e=>{const t=e.target;t.checked&&(this.slottedRadioButtons.forEach((e=>{e!==t&&(e.checked=!1,this.isInsideFoundationToolbar||e.setAttribute("tabindex","-1"))})),this.selectedRadio=t,this.value=t.value,t.setAttribute("tabindex","0"),this.focusedRadio=t),e.stopPropagation()},this.moveToRadioByIndex=(e,t)=>{const i=e[t];this.isInsideToolbar||(i.setAttribute("tabindex","0"),i.checked=!0,this.selectedRadio=i),this.focusedRadio=i,i.focus()},this.moveRightOffGroup=()=>{var e;null===(e=this.nextElementSibling)||void 0===e||e.focus()},this.moveLeftOffGroup=()=>{var e;null===(e=this.previousElementSibling)||void 0===e||e.focus()},this.focusOutHandler=e=>{const t=this.slottedRadioButtons,i=e.target,s=null!==i?t.indexOf(i):0,n=this.focusedRadio?t.indexOf(this.focusedRadio):-1;return(0===n&&s===n||n===t.length-1&&n===s)&&(this.selectedRadio?(this.focusedRadio=this.selectedRadio,this.isInsideFoundationToolbar||(this.selectedRadio.setAttribute("tabindex","0"),t.forEach((e=>{e!==this.selectedRadio&&e.setAttribute("tabindex","-1")})))):(this.focusedRadio=t[0],this.focusedRadio.setAttribute("tabindex","0"),t.forEach((e=>{e!==this.focusedRadio&&e.setAttribute("tabindex","-1")})))),!0},this.handleDisabledClick=e=>{if(!this.disabled)return!0;e.preventDefault()},this.clickHandler=e=>{if(this.disabled)return;e.preventDefault();const t=e.target;t&&t instanceof kr&&(t.checked=!0,t.setAttribute("tabindex","0"),this.selectedRadio=t,this.focusedRadio=t)},this.shouldMoveOffGroupToTheRight=(e,t,i)=>e===t.length&&this.isInsideToolbar&&"ArrowRight"===i,this.shouldMoveOffGroupToTheLeft=(e,t)=>(this.focusedRadio?e.indexOf(this.focusedRadio)-1:0)<0&&this.isInsideToolbar&&"ArrowLeft"===t,this.checkFocusedRadio=()=>{null===this.focusedRadio||this.focusedRadio.checked||(this.focusedRadio.checked=!0,this.focusedRadio.setAttribute("tabindex","0"),this.focusedRadio.focus(),this.selectedRadio=this.focusedRadio)},this.moveRight=e=>{const t=this.slottedRadioButtons;let i=0;if(i=this.focusedRadio?t.indexOf(this.focusedRadio)+1:1,this.shouldMoveOffGroupToTheRight(i,t,e.key))this.moveRightOffGroup();else for(i===t.length&&(i=0);i<t.length&&t.length>1;){if(!t[i].disabled){this.moveToRadioByIndex(t,i);break}if(this.focusedRadio&&i===t.indexOf(this.focusedRadio))break;if(i+1>=t.length){if(this.isInsideToolbar)break;i=0}else i+=1}},this.moveLeft=e=>{const t=this.slottedRadioButtons;let i=0;if(i=this.focusedRadio?t.indexOf(this.focusedRadio)-1:0,i=i<0?t.length-1:i,this.shouldMoveOffGroupToTheLeft(t,e.key))this.moveLeftOffGroup();else for(;i>=0&&t.length>1;){if(!t[i].disabled){this.moveToRadioByIndex(t,i);break}if(this.focusedRadio&&i===t.indexOf(this.focusedRadio))break;i-1<0?i=t.length-1:i-=1}},this.keydownHandler=e=>{const t=e.key;if(t in Qt&&(this.isInsideFoundationToolbar||this.disabled))return!0;switch(t){case"Enter":this.checkFocusedRadio();break;case"ArrowRight":case"ArrowDown":this.direction===Zt.ltr?this.moveRight(e):this.moveLeft(e);break;case"ArrowLeft":case"ArrowUp":this.direction===Zt.ltr?this.moveLeft(e):this.moveRight(e);break;default:return!0}}}disabledChanged(){}nameChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach((e=>{e.setAttribute("name",this.name)}))}valueChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach((e=>{e.value===this.value&&(e.checked=!0,this.selectedRadio=e)})),this.$emit("change")}slottedRadioButtonsChanged(e,t){this.slottedRadioButtons&&this.slottedRadioButtons.length>0&&this.setupRadioButtons()}get parentToolbar(){return this.closest('[role="toolbar"]')}get isInsideToolbar(){var e;return null!==(e=this.parentToolbar)&&void 0!==e&&e}get isInsideFoundationToolbar(){var e;return!!(null===(e=this.parentToolbar)||void 0===e?void 0:e.$fastController)}connectedCallback(){super.connectedCallback(),this.direction=yi(this),this.setupRadioButtons()}disconnectedCallback(){this.slottedRadioButtons.forEach((e=>{e.removeEventListener("change",this.radioChangeHandler)}))}setupRadioButtons(){const e=this.slottedRadioButtons.filter((e=>e.hasAttribute("checked"))),t=e?e.length:0;if(t>1){e[t-1].checked=!0}let i=!1;if(this.slottedRadioButtons.forEach((e=>{void 0!==this.name&&e.setAttribute("name",this.name),this.value&&this.value===e.value?(this.selectedRadio=e,this.focusedRadio=e,e.checked=!0,e.setAttribute("tabindex","0"),i=!0):(this.isInsideFoundationToolbar||e.setAttribute("tabindex","-1"),e.checked=!1),e.addEventListener("change",this.radioChangeHandler)})),void 0===this.value&&this.slottedRadioButtons.length>0){const e=this.slottedRadioButtons.filter((e=>e.hasAttribute("checked"))),t=null!==e?e.length:0;if(t>0&&!i){const i=e[t-1];i.checked=!0,this.focusedRadio=i,i.setAttribute("tabindex","0")}else this.slottedRadioButtons[0].setAttribute("tabindex","0"),this.focusedRadio=this.slottedRadioButtons[0]}}}_t([rt({attribute:"readonly",mode:"boolean"})],Ir.prototype,"readOnly",void 0),_t([rt({attribute:"disabled",mode:"boolean"})],Ir.prototype,"disabled",void 0),_t([rt],Ir.prototype,"name",void 0),_t([rt],Ir.prototype,"value",void 0),_t([rt],Ir.prototype,"orientation",void 0),_t([C],Ir.prototype,"childItems",void 0),_t([C],Ir.prototype,"slottedRadioButtons",void 0);const Er={default:"default",mobile:"mobile"},Tr={linear:"linear",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out"};class Sr extends $t{constructor(){super(...arguments),this.framesPerSecond=60,this.updatingItems=!1,this.speed=600,this.easing=Tr.easeInOut,this.flippersHiddenFromAT=!1,this.scrolling=!1,this.resizeDetector=null}get frameTime(){return 1e3/this.framesPerSecond}scrollingChanged(e,t){if(this.scrollContainer){const e=1==this.scrolling?"scrollstart":"scrollend";this.$emit(e,this.scrollContainer.scrollLeft)}}get isRtl(){return this.scrollItems.length>1&&this.scrollItems[0].offsetLeft>this.scrollItems[1].offsetLeft}connectedCallback(){super.connectedCallback(),this.initializeResizeDetector()}disconnectedCallback(){this.disconnectResizeDetector(),super.disconnectedCallback()}scrollItemsChanged(e,t){t&&!this.updatingItems&&g.enqueue((()=>this.setStops()))}disconnectResizeDetector(){this.resizeDetector&&(this.resizeDetector.disconnect(),this.resizeDetector=null)}initializeResizeDetector(){this.disconnectResizeDetector(),this.resizeDetector=new window.ResizeObserver(this.resized.bind(this)),this.resizeDetector.observe(this)}updateScrollStops(){this.updatingItems=!0;const e=this.scrollItems.reduce(((e,t)=>t instanceof HTMLSlotElement?e.concat(t.assignedElements()):(e.push(t),e)),[]);this.scrollItems=e,this.updatingItems=!1}setStops(){this.updateScrollStops();const{scrollContainer:e}=this,{scrollLeft:t}=e,{width:i,left:s}=e.getBoundingClientRect();this.width=i;let n=0,o=this.scrollItems.map(((e,i)=>{const{left:o,width:r}=e.getBoundingClientRect(),a=Math.round(o+t-s),l=Math.round(a+r);return this.isRtl?-l:(n=l,0===i?0:a)})).concat(n);o=this.fixScrollMisalign(o),o.sort(((e,t)=>Math.abs(e)-Math.abs(t))),this.scrollStops=o,this.setFlippers()}validateStops(e=!0){const t=()=>!!this.scrollStops.find((e=>e>0));return!t()&&e&&this.setStops(),t()}fixScrollMisalign(e){if(this.isRtl&&e.some((e=>e>0))){e.sort(((e,t)=>t-e));const t=e[0];e=e.map((e=>e-t))}return e}setFlippers(){var e,t;const i=this.scrollContainer.scrollLeft;if(null===(e=this.previousFlipperContainer)||void 0===e||e.classList.toggle("disabled",0===i),this.scrollStops){const e=Math.abs(this.scrollStops[this.scrollStops.length-1]);null===(t=this.nextFlipperContainer)||void 0===t||t.classList.toggle("disabled",this.validateStops(!1)&&Math.abs(i)+this.width>=e)}}scrollInView(e,t=0,i){var s;if("number"!=typeof e&&e&&(e=this.scrollItems.findIndex((t=>t===e||t.contains(e)))),void 0!==e){i=null!=i?i:t;const{scrollContainer:n,scrollStops:o,scrollItems:r}=this,{scrollLeft:a}=this.scrollContainer,{width:l}=n.getBoundingClientRect(),d=o[e],{width:h}=r[e].getBoundingClientRect(),c=d+h,u=a+t>d;if(u||a+l-i<c){const e=null!==(s=[...o].sort(((e,t)=>u?t-e:e-t)).find((e=>u?e+t<d:e+l-(null!=i?i:0)>c)))&&void 0!==s?s:0;this.scrollToPosition(e)}}}keyupHandler(e){switch(e.key){case"ArrowLeft":this.scrollToPrevious();break;case"ArrowRight":this.scrollToNext()}}scrollToPrevious(){this.validateStops();const e=this.scrollContainer.scrollLeft,t=this.scrollStops.findIndex(((t,i)=>t>=e&&(this.isRtl||i===this.scrollStops.length-1||this.scrollStops[i+1]>e))),i=Math.abs(this.scrollStops[t+1]);let s=this.scrollStops.findIndex((e=>Math.abs(e)+this.width>i));(s>=t||-1===s)&&(s=t>0?t-1:0),this.scrollToPosition(this.scrollStops[s],e)}scrollToNext(){this.validateStops();const e=this.scrollContainer.scrollLeft,t=this.scrollStops.findIndex((t=>Math.abs(t)>=Math.abs(e))),i=this.scrollStops.findIndex((t=>Math.abs(e)+this.width<=Math.abs(t)));let s=t;i>t+2?s=i-2:t<this.scrollStops.length-2&&(s=t+1),this.scrollToPosition(this.scrollStops[s],e)}scrollToPosition(e,t=this.scrollContainer.scrollLeft){var i;if(this.scrolling)return;this.scrolling=!0;const s=null!==(i=this.duration)&&void 0!==i?i:Math.abs(e-t)/this.speed+"s";this.content.style.setProperty("transition-duration",s);const n=parseFloat(getComputedStyle(this.content).getPropertyValue("transition-duration")),o=t=>{t&&t.target!==t.currentTarget||(this.content.style.setProperty("transition-duration","0s"),this.content.style.removeProperty("transform"),this.scrollContainer.style.setProperty("scroll-behavior","auto"),this.scrollContainer.scrollLeft=e,this.setFlippers(),this.content.removeEventListener("transitionend",o),this.scrolling=!1)};if(0===n)return void o();this.content.addEventListener("transitionend",o);const r=this.scrollContainer.scrollWidth-this.scrollContainer.clientWidth;let a=this.scrollContainer.scrollLeft-Math.min(e,r);this.isRtl&&(a=this.scrollContainer.scrollLeft+Math.min(Math.abs(e),r)),this.content.style.setProperty("transition-property","transform"),this.content.style.setProperty("transition-timing-function",this.easing),this.content.style.setProperty("transform",`translateX(${a}px)`)}resized(){this.resizeTimeout&&(this.resizeTimeout=clearTimeout(this.resizeTimeout)),this.resizeTimeout=setTimeout((()=>{this.width=this.scrollContainer.offsetWidth,this.setFlippers()}),this.frameTime)}scrolled(){this.scrollTimeout&&(this.scrollTimeout=clearTimeout(this.scrollTimeout)),this.scrollTimeout=setTimeout((()=>{this.setFlippers()}),this.frameTime)}}function Or(e={}){return Pe`<template @keyup="${(e,t)=>e.keyupHandler(t.event)}">${Wt(e)}<div class="scroll-area" part="scroll-area"><div class="scroll-view" part="scroll-view" @scroll="${e=>e.scrolled()}" ${Ne("scrollContainer")}><div class="content-container" part="content-container" ${Ne("content")}><slot ${Qe({property:"scrollItems",filter:Ge()})}></slot></div></div>${ze((e=>"mobile"!==e.view),Pe`<div class="scroll scroll-prev" part="scroll-prev" ${Ne("previousFlipperContainer")}><div class="scroll-action" part="scroll-action-previous"><slot name="previous-flipper">${zt(e.previousFlipper)}</slot></div></div><div class="scroll scroll-next" part="scroll-next" ${Ne("nextFlipperContainer")}><div class="scroll-action" part="scroll-action-next"><slot name="next-flipper">${zt(e.nextFlipper)}</slot></div></div>`)}</div>${Kt(e)}</template>`}function Ar(e={}){return Pe`<label part="label" for="control" class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"><slot ${Qe({property:"defaultSlottedNodes",filter:xr})}></slot></label><div class="root" part="root" ${Ne("root")}>${Wt(e)}<div class="input-wrapper" part="input-wrapper"><input class="control" part="control" id="control" @input="${e=>e.handleTextInput()}" @change="${e=>e.handleChange()}" ?autofocus="${e=>e.autofocus}" ?disabled="${e=>e.disabled}" list="${e=>e.list}" maxlength="${e=>e.maxlength}" minlength="${e=>e.minlength}" pattern="${e=>e.pattern}" placeholder="${e=>e.placeholder}" ?readonly="${e=>e.readOnly}" ?required="${e=>e.required}" size="${e=>e.size}" ?spellcheck="${e=>e.spellcheck}" :value="${e=>e.value}" type="search" aria-atomic="${e=>e.ariaAtomic}" aria-busy="${e=>e.ariaBusy}" aria-controls="${e=>e.ariaControls}" aria-current="${e=>e.ariaCurrent}" aria-describedby="${e=>e.ariaDescribedby}" aria-details="${e=>e.ariaDetails}" aria-disabled="${e=>e.ariaDisabled}" aria-errormessage="${e=>e.ariaErrormessage}" aria-flowto="${e=>e.ariaFlowto}" aria-haspopup="${e=>e.ariaHaspopup}" aria-hidden="${e=>e.ariaHidden}" aria-invalid="${e=>e.ariaInvalid}" aria-keyshortcuts="${e=>e.ariaKeyshortcuts}" aria-label="${e=>e.ariaLabel}" aria-labelledby="${e=>e.ariaLabelledby}" aria-live="${e=>e.ariaLive}" aria-owns="${e=>e.ariaOwns}" aria-relevant="${e=>e.ariaRelevant}" aria-roledescription="${e=>e.ariaRoledescription}" ${Ne("control")} /><slot name="clear-button"><button class="clear-button ${e=>e.value?"":"clear-button__hidden"}" part="clear-button" tabindex="-1" @click=${e=>e.handleClearInput()}><slot name="clear-glyph"><svg width="9" height="9" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><path d="M0.146447 0.146447C0.338683 -0.0478972 0.645911 -0.0270359 0.853553 0.146447L4.5 3.793L8.14645 0.146447C8.34171 -0.0488155 8.65829 -0.0488155 8.85355 0.146447C9.04882 0.341709 9.04882 0.658291 8.85355 0.853553L5.207 4.5L8.85355 8.14645C9.05934 8.35223 9.03129 8.67582 8.85355 8.85355C8.67582 9.03129 8.35409 9.02703 8.14645 8.85355L4.5 5.207L0.853553 8.85355C0.658291 9.04882 0.341709 9.04882 0.146447 8.85355C-0.0488155 8.65829 -0.0488155 8.34171 0.146447 8.14645L3.793 4.5L0.146447 0.853553C-0.0268697 0.680237 -0.0457894 0.34079 0.146447 0.146447Z" /></svg></slot></button></slot></div>${Kt(e)}</div>`}_t([rt({converter:nt})],Sr.prototype,"speed",void 0),_t([rt],Sr.prototype,"duration",void 0),_t([rt],Sr.prototype,"easing",void 0),_t([rt({attribute:"flippers-hidden-from-at",converter:tt})],Sr.prototype,"flippersHiddenFromAT",void 0),_t([C],Sr.prototype,"scrolling",void 0),_t([C],Sr.prototype,"scrollItems",void 0),_t([rt({attribute:"view"})],Sr.prototype,"view",void 0),si(Sr,Ut);class Rr extends $t{}class Dr extends(Hi(Rr)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class Lr extends Dr{readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.validate(),this.autofocus&&g.enqueue((()=>{this.focus()}))}validate(){super.validate(this.control)}handleTextInput(){this.value=this.control.value}handleClearInput(){this.value="",this.control.focus(),this.handleChange()}handleChange(){this.$emit("change")}}_t([rt({attribute:"readonly",mode:"boolean"})],Lr.prototype,"readOnly",void 0),_t([rt({mode:"boolean"})],Lr.prototype,"autofocus",void 0),_t([rt],Lr.prototype,"placeholder",void 0),_t([rt],Lr.prototype,"list",void 0),_t([rt({converter:nt})],Lr.prototype,"maxlength",void 0),_t([rt({converter:nt})],Lr.prototype,"minlength",void 0),_t([rt],Lr.prototype,"pattern",void 0),_t([rt({converter:nt})],Lr.prototype,"size",void 0),_t([rt({mode:"boolean"})],Lr.prototype,"spellcheck",void 0),_t([C],Lr.prototype,"defaultSlottedNodes",void 0);class Fr{}si(Fr,qt),si(Lr,Ut,Fr);class Mr extends Fo{}class Vr extends(Hi(Mr)){constructor(){super(...arguments),this.proxy=document.createElement("select")}}class Pr extends Vr{constructor(){super(...arguments),this.open=!1,this.listboxId=ii("listbox-")}openChanged(e,t){var i;if(this.collapsible){if(this.open)return this.ariaControls=this.listboxId,this.ariaExpanded="true",g.enqueue((()=>this.setPositioning())),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex,void g.enqueue((()=>this.focus()));null===(i=this.cleanup)||void 0===i||i.call(this),this.ariaControls="",this.ariaExpanded="false"}}get collapsible(){return!(this.multiple||"number"==typeof this.size)}get value(){return w.track(this,"value"),this._value}set value(e){var t,i,s,n,o,r,a;const l=`${this._value}`;if(null===(t=this._options)||void 0===t?void 0:t.length){const t=this._options.findIndex((t=>t.value===e)),l=null!==(s=null===(i=this._options[this.selectedIndex])||void 0===i?void 0:i.value)&&void 0!==s?s:null,d=null!==(o=null===(n=this._options[t])||void 0===n?void 0:n.value)&&void 0!==o?o:null;-1!==t&&l===d||(e="",this.selectedIndex=t),e=null!==(a=null===(r=this.firstSelectedOption)||void 0===r?void 0:r.value)&&void 0!==a?a:e}l!==e&&(this._value=e,super.valueChanged(l,e),w.notify(this,"value"),this.updateDisplayValue())}updateValue(e){var t,i;this.$fastController.isConnected&&(this.value=null!==(i=null===(t=this.firstSelectedOption)||void 0===t?void 0:t.value)&&void 0!==i?i:""),e&&(this.$emit("input"),this.$emit("change",this,{bubbles:!0,composed:void 0}))}selectedIndexChanged(e,t){super.selectedIndexChanged(e,t),this.updateValue()}setPositioning(){this.$fastController.isConnected&&(this.cleanup=dn(this,this.listbox,(()=>jt(this,void 0,void 0,(function*(){var e;const{middlewareData:t,x:i,y:s}=yield hn(this.control,this.listbox,{placement:"bottom",strategy:"fixed",middleware:[Es(),Rs({apply:({availableHeight:e,rects:t})=>{Object.assign(this.listbox.style,{maxHeight:`${e}px`,width:`${t.reference.width}px`})}}),Os()]});(null===(e=t.hide)||void 0===e?void 0:e.referenceHidden)?this.open=!1:Object.assign(this.listbox.style,{position:"fixed",top:"0",left:"0",transform:`translate(${i}px, ${s}px)`})})))))}get displayValue(){var e,t;return w.track(this,"displayValue"),null!==(t=null===(e=this.firstSelectedOption)||void 0===e?void 0:e.text)&&void 0!==t?t:""}disabledChanged(e,t){super.disabledChanged&&super.disabledChanged(e,t),this.ariaDisabled=this.disabled?"true":"false"}formResetCallback(){this.setProxyOptions(),super.setDefaultSelectedOption(),-1===this.selectedIndex&&(this.selectedIndex=0)}clickHandler(e){if(!this.disabled){if(this.open){const t=e.target.closest("option,[role=option]");if(t&&t.disabled)return}return super.clickHandler(e),this.open=this.collapsible&&!this.open,this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}}focusoutHandler(e){var t;if(super.focusoutHandler(e),!this.open)return!0;const i=e.relatedTarget;this.isSameNode(i)?this.focus():(null===(t=this.options)||void 0===t?void 0:t.includes(i))||(this.open=!1,this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0))}handleChange(e,t){super.handleChange(e,t),"value"===t&&this.updateValue()}slottedOptionsChanged(e,t){this.options.forEach((e=>{w.getNotifier(e).unsubscribe(this,"value")})),super.slottedOptionsChanged(e,t),this.options.forEach((e=>{w.getNotifier(e).subscribe(this,"value")})),this.setProxyOptions(),this.updateValue()}mousedownHandler(e){var t;return e.offsetX>=0&&e.offsetX<=(null===(t=this.listbox)||void 0===t?void 0:t.scrollWidth)?super.mousedownHandler(e):this.collapsible}multipleChanged(e,t){super.multipleChanged(e,t),this.proxy&&(this.proxy.multiple=t)}selectedOptionsChanged(e,t){var i;super.selectedOptionsChanged(e,t),null===(i=this.options)||void 0===i||i.forEach(((e,t)=>{var i;const s=null===(i=this.proxy)||void 0===i?void 0:i.options.item(t);s&&(s.selected=e.selected)}))}setDefaultSelectedOption(){var e;const t=null!==(e=this.options)&&void 0!==e?e:Array.from(this.children).filter(mn.slottedOptionFilter),i=null==t?void 0:t.findIndex((e=>e.hasAttribute("selected")||e.selected||e.value===this.value));this.selectedIndex=-1===i?0:i}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((e=>{const t=e.proxy||(e instanceof HTMLOptionElement?e.cloneNode():null);t&&this.proxy.options.add(t)})))}keydownHandler(e){super.keydownHandler(e);const t=e.key||e.key.charCodeAt(0);switch(t){case" ":e.preventDefault(),this.collapsible&&this.typeAheadExpired&&(this.open=!this.open);break;case"Home":case"End":e.preventDefault();break;case"Enter":e.preventDefault(),this.open=!this.open;break;case"Escape":this.collapsible&&this.open&&(e.preventDefault(),this.open=!1);break;case"Tab":return this.collapsible&&this.open&&(e.preventDefault(),this.open=!1),!0}return this.open||this.indexWhenOpened===this.selectedIndex||(this.updateValue(!0),this.indexWhenOpened=this.selectedIndex),!("ArrowDown"===t||"ArrowUp"===t)}connectedCallback(){super.connectedCallback(),this.addEventListener("contentchange",this.updateDisplayValue)}disconnectedCallback(){var e;this.removeEventListener("contentchange",this.updateDisplayValue),null===(e=this.cleanup)||void 0===e||e.call(this),super.disconnectedCallback()}sizeChanged(e,t){super.sizeChanged(e,t),this.proxy&&(this.proxy.size=t)}updateDisplayValue(){this.collapsible&&w.notify(this,"displayValue")}}_t([rt({attribute:"open",mode:"boolean"})],Pr.prototype,"open",void 0),_t([$],Pr.prototype,"collapsible",null),_t([C],Pr.prototype,"control",void 0);class Hr{}function Nr(e={}){return Pe`<template aria-activedescendant="${e=>e.ariaActiveDescendant}" aria-controls="${e=>e.ariaControls}" aria-disabled="${e=>e.ariaDisabled}" aria-expanded="${e=>e.ariaExpanded}" aria-haspopup="${e=>e.collapsible?"listbox":null}" aria-multiselectable="${e=>e.ariaMultiSelectable}" ?open="${e=>e.open}" role="combobox" tabindex="${e=>e.disabled?null:"0"}" @click="${(e,t)=>e.clickHandler(t.event)}" @focusin="${(e,t)=>e.focusinHandler(t.event)}" @focusout="${(e,t)=>e.focusoutHandler(t.event)}" @keydown="${(e,t)=>e.keydownHandler(t.event)}" @mousedown="${(e,t)=>e.mousedownHandler(t.event)}">${ze((e=>e.collapsible),Pe`<div class="control" part="control" ?disabled="${e=>e.disabled}" ${Ne("control")}>${Wt(e)}<slot name="button-container"><div class="selected-value" part="selected-value"><slot name="selected-value">${e=>e.displayValue}</slot></div><div aria-hidden="true" class="indicator" part="indicator"><slot name="indicator">${zt(e.indicator)}</slot></div></slot>${Kt(e)}</div>`)}<div class="listbox" id="${e=>e.listboxId}" part="listbox" role="listbox" ?disabled="${e=>e.disabled}" ?hidden="${e=>!!e.collapsible&&!e.open}" ${Ne("listbox")}><slot ${Qe({filter:mn.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}></slot></div></template>`}function zr(){return Pe`<template pattern="${e=>e.pattern}" ?shimmer="${e=>e.shimmer}">${ze((e=>!0===e.shimmer),Pe`<span class="shimmer"></span>`)}<object type="image/svg+xml" data="${e=>e.pattern}" role="presentation"><img class="pattern" src="${e=>e.pattern}" /></object><slot></slot></template>`}_t([C],Hr.prototype,"ariaControls",void 0),si(Hr,fn),si(Pr,Ut,Hr);const Br={rect:"rect",circle:"circle"};class _r extends $t{constructor(){super(...arguments),this.shape=Br.rect}}function jr(){return Pe`<template aria-disabled="${e=>e.disabled}"><div ${Ne("root")} part="root" class="root" style="${e=>e.positionStyle}"><div class="container">${ze((e=>!e.hideMark),Pe`<div class="mark"></div>`)}<div class="label"><slot></slot></div></div></div></template>`}_t([rt],_r.prototype,"fill",void 0),_t([rt],_r.prototype,"shape",void 0),_t([rt],_r.prototype,"pattern",void 0),_t([rt({mode:"boolean"})],_r.prototype,"shimmer",void 0);const qr=Yt,Ur={singleValue:"single-value"};function Kr(e,t,i,s){let n=Jt(0,1,(e-t)/(i-t));return s===Zt.rtl&&(n=1-n),n}const Wr={min:0,max:0,direction:Zt.ltr,orientation:qr.horizontal,disabled:!1};class Gr extends $t{constructor(){super(...arguments),this.hideMark=!1,this.orientation=qr.horizontal,this.sliderDirection=Zt.ltr,this.getSliderConfiguration=()=>{if(this.isSliderConfig(this.parentNode)){const e=this.parentNode,{min:t,max:i,direction:s,orientation:n,disabled:o}=e;void 0!==o&&(this.disabled=o),this.sliderDirection=s||Zt.ltr,this.orientation=n||qr.horizontal,this.sliderMaxPosition=i,this.sliderMinPosition=t}else this.sliderDirection=Wr.direction||Zt.ltr,this.orientation=Wr.orientation||qr.horizontal,this.sliderMaxPosition=Wr.max,this.sliderMinPosition=Wr.min},this.positionAsStyle=()=>{const e=this.sliderDirection?this.sliderDirection:Zt.ltr,t=Kr(Number(this.position),Number(this.sliderMinPosition),Number(this.sliderMaxPosition));let i=Math.round(100*(1-t)),s=Math.round(100*t);return Number.isNaN(s)&&Number.isNaN(i)&&(i=50,s=50),this.orientation===qr.horizontal?e===Zt.rtl?`right: ${s}%; left: ${i}%;`:`left: ${s}%; right: ${i}%;`:`top: ${i}%; bottom: ${s}%;`}}positionChanged(){this.positionStyle=this.positionAsStyle()}orientationChanged(){}connectedCallback(){super.connectedCallback(),this.getSliderConfiguration(),this.positionStyle=this.positionAsStyle(),this.notifier=w.getNotifier(this.parentNode),this.notifier.subscribe(this,"orientation"),this.notifier.subscribe(this,"direction"),this.notifier.subscribe(this,"max"),this.notifier.subscribe(this,"min")}disconnectedCallback(){super.disconnectedCallback(),this.notifier.unsubscribe(this,"orientation"),this.notifier.unsubscribe(this,"direction"),this.notifier.unsubscribe(this,"max"),this.notifier.unsubscribe(this,"min")}handleChange(e,t){switch(t){case"direction":this.sliderDirection=e.direction;break;case"orientation":this.orientation=e.orientation;break;case"max":this.sliderMaxPosition=e.max;break;case"min":this.sliderMinPosition=e.min}this.positionStyle=this.positionAsStyle()}isSliderConfig(e){return void 0!==e.max&&void 0!==e.min}}_t([C],Gr.prototype,"positionStyle",void 0),_t([rt],Gr.prototype,"position",void 0),_t([rt({attribute:"hide-mark",mode:"boolean"})],Gr.prototype,"hideMark",void 0),_t([rt({attribute:"disabled",mode:"boolean"})],Gr.prototype,"disabled",void 0),_t([rt],Gr.prototype,"orientation",void 0),_t([C],Gr.prototype,"sliderMinPosition",void 0),_t([C],Gr.prototype,"sliderMaxPosition",void 0),_t([C],Gr.prototype,"sliderDirection",void 0);class Yr extends $t{}class Xr extends(Hi(Yr)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class Qr extends Xr{constructor(){super(...arguments),this.direction=Zt.ltr,this.isDragging=!1,this.trackWidth=0,this.trackMinWidth=0,this.trackHeight=0,this.trackLeft=0,this.trackMinHeight=0,this.valueTextFormatter=()=>null,this.min=0,this.max=10,this.orientation=Yt.horizontal,this.mode=Ur.singleValue,this.keypressHandler=e=>{if(!this.readOnly&&!this.disabled)if("Home"===e.key)e.preventDefault(),this.direction!==Zt.rtl&&this.orientation!==Yt.vertical?this.value=`${this.min}`:this.value=`${this.max}`;else if("End"===e.key)e.preventDefault(),this.direction!==Zt.rtl&&this.orientation!==Yt.vertical?this.value=`${this.max}`:this.value=`${this.min}`;else if(!e.shiftKey)switch(e.key){case"ArrowRight":case"ArrowUp":e.preventDefault(),this.increment();break;case"ArrowLeft":case"ArrowDown":e.preventDefault(),this.decrement()}},this.setupTrackConstraints=()=>{const e=this.track.getBoundingClientRect();this.trackWidth=this.track.clientWidth,this.trackMinWidth=this.track.clientLeft,this.trackHeight=e.top,this.trackMinHeight=e.bottom,this.trackLeft=this.getBoundingClientRect().left,0===this.trackWidth&&(this.trackWidth=1)},this.setupListeners=(e=!1)=>{const t=(e?"remove":"add")+"EventListener";this[t]("keydown",this.keypressHandler),this[t]("mousedown",this.handleMouseDown),this.thumb[t]("mousedown",this.handleThumbMouseDown,{passive:!0}),this.thumb[t]("touchstart",this.handleThumbMouseDown,{passive:!0}),e&&(this.handleMouseDown(null),this.handleThumbMouseDown(null))},this.initialValue="",this.handleThumbMouseDown=e=>{const t=(null!==e?"add":"remove")+"EventListener";window[t]("mouseup",this.handleWindowMouseUp),window[t]("mousemove",this.handleMouseMove,{passive:!0}),window[t]("touchmove",this.handleMouseMove,{passive:!0}),window[t]("touchend",this.handleWindowMouseUp),this.isDragging=null!==e},this.handleMouseMove=e=>{if(this.readOnly||this.disabled||e.defaultPrevented)return;const t=window.TouchEvent&&e instanceof TouchEvent?e.touches[0]:e,i=this.orientation===Yt.horizontal?t.pageX-document.documentElement.scrollLeft-this.trackLeft:t.pageY-document.documentElement.scrollTop;this.value=`${this.calculateNewValue(i)}`},this.handleWindowMouseUp=e=>{this.stopDragging()},this.stopDragging=()=>{this.isDragging=!1,this.handleMouseDown(null),this.handleThumbMouseDown(null)},this.handleMouseDown=e=>{const t=(null!==e?"add":"remove")+"EventListener";if((null===e||!this.disabled&&!this.readOnly)&&(window[t]("mouseup",this.handleWindowMouseUp),window.document[t]("mouseleave",this.handleWindowMouseUp),window[t]("mousemove",this.handleMouseMove),e)){this.setupTrackConstraints();const t=this.orientation===Yt.horizontal?e.pageX-document.documentElement.scrollLeft-this.trackLeft:e.pageY-document.documentElement.scrollTop;this.value=`${this.calculateNewValue(t)}`}}}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}get valueAsNumber(){return parseFloat(super.value)}set valueAsNumber(e){this.value=e.toString()}valueChanged(e,t){if(this.$fastController.isConnected){const i=parseFloat(t),s=Jt(this.min,this.max,this.convertToConstrainedValue(i)).toString();if(s!==t)return void(this.value=s);super.valueChanged(e,t),this.setThumbPositionForOrientation(this.direction),this.$emit("change")}}minChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.min=`${this.min}`),this.validate()}maxChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.max=`${this.max}`),this.validate()}stepChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.step=`${this.step}`),this.updateStepMultiplier(),this.validate()}orientationChanged(){this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","range"),this.direction=yi(this),this.updateStepMultiplier(),this.setupTrackConstraints(),this.setupListeners(),this.setupDefaultValue(),this.setThumbPositionForOrientation(this.direction)}disconnectedCallback(){this.setupListeners(!0)}increment(){const e=(this.direction!==Zt.rtl&&this.orientation,Number(this.value)+Number(this.stepValue)),t=this.convertToConstrainedValue(e),i=t<Number(this.max)?`${t}`:`${this.max}`;this.value=i}decrement(){const e=(this.direction!==Zt.rtl&&this.orientation,Number(this.value)-Number(this.stepValue)),t=this.convertToConstrainedValue(e),i=t>Number(this.min)?`${t}`:`${this.min}`;this.value=i}get stepValue(){return void 0===this.step?1:this.step}setThumbPositionForOrientation(e){const t=100*(1-Kr(Number(this.value),Number(this.min),Number(this.max),e));this.orientation===Yt.horizontal?this.position=this.isDragging?`right: ${t}%; transition: none;`:`right: ${t}%; transition: all 0.2s ease;`:this.position=this.isDragging?`top: ${t}%; transition: none;`:`top: ${t}%; transition: all 0.2s ease;`}updateStepMultiplier(){const e=this.stepValue+"",t=this.stepValue%1?e.length-e.indexOf(".")-1:0;this.stepMultiplier=Math.pow(10,t)}get midpoint(){return`${this.convertToConstrainedValue((this.max+this.min)/2)}`}setupDefaultValue(){if("string"==typeof this.value)if(0===this.value.length)this.initialValue=this.midpoint;else{const e=parseFloat(this.value);!Number.isNaN(e)&&(e<this.min||e>this.max)&&(this.value=this.midpoint)}}calculateNewValue(e){this.setupTrackConstraints();const t=Kr(e,this.orientation===Yt.horizontal?this.trackMinWidth:this.trackMinHeight,this.orientation===Yt.horizontal?this.trackWidth:this.trackHeight,this.direction),i=(this.max-this.min)*t+this.min;return this.convertToConstrainedValue(i)}convertToConstrainedValue(e){isNaN(e)&&(e=this.min);let t=e-this.min;const i=t-Math.round(t/this.stepValue)*(this.stepMultiplier*this.stepValue)/this.stepMultiplier;return t=i>=Number(this.stepValue)/2?t-i+Number(this.stepValue):t-i,t+this.min}}function Zr(e={}){return Pe`<template role="slider" tabindex="${e=>e.disabled?null:0}" aria-valuetext="${e=>e.valueTextFormatter(e.value)}" aria-valuenow="${e=>e.value}" aria-valuemin="${e=>e.min}" aria-valuemax="${e=>e.max}" aria-disabled="${e=>!!e.disabled||void 0}" aria-readonly="${e=>!!e.readOnly||void 0}" aria-orientation="${e=>e.orientation}" class="${e=>e.orientation}"><div part="positioning-region" class="positioning-region"><div ${Ne("track")} part="track-container" class="track"><slot name="track"></slot><div part="track-start" class="track-start" style="${e=>e.position}"><slot name="track-start"></slot></div></div><slot></slot><div ${Ne("thumb")} part="thumb-container" class="thumb-container" style="${e=>e.position}"><slot name="thumb">${zt(e.thumb)}</slot></div></div></template>`}function Jr(e={}){return Pe`<template role="switch" aria-checked="${e=>e.checked}" aria-disabled="${e=>e.disabled}" aria-readonly="${e=>e.readOnly}" tabindex="${e=>e.disabled?null:0}" @keypress="${(e,t)=>e.keypressHandler(t.event)}" @click="${(e,t)=>e.clickHandler(t.event)}"><label part="label" class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"><slot ${Qe("defaultSlottedNodes")}></slot></label><div part="switch" class="switch"><slot name="switch">${zt(e.switch)}</slot></div></template>`}_t([rt({attribute:"readonly",mode:"boolean"})],Qr.prototype,"readOnly",void 0),_t([C],Qr.prototype,"direction",void 0),_t([C],Qr.prototype,"isDragging",void 0),_t([C],Qr.prototype,"position",void 0),_t([C],Qr.prototype,"trackWidth",void 0),_t([C],Qr.prototype,"trackMinWidth",void 0),_t([C],Qr.prototype,"trackHeight",void 0),_t([C],Qr.prototype,"trackLeft",void 0),_t([C],Qr.prototype,"trackMinHeight",void 0),_t([C],Qr.prototype,"valueTextFormatter",void 0),_t([rt({converter:nt})],Qr.prototype,"min",void 0),_t([rt({converter:nt})],Qr.prototype,"max",void 0),_t([rt({converter:nt})],Qr.prototype,"step",void 0),_t([rt],Qr.prototype,"orientation",void 0),_t([rt],Qr.prototype,"mode",void 0);class ea extends $t{}class ta extends(Ni(ea)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class ia extends ta{constructor(){super(),this.initialValue="on",this.keypressHandler=e=>{if(!this.readOnly)switch(e.key){case"Enter":case" ":this.checked=!this.checked}},this.clickHandler=e=>{this.disabled||this.readOnly||(this.checked=!this.checked)},this.proxy.setAttribute("type","checkbox")}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}}function sa(){return Pe`<template slot="tabpanel" role="tabpanel"><slot></slot></template>`}_t([rt({attribute:"readonly",mode:"boolean"})],ia.prototype,"readOnly",void 0),_t([C],ia.prototype,"defaultSlottedNodes",void 0);class na extends $t{}function oa(e={}){return Pe`<template slot="tab" role="tab" aria-disabled="${e=>e.disabled}">${Wt(e)}<slot></slot>${Kt(e)}</template>`}class ra extends $t{}_t([rt({mode:"boolean"})],ra.prototype,"disabled",void 0),si(ra,Ut);const aa=Yt;function la(e={}){return Pe` ${Wt(e)}<div class="tablist" part="tablist" role="tablist"><slot name="tab" ${Qe("tabs")}></slot></div>${Kt(e)}<div class="tabpanel" part="tabpanel"><slot name="tabpanel" ${Qe("tabpanels")}></slot></div>`}class da extends $t{constructor(){super(...arguments),this.orientation=aa.horizontal,this.prevActiveTabIndex=0,this.activeTabIndex=0,this.change=()=>{this.$emit("change",this.activetab)},this.isDisabledElement=e=>"true"===e.getAttribute("aria-disabled"),this.isFocusableElement=e=>!this.isDisabledElement(e),this.setTabs=()=>{const e="gridColumn",t="gridRow",i=this.isHorizontal()?e:t;this.activeTabIndex=this.getActiveIndex(),this.tabs.forEach(((e,t)=>{if("tab"===e.slot){const i=this.activeTabIndex===t&&this.isFocusableElement(e),s=this.tabIds[t],n=this.tabpanelIds[t];e.setAttribute("id",s),e.setAttribute("aria-selected",i?"true":"false"),e.setAttribute("aria-controls",n),e.addEventListener("click",this.handleTabClick),e.addEventListener("keydown",this.handleTabKeyDown),e.setAttribute("tabindex",i?"0":"-1"),i&&(this.activetab=e)}e.style.gridColumn="",e.style.gridRow="",e.style[i]=`${t+1}`,this.isHorizontal()?e.classList.remove("vertical"):e.classList.add("vertical")}))},this.setTabPanels=()=>{this.tabpanels.forEach(((e,t)=>{const i=this.tabIds[t],s=this.tabpanelIds[t];e.setAttribute("id",s),e.setAttribute("aria-labelledby",i),this.activeTabIndex!==t?e.setAttribute("hidden",""):e.removeAttribute("hidden")}))},this.handleTabClick=e=>{const t=e.currentTarget;1===t.nodeType&&this.isFocusableElement(t)&&(this.prevActiveTabIndex=this.activeTabIndex,this.activeTabIndex=this.tabs.indexOf(t),this.setComponent())},this.handleTabKeyDown=e=>{if(this.isHorizontal())switch(e.key){case"ArrowLeft":e.preventDefault(),this.adjustBackward(e);break;case"ArrowRight":e.preventDefault(),this.adjustForward(e)}else switch(e.key){case"ArrowUp":e.preventDefault(),this.adjustBackward(e);break;case"ArrowDown":e.preventDefault(),this.adjustForward(e)}switch(e.key){case"Home":e.preventDefault(),this.adjust(-this.activeTabIndex);break;case"End":e.preventDefault(),this.adjust(this.tabs.length-this.activeTabIndex-1)}},this.adjustForward=e=>{const t=this.tabs;let i=0;for(i=this.activetab?t.indexOf(this.activetab)+1:1,i===t.length&&(i=0);i<t.length&&t.length>1;){if(this.isFocusableElement(t[i])){this.moveToTabByIndex(t,i);break}if(this.activetab&&i===t.indexOf(this.activetab))break;i+1>=t.length?i=0:i+=1}},this.adjustBackward=e=>{const t=this.tabs;let i=0;for(i=this.activetab?t.indexOf(this.activetab)-1:0,i=i<0?t.length-1:i;i>=0&&t.length>1;){if(this.isFocusableElement(t[i])){this.moveToTabByIndex(t,i);break}i-1<0?i=t.length-1:i-=1}},this.moveToTabByIndex=(e,t)=>{const i=e[t];this.activetab=i,this.prevActiveTabIndex=this.activeTabIndex,this.activeTabIndex=t,i.focus(),this.setComponent()}}orientationChanged(){this.$fastController.isConnected&&(this.setTabs(),this.setTabPanels())}activeidChanged(e,t){this.$fastController.isConnected&&this.tabs.length<=this.tabpanels.length&&(this.prevActiveTabIndex=this.tabs.findIndex((t=>t.id===e)),this.setTabs(),this.setTabPanels())}tabsChanged(){this.$fastController.isConnected&&this.tabs.length<=this.tabpanels.length&&(this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.setTabs(),this.setTabPanels())}tabpanelsChanged(){this.$fastController.isConnected&&this.tabpanels.length<=this.tabs.length&&(this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.setTabs(),this.setTabPanels())}getActiveIndex(){return void 0!==this.activeid?-1===this.tabIds.indexOf(this.activeid)?0:this.tabIds.indexOf(this.activeid):0}getTabIds(){return this.tabs.map((e=>{var t;return null!==(t=e.getAttribute("id"))&&void 0!==t?t:`tab-${ii()}`}))}getTabPanelIds(){return this.tabpanels.map((e=>{var t;return null!==(t=e.getAttribute("id"))&&void 0!==t?t:`panel-${ii()}`}))}setComponent(){this.activeTabIndex!==this.prevActiveTabIndex&&(this.activeid=this.tabIds[this.activeTabIndex],this.focusTab(),this.change())}isHorizontal(){return this.orientation===aa.horizontal}adjust(e){const t=this.tabs.filter((e=>!this.isDisabledElement(e))),i=t.indexOf(this.activetab),s=Jt(0,t.length-1,i+e),n=this.tabs.indexOf(t[s]);n>-1&&this.moveToTabByIndex(this.tabs,n)}focusTab(){this.tabs[this.activeTabIndex].focus()}connectedCallback(){super.connectedCallback(),this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.activeTabIndex=this.getActiveIndex()}}function ha(){return Pe`<label part="label" for="control" class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"><slot ${Qe("defaultSlottedNodes")}></slot></label><textarea part="control" class="control" id="control" ?autofocus="${e=>e.autofocus}" cols="${e=>e.cols}" ?disabled="${e=>e.disabled}" form="${e=>e.form}" list="${e=>e.list}" maxlength="${e=>e.maxlength}" minlength="${e=>e.minlength}" name="${e=>e.name}" placeholder="${e=>e.placeholder}" ?readonly="${e=>e.readOnly}" ?required="${e=>e.required}" rows="${e=>e.rows}" ?spellcheck="${e=>e.spellcheck}" :value="${e=>e.value}" aria-atomic="${e=>e.ariaAtomic}" aria-busy="${e=>e.ariaBusy}" aria-controls="${e=>e.ariaControls}" aria-current="${e=>e.ariaCurrent}" aria-describedby="${e=>e.ariaDescribedby}" aria-details="${e=>e.ariaDetails}" aria-disabled="${e=>e.ariaDisabled}" aria-errormessage="${e=>e.ariaErrormessage}" aria-flowto="${e=>e.ariaFlowto}" aria-haspopup="${e=>e.ariaHaspopup}" aria-hidden="${e=>e.ariaHidden}" aria-invalid="${e=>e.ariaInvalid}" aria-keyshortcuts="${e=>e.ariaKeyshortcuts}" aria-label="${e=>e.ariaLabel}" aria-labelledby="${e=>e.ariaLabelledby}" aria-live="${e=>e.ariaLive}" aria-owns="${e=>e.ariaOwns}" aria-relevant="${e=>e.ariaRelevant}" aria-roledescription="${e=>e.ariaRoledescription}" @input="${(e,t)=>e.handleTextInput()}" @change="${e=>e.handleChange()}" ${Ne("control")}></textarea>`}_t([rt],da.prototype,"orientation",void 0),_t([rt],da.prototype,"activeid",void 0),_t([C],da.prototype,"tabs",void 0),_t([C],da.prototype,"tabpanels",void 0),si(da,Ut);class ca extends $t{}class ua extends(Hi(ca)){constructor(){super(...arguments),this.proxy=document.createElement("textarea")}}const pa={none:"none",both:"both",horizontal:"horizontal",vertical:"vertical"};class ma extends ua{constructor(){super(...arguments),this.resize=pa.none,this.cols=20,this.handleTextInput=()=>{this.value=this.control.value}}readOnlyChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.readOnly=this.readOnly)}autofocusChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.autofocus=this.autofocus)}listChanged(){this.proxy instanceof HTMLTextAreaElement&&this.proxy.setAttribute("list",this.list)}maxlengthChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.maxLength=this.maxlength)}minlengthChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.minLength=this.minlength)}spellcheckChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.spellcheck=this.spellcheck)}select(){this.control.select(),this.$emit("select")}handleChange(){this.$emit("change")}validate(){super.validate(this.control)}}function fa(e={}){return Pe`<label part="label" for="control" class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"><slot ${Qe({property:"defaultSlottedNodes",filter:xr})}></slot></label><div class="root" part="root">${Wt(e)}<input class="control" part="control" id="control" @input="${e=>e.handleTextInput()}" @change="${e=>e.handleChange()}" ?autofocus="${e=>e.autofocus}" ?disabled="${e=>e.disabled}" list="${e=>e.list}" maxlength="${e=>e.maxlength}" name="${e=>e.name}" minlength="${e=>e.minlength}" pattern="${e=>e.pattern}" placeholder="${e=>e.placeholder}" ?readonly="${e=>e.readOnly}" ?required="${e=>e.required}" size="${e=>e.size}" ?spellcheck="${e=>e.spellcheck}" :value="${e=>e.value}" type="${e=>e.type}" aria-atomic="${e=>e.ariaAtomic}" aria-busy="${e=>e.ariaBusy}" aria-controls="${e=>e.ariaControls}" aria-current="${e=>e.ariaCurrent}" aria-describedby="${e=>e.ariaDescribedby}" aria-details="${e=>e.ariaDetails}" aria-disabled="${e=>e.ariaDisabled}" aria-errormessage="${e=>e.ariaErrormessage}" aria-flowto="${e=>e.ariaFlowto}" aria-haspopup="${e=>e.ariaHaspopup}" aria-hidden="${e=>e.ariaHidden}" aria-invalid="${e=>e.ariaInvalid}" aria-keyshortcuts="${e=>e.ariaKeyshortcuts}" aria-label="${e=>e.ariaLabel}" aria-labelledby="${e=>e.ariaLabelledby}" aria-live="${e=>e.ariaLive}" aria-owns="${e=>e.ariaOwns}" aria-relevant="${e=>e.ariaRelevant}" aria-roledescription="${e=>e.ariaRoledescription}" ${Ne("control")} />${Kt(e)}</div>`}_t([rt({mode:"boolean"})],ma.prototype,"readOnly",void 0),_t([rt],ma.prototype,"resize",void 0),_t([rt({mode:"boolean"})],ma.prototype,"autofocus",void 0),_t([rt({attribute:"form"})],ma.prototype,"formId",void 0),_t([rt],ma.prototype,"list",void 0),_t([rt({converter:nt})],ma.prototype,"maxlength",void 0),_t([rt({converter:nt})],ma.prototype,"minlength",void 0),_t([rt],ma.prototype,"name",void 0),_t([rt],ma.prototype,"placeholder",void 0),_t([rt({converter:nt,mode:"fromView"})],ma.prototype,"cols",void 0),_t([rt({converter:nt,mode:"fromView"})],ma.prototype,"rows",void 0),_t([rt({mode:"boolean"})],ma.prototype,"spellcheck",void 0),_t([C],ma.prototype,"defaultSlottedNodes",void 0),si(ma,dr);const va=Yt;function ga(e={}){return Pe`<template aria-label="${e=>e.ariaLabel}" aria-labelledby="${e=>e.ariaLabelledby}" aria-orientation="${e=>e.orientation}" orientation="${e=>e.orientation}" role="toolbar" @click="${(e,t)=>e.clickHandler(t.event)}" @focusin="${(e,t)=>e.focusinHandler(t.event)}" @keydown="${(e,t)=>e.keydownHandler(t.event)}" ${Je({property:"childItems",attributeFilter:["disabled","hidden"],selector:"*",subtree:!0})}><slot name="label"></slot><div class="positioning-region" part="positioning-region">${Wt(e)}<slot ${Qe({filter:Ge(),property:"slottedItems"})}></slot>${Kt(e)}</div></template>`}const ba=Object.freeze({[Qt.ArrowUp]:{[va.vertical]:-1},[Qt.ArrowDown]:{[va.vertical]:1},[Qt.ArrowLeft]:{[va.horizontal]:{[Zt.ltr]:-1,[Zt.rtl]:1}},[Qt.ArrowRight]:{[va.horizontal]:{[Zt.ltr]:1,[Zt.rtl]:-1}}});class ya extends $t{constructor(){super(...arguments),this._activeIndex=0,this.direction=Zt.ltr,this.orientation=va.horizontal}get activeIndex(){return w.track(this,"activeIndex"),this._activeIndex}set activeIndex(e){this.$fastController.isConnected&&(this._activeIndex=Jt(0,this.focusableElements.length-1,e),w.notify(this,"activeIndex"))}slottedItemsChanged(){this.$fastController.isConnected&&this.reduceFocusableElements()}clickHandler(e){var t;const i=null===(t=this.focusableElements)||void 0===t?void 0:t.indexOf(e.target);return i>-1&&this.activeIndex!==i&&this.setFocusedElement(i),!0}childItemsChanged(e,t){this.$fastController.isConnected&&this.reduceFocusableElements()}connectedCallback(){super.connectedCallback(),this.direction=yi(this)}focusinHandler(e){const t=e.relatedTarget;t&&!this.contains(t)&&this.setFocusedElement()}getDirectionalIncrementer(e){var t,i,s,n,o;return null!==(o=null!==(s=null===(i=null===(t=ba[e])||void 0===t?void 0:t[this.orientation])||void 0===i?void 0:i[this.direction])&&void 0!==s?s:null===(n=ba[e])||void 0===n?void 0:n[this.orientation])&&void 0!==o?o:0}keydownHandler(e){const t=e.key;if(!(t in Qt)||e.defaultPrevented||e.shiftKey)return!0;const i=this.getDirectionalIncrementer(t);if(!i)return!e.target.closest("[role=radiogroup]");const s=this.activeIndex+i;return this.focusableElements[s]&&e.preventDefault(),this.setFocusedElement(s),!0}get allSlottedItems(){return[...this.start.assignedElements(),...this.slottedItems,...this.end.assignedElements()]}reduceFocusableElements(){var e;const t=null===(e=this.focusableElements)||void 0===e?void 0:e[this.activeIndex];this.focusableElements=this.allSlottedItems.reduce(ya.reduceFocusableItems,[]);const i=this.focusableElements.indexOf(t);this.activeIndex=Math.max(0,i),this.setFocusableElements()}setFocusedElement(e=this.activeIndex){var t;this.activeIndex=e,this.setFocusableElements(),null===(t=this.focusableElements[this.activeIndex])||void 0===t||t.focus()}static reduceFocusableItems(e,t){var i,s,n,o;const r="radio"===t.getAttribute("role"),a=null===(s=null===(i=t.$fastController)||void 0===i?void 0:i.definition.shadowOptions)||void 0===s?void 0:s.delegatesFocus,l=Array.from(null!==(o=null===(n=t.shadowRoot)||void 0===n?void 0:n.querySelectorAll("*"))&&void 0!==o?o:[]).some((e=>bo(e)));return t.hasAttribute("disabled")||t.hasAttribute("hidden")||!(bo(t)||r||a||l)?t.childElementCount?e.concat(Array.from(t.children).reduce(ya.reduceFocusableItems,[])):e:(e.push(t),e)}setFocusableElements(){this.$fastController.isConnected&&this.focusableElements.length>0&&this.focusableElements.forEach(((e,t)=>{e.tabIndex=this.activeIndex===t?0:-1}))}}_t([C],ya.prototype,"direction",void 0),_t([rt],ya.prototype,"orientation",void 0),_t([C],ya.prototype,"slottedItems",void 0),_t([C],ya.prototype,"slottedLabel",void 0),_t([C],ya.prototype,"childItems",void 0);class xa{}_t([rt({attribute:"aria-labelledby"})],xa.prototype,"ariaLabelledby",void 0),_t([rt({attribute:"aria-label"})],xa.prototype,"ariaLabel",void 0),si(xa,qt),si(ya,Ut,xa);const wa={bottom:"bottom",bottomEnd:"bottom-end",bottomStart:"bottom-start",left:"left",leftEnd:"left-end",leftStart:"left-start",right:"right",rightEnd:"right-end",rightStart:"right-start",top:"top",topEnd:"top-end",topStart:"top-start"};class Ca extends $t{constructor(){super(...arguments),this._visible=!1,this.controlledVisibility=!1,this.focusoutAnchorHandler=()=>{!this.controlledVisibility&&this._visible&&this.hideTooltip()},this.focusinAnchorHandler=()=>{this.controlledVisibility||this._visible||this.showTooltip()},this.keydownDocumentHandler=e=>{if(!e.defaultPrevented&&this.visible&&"Escape"===e.key)this.dismiss()},this.mouseoverAnchorHandler=()=>{var e;(null===(e=document.activeElement)||void 0===e?void 0:e.isSameNode(this.anchorElement))||this.showTooltip()},this.mouseoutAnchorHandler=e=>{var t;(null===(t=document.activeElement)||void 0===t?void 0:t.isSameNode(this.anchorElement))||this.isSameNode(e.relatedTarget)||this.hideTooltip()},this.placement=wa.bottom}anchorChanged(e,t){this.$fastController.isConnected&&(this.removeListeners(),this.removeAnchorAriaDescribedBy(this.id),this.anchorElement=this.getAnchorElement(t),this.addAnchorAriaDescribedBy(),this.controlledVisibility||this.addListeners())}controlledVisibilityChanged(e,t){if(!t)return this.addListeners(),void this.hideTooltip();this.removeListeners()}idChanged(e,t){this.removeAnchorAriaDescribedBy(e),g.enqueue((()=>{this.addAnchorAriaDescribedBy()}))}positionStylesChanged(e,t){this.$fastController.removeStyles(e),this.$fastController.addStyles(t)}showChanged(e,t){this.visible=t}get visible(){return this._visible}set visible(e){this.controlledVisibility="boolean"==typeof e,this.controlledVisibility&&(this.show=e),e?this.showTooltip():this.hideTooltip()}addAnchorAriaDescribedBy(){var e;if(!this.id)return void(this.id=ii("tooltip-"));if(!this.anchorElement)return;const t=null===(e=this.anchorElement.getAttribute("aria-describedby"))||void 0===e?void 0:e.concat(" ",this.id).trim();t&&this.anchorElement.setAttribute("aria-describedby",t)}addListeners(){this.anchorElement&&(this.anchorElement.addEventListener("focusin",this.focusinAnchorHandler),this.anchorElement.addEventListener("focusout",this.focusoutAnchorHandler),this.anchorElement.addEventListener("mouseout",this.mouseoutAnchorHandler),this.anchorElement.addEventListener("mouseover",this.mouseoverAnchorHandler),this.addEventListener("mouseout",this.mouseoutAnchorHandler),this.addEventListener("mouseover",this.mouseoverAnchorHandler),document.addEventListener("keydown",this.keydownDocumentHandler))}connectedCallback(){super.connectedCallback(),this.anchorChanged(void 0,this.anchor)}dismiss(){this.hideTooltip(),this.$emit("dismiss")}hideTooltip(){var e;this._visible=!1,null===(e=this.cleanup)||void 0===e||e.call(this)}getAnchorElement(e=""){const t=this.getRootNode();return t instanceof ShadowRoot?t.getElementById(e):document.getElementById(e)}removeAnchorAriaDescribedBy(e){var t;if(this.anchorElement){const i=null===(t=this.anchorElement.getAttribute("aria-describedby"))||void 0===t?void 0:t.split(" ");this.anchorElement.setAttribute("aria-describedby",(null!=i?i:[]).filter((t=>t!==e)).join(" ")),""===this.anchorElement.getAttribute("aria-describedby")&&this.anchorElement.removeAttribute("aria-describedby")}}removeListeners(){this.anchorElement&&(this.anchorElement.removeEventListener("focusin",this.focusinAnchorHandler),this.anchorElement.removeEventListener("focusout",this.focusoutAnchorHandler),this.anchorElement.removeEventListener("mouseout",this.mouseoutAnchorHandler),this.anchorElement.removeEventListener("mouseover",this.mouseoverAnchorHandler),this.removeEventListener("mouseout",this.mouseoutAnchorHandler),this.removeEventListener("mouseover",this.mouseoverAnchorHandler),document.removeEventListener("keydown",this.keydownDocumentHandler))}setPositioning(){var e;if(null===(e=this.cleanup)||void 0===e||e.call(this),!this.anchorElement)return void this.hideTooltip();const t=this.anchorElement;this.cleanup=dn(t,this,(()=>jt(this,void 0,void 0,(function*(){const e=[As()];this.placement||e.unshift(Es());const{x:i,y:s}=yield hn(t,this,{placement:this.placement,strategy:"fixed",middleware:e});this.positionStyles=ne`
                :host{position:fixed;left:${i.toString()}px;top:${s.toString()}px}`}))))}showTooltip(){this._visible=!0,g.enqueue((()=>this.setPositioning()))}}function $a(){return Pe`<template role="tooltip" ?visible="${e=>e.visible}"><slot></slot></template>`}function ka(e={}){return Pe`<template role="treeitem" slot="${e=>e.isNestedItem()?"item":void 0}" tabindex="-1" aria-expanded="${e=>e.childItems&&e.childItemLength>0?e.expanded:void 0}" aria-selected="${e=>e.selected}" aria-disabled="${e=>e.disabled}" @focusin="${(e,t)=>e.handleFocus(t.event)}" @focusout="${(e,t)=>e.handleBlur(t.event)}" ${Je({property:"childItems",filter:Ge()})}><div class="positioning-region" part="positioning-region"><div class="content-region" part="content-region">${ze((e=>e.childItems&&e.childItemLength>0),Pe`<div aria-hidden="true" class="expand-collapse-button" part="expand-collapse-button" @click="${(e,t)=>e.handleExpandCollapseButtonClick(t.event)}" ${Ne("expandCollapseButton")}><slot name="expand-collapse-glyph">${zt(e.expandCollapseGlyph)}</slot></div>`)} ${Wt(e)}<slot></slot>${Kt(e)}</div></div>${ze((e=>e.childItems&&e.childItemLength>0&&e.expanded),Pe`<div role="group" class="items" part="items"><slot name="item" ${Qe("items")}></slot></div>`)}</template>`}function Ia(e){return Xt(e)&&e.isTreeItem}_t([C],Ca.prototype,"_visible",void 0),_t([rt({attribute:"anchor"})],Ca.prototype,"anchor",void 0),_t([C],Ca.prototype,"controlledVisibility",void 0),_t([rt],Ca.prototype,"id",void 0),_t([rt],Ca.prototype,"placement",void 0),_t([C],Ca.prototype,"positionStyles",void 0),_t([rt({attribute:"show",converter:it,mode:"fromView"})],Ca.prototype,"show",void 0);class Ea extends $t{constructor(){super(...arguments),this.expanded=!1,this.isTreeItem=!0,this.focusable=!1,this.nested=!1,this.isNestedItem=()=>Ia(this.parentElement),this.handleExpandCollapseButtonClick=e=>{this.disabled||e.defaultPrevented||(this.expanded=!this.expanded)},this.handleFocus=e=>{this.setAttribute("tabindex","0")},this.handleBlur=e=>{this.setAttribute("tabindex","-1")}}expandedChanged(e,t){this.$fastController.isConnected&&this.$emit("expanded-change",this)}selectedChanged(e,t){this.$fastController.isConnected&&this.$emit("selected-change",this)}itemsChanged(e,t){this.$fastController.isConnected&&this.items.forEach((e=>{Ia(e)&&(e.nested=!0)}))}static focusItem(e){e.focusable=!0,e.focus()}get childItemLength(){var e;return this.$fastController.isConnected?null===(e=this.childItems)||void 0===e?void 0:e.filter((e=>Ia(e))).length:0}}function Ta(){return Pe`<template role="tree" ${Ne("treeView")} @keydown="${(e,t)=>e.handleKeyDown(t.event)}" @focusin="${(e,t)=>e.handleFocus(t.event)}" @focusout="${(e,t)=>e.handleBlur(t.event)}" @click="${(e,t)=>e.handleClick(t.event)}" @selected-change="${(e,t)=>e.handleSelectedChange(t.event)}"><slot ${Qe("slottedTreeItems")}></slot></template>`}_t([rt({mode:"boolean"})],Ea.prototype,"expanded",void 0),_t([rt({mode:"boolean"})],Ea.prototype,"selected",void 0),_t([rt({mode:"boolean"})],Ea.prototype,"disabled",void 0),_t([C],Ea.prototype,"focusable",void 0),_t([C],Ea.prototype,"childItems",void 0),_t([C],Ea.prototype,"items",void 0),_t([rt({mode:"boolean"})],Ea.prototype,"nested",void 0),si(Ea,Ut);class Sa extends $t{constructor(){super(...arguments),this.currentFocused=null,this.handleFocus=e=>{if(!(this.slottedTreeItems.length<1))return e.target===this?(null===this.currentFocused&&(this.currentFocused=this.getValidFocusableItem()),void(null!==this.currentFocused&&Ea.focusItem(this.currentFocused))):void(this.contains(e.target)&&(this.setAttribute("tabindex","-1"),this.currentFocused=e.target))},this.handleBlur=e=>{e.target instanceof HTMLElement&&(null===e.relatedTarget||!this.contains(e.relatedTarget))&&this.setAttribute("tabindex","0")},this.handleKeyDown=e=>{if(e.defaultPrevented)return;if(this.slottedTreeItems.length<1)return!0;const t=this.getVisibleNodes();switch(e.key){case"Home":return void(t.length&&Ea.focusItem(t[0]));case"End":return void(t.length&&Ea.focusItem(t[t.length-1]));case"ArrowLeft":if(e.target&&this.isFocusableElement(e.target)){const t=e.target;t instanceof Ea&&t.childItemLength>0&&t.expanded?t.expanded=!1:t instanceof Ea&&t.parentElement instanceof Ea&&Ea.focusItem(t.parentElement)}return!1;case"ArrowRight":if(e.target&&this.isFocusableElement(e.target)){const t=e.target;t instanceof Ea&&t.childItemLength>0&&!t.expanded?t.expanded=!0:t instanceof Ea&&t.childItemLength>0&&this.focusNextNode(1,e.target)}return;case"ArrowDown":return void(e.target&&this.isFocusableElement(e.target)&&this.focusNextNode(1,e.target));case"ArrowUp":return void(e.target&&this.isFocusableElement(e.target)&&this.focusNextNode(-1,e.target));case"Enter":return void this.handleClick(e)}return!0},this.handleSelectedChange=e=>{if(e.defaultPrevented)return;if(!(e.target instanceof Element&&Ia(e.target)))return!0;const t=e.target;t.selected?(this.currentSelected&&this.currentSelected!==t&&(this.currentSelected.selected=!1),this.currentSelected=t):t.selected||this.currentSelected!==t||(this.currentSelected=null)},this.setItems=()=>{const e=this.treeView.querySelector("[aria-selected='true']");this.currentSelected=e,null!==this.currentFocused&&this.contains(this.currentFocused)||(this.currentFocused=this.getValidFocusableItem()),this.nested=this.checkForNestedItems();this.getVisibleNodes().forEach((e=>{Ia(e)&&(e.nested=this.nested)}))},this.isFocusableElement=e=>Ia(e),this.isSelectedElement=e=>e.selected}slottedTreeItemsChanged(){this.$fastController.isConnected&&this.setItems()}connectedCallback(){super.connectedCallback(),this.setAttribute("tabindex","0"),g.enqueue((()=>{this.setItems()}))}handleClick(e){if(e.defaultPrevented)return;if(!(e.target instanceof Element&&Ia(e.target)))return!0;const t=e.target;t.disabled||(t.selected=!t.selected)}focusNextNode(e,t){const i=this.getVisibleNodes();if(!i)return;const s=i[i.indexOf(t)+e];Xt(s)&&Ea.focusItem(s)}getValidFocusableItem(){const e=this.getVisibleNodes();let t=e.findIndex(this.isSelectedElement);return-1===t&&(t=e.findIndex(this.isFocusableElement)),-1!==t?e[t]:null}checkForNestedItems(){return this.slottedTreeItems.some((e=>Ia(e)&&e.querySelector("[role='treeitem']")))}getVisibleNodes(){return function(e,t){if(!e||!t||!Xt(e))return;return Array.from(e.querySelectorAll(t)).filter((e=>null!==e.offsetParent))}(this,"[role='treeitem']")||[]}}_t([C],Sa.prototype,"currentSelected",void 0),_t([C],Sa.prototype,"slottedTreeItems",void 0);class Oa{constructor(e){this.listenerCache=new WeakMap,this.query=e}connectedCallback(e){const{query:t}=this;let i=this.listenerCache.get(e);i||(i=this.constructListener(e),this.listenerCache.set(e,i)),i.bind(t)(),t.addEventListener("change",i)}disconnectedCallback(e){const t=this.listenerCache.get(e);t&&this.query.removeEventListener("change",t)}}class Aa extends Oa{constructor(e,t){super(e),this.styles=t}static with(e){return t=>new Aa(e,t)}constructListener(e){let t=!1;const i=this.styles;return function(){const{matches:s}=this;s&&!t?(e.addStyles(i),t=s):!s&&t&&(e.removeStyles(i),t=s)}}removedCallback(e){e.removeStyles(this.styles)}}const Ra=Aa.with(window.matchMedia("(forced-colors)")),Da=Aa.with(window.matchMedia("(prefers-color-scheme: dark)")),La=Aa.with(window.matchMedia("(prefers-color-scheme: light)"));class Fa{constructor(e,t,i){this.propertyName=e,this.value=t,this.styles=i}addedCallback(e){w.getNotifier(e.source).subscribe(this,this.propertyName),this.handleChange(e.source,this.propertyName)}removedCallback(e){w.getNotifier(e.source).unsubscribe(this,this.propertyName),e.removeStyles(this.styles)}handleChange(e,t){const i=e.$fastController;e[t]===this.value?i.addStyles(this.styles):i.removeStyles(this.styles)}}const Ma="not-allowed",Va=":host([hidden]){display:none}";function Pa(e){return`${Va}:host{display:${e}}`}const Ha="focus-visible";v.setPolicy(Nt.create());export{qt as ARIAGlobalStatesAndProperties,oi as AccordionExpandMode,hi as AnchorTarget,Ei as AnchoredRegionPositionLabel,P as ArrayObserver,et as AttributeConfiguration,ot as AttributeDefinition,Ii as AutoUpdateMode,wi as AxisPositioningMode,Ci as AxisScalingMode,N as Binding,_i as ButtonType,J as CSSBindingDirective,to as CSSDesignToken,X as CSSDirective,Ni as CheckableFormAssociated,Ze as ChildrenDirective,bn as ComboboxAutocomplete,Re as Compiler,v as DOM,c as DOMAspect,En as DataGridCellTypes,Tn as DataGridRowTypes,An as DataGridSelectionBehavior,On as DataGridSelectionMode,Xi as DateFormatter,Ki as DayFormat,qi as DelegatesARIAButton,xn as DelegatesARIACombobox,di as DelegatesARIALink,fn as DelegatesARIAListbox,pn as DelegatesARIAListboxOption,Fr as DelegatesARIASearch,Hr as DelegatesARIASelect,dr as DelegatesARIATextbox,xa as DelegatesARIAToolbar,eo as DesignToken,Bn as DesignTokenEventResolutionStrategy,Hn as DesignTokenStyleTarget,To as DividerOrientation,Eo as DividerRole,vt as ElementController,G as ElementStyles,I as ExecutionContext,r as FAST,ri as FASTAccordion,ni as FASTAccordionItem,li as FASTAnchor,xi as FASTAnchoredRegion,Oi as FASTAvatar,Ri as FASTBadge,pr as FASTBaseProgress,Mi as FASTBreadcrumb,Li as FASTBreadcrumbItem,ji as FASTButton,Qi as FASTCalendar,rs as FASTCard,hs as FASTCheckbox,yn as FASTCombobox,Rn as FASTDataGrid,Pn as FASTDataGridCell,Ln as FASTDataGridRow,yo as FASTDialog,Io as FASTDisclosure,Oo as FASTDivider,$t as FASTElement,ct as FASTElementDefinition,Do as FASTFlipper,Sr as FASTHorizontalScroll,mn as FASTListbox,Fo as FASTListboxElement,un as FASTListboxOption,sr as FASTMenu,tr as FASTMenuItem,ur as FASTNumberField,Xo as FASTPicker,No as FASTPickerList,Po as FASTPickerListItem,qo as FASTPickerMenu,_o as FASTPickerMenuOption,vr as FASTProgress,mr as FASTProgressRing,kr as FASTRadio,Ir as FASTRadioGroup,Lr as FASTSearch,Pr as FASTSelect,_r as FASTSkeleton,Qr as FASTSlider,Gr as FASTSliderLabel,ia as FASTSwitch,ra as FASTTab,na as FASTTabPanel,da as FASTTabs,ma as FASTTextArea,lr as FASTTextField,ya as FASTToolbar,Ca as FASTTooltip,Ea as FASTTreeItem,Sa as FASTTreeView,Ro as FlipperDirection,mi as FlyoutPosBottom,gi as FlyoutPosBottomFill,fi as FlyoutPosTallest,bi as FlyoutPosTallestFill,pi as FlyoutPosTop,vi as FlyoutPosTopFill,Hi as FormAssociated,In as GenerateHeaderOptions,ye as HTMLBindingDirective,fe as HTMLDirective,we as HTMLView,$i as HorizontalPosition,Er as HorizontalScrollView,Fe as InlineTemplateDirective,ue as Markup,Oa as MatchMediaBehavior,Aa as MatchMediaStyleSheetBehavior,Zo as MenuItemRole,Go as MenuPlacement,Gi as MonthFormat,Ye as NodeObservationDirective,w as Observable,pe as Parser,y as PropertyChangeNotifier,Fa as PropertyStyleSheetBehavior,br as RadioGroupOrientation,He as RefDirective,qe as RepeatBehavior,Ue as RepeatDirective,Tr as ScrollEasing,Br as SkeletonShape,Ur as SliderMode,qr as SliderOrientation,Xe as SlottedDirective,x as SourceLifetime,E as Splice,L as SpliceStrategy,T as SpliceStrategySupport,Ut as StartEnd,ge as StatelessAttachedAttributeDirective,b as SubscriberSet,aa as TabsOrientation,pa as TextAreaResize,ar as TextFieldType,va as ToolbarOrientation,wa as TooltipPlacement,g as Updates,ki as VerticalPosition,Ve as ViewTemplate,Wi as WeekdayFormat,Yi as YearFormat,Gt as accordionItemTemplate,ai as accordionTemplate,ci as anchorTemplate,Ti as anchoredRegionTemplate,si as applyMixins,rt as attr,Si as avatarTemplate,Ai as badgeTemplate,tt as booleanConverter,Di as breadcrumbItemTemplate,Fi as breadcrumbTemplate,Ui as buttonTemplate,es as calendarCellTemplate,ts as calendarRowTemplate,ns as calendarTemplate,Zi as calendarTitleTemplate,Ji as calendarWeekdayTemplate,os as cardTemplate,as as checkboxTemplate,Je as children,wn as comboboxTemplate,ne as css,Q as cssDirective,kt as customElement,Da as darkModeStylesheetBehavior,Fn as dataGridCellTemplate,Dn as dataGridRowTemplate,Cn as dataGridTemplate,no as dialogTemplate,Ma as disabledCursor,ko as disclosureTemplate,Pa as display,So as dividerTemplate,Ge as elements,a as emptyArray,Kt as endSlotTemplate,Ao as flipperTemplate,Ha as focusVisible,Ra as forcedColorsStylesheetBehavior,yi as getDirection,Va as hidden,Or as horizontalScrollTemplate,Pe as html,ve as htmlDirective,is as interactiveCalendarGridTemplate,cn as isListboxOption,Ia as isTreeItemElement,H as lengthOf,La as lightModeStylesheetBehavior,Lo as listboxOptionTemplate,Mo as listboxTemplate,_ as listener,er as menuItemTemplate,ir as menuTemplate,ss as noninteractiveCalendarTemplate,U as normalizeBinding,it as nullableBooleanConverter,nt as nullableNumberConverter,nr as numberFieldTemplate,C as observable,q as oneTime,B as oneWay,Ho as pickerListItemTemplate,zo as pickerListTemplate,jo as pickerMenuOptionTemplate,Uo as pickerMenuTemplate,Qo as pickerTemplate,fr as progressRingTemplate,gr as progressTemplate,yr as radioGroupTemplate,wr as radioTemplate,Ne as ref,$o as reflectAttributes,Ke as repeat,Jo as roleForMenuItem,Ar as searchTemplate,Nr as selectTemplate,zr as skeletonTemplate,jr as sliderLabelTemplate,Zr as sliderTemplate,Qe as slotted,Wt as startSlotTemplate,zt as staticallyCompose,Vi as supportsElementInternals,Jr as switchTemplate,sa as tabPanelTemplate,oa as tabTemplate,la as tabsTemplate,Bt as tagFor,ha as textAreaTemplate,fa as textFieldTemplate,ga as toolbarTemplate,$a as tooltipTemplate,ka as treeItemTemplate,Ta as treeViewTemplate,$ as volatile,ze as when,xr as whitespaceFilter};
